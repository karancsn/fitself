/*! For license information please see 567.a6c3bed45c8e419583af.js.LICENSE.txt */
(self.webpackChunkfitself=self.webpackChunkfitself||[]).push([[567],{3875:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CalendarUtils:()=>l,DateTimeUtils:()=>H,NativeDateTimeConstants:()=>c,NativeParserImpl:()=>U,formatWithYearFormat:()=>W,getFormatParse:()=>ie,getISODateOffset:()=>u,normalizeIsoString:()=>Y});class n extends Error{constructor(e,t){super(e),Object.setPrototypeOf(this,n.prototype),this.cause=t?.cause}}var o=i(5840),s=i(8930);const a=(0,s._)((function(e,t){for(var i={},n=0;n<e.length;)e[n]in t&&(i[e[n]]=t[e[n]]),n+=1;return i}))(["error","warn","info","log"],console);var r=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,i){return t.apply(this,arguments)};case 3:return function(e,i,n){return t.apply(this,arguments)};case 4:return function(e,i,n,o){return t.apply(this,arguments)};case 5:return function(e,i,n,o,s){return t.apply(this,arguments)};case 6:return function(e,i,n,o,s,a){return t.apply(this,arguments)};case 7:return function(e,i,n,o,s,a,r){return t.apply(this,arguments)};case 8:return function(e,i,n,o,s,a,r,l){return t.apply(this,arguments)};case 9:return function(e,i,n,o,s,a,r,l,_){return t.apply(this,arguments)};case 10:return function(e,i,n,o,s,a,r,l,_,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}};class l{static _getDayPeriods(e,t){const i=new Date(2019,0,1,0,0,0);function n(e){const t=e.formatToParts(i).find((e=>"dayPeriod"===e.type));return t?t.value:""}const o=l.getFormatterLocale(e,t),s=new Intl.DateTimeFormat(o,{hour:"numeric",hour12:!0}),a=n(s);return i.setHours(20),{format:{wide:{am:a,pm:n(s)}}}}static getFormatterLocale(e,t){return e+"-u-ca-"+t}static _getEras(e,t){const i=[{era:"0",start:"2000-02-11T00:00:00"}],n={eraNarrow:{0:"",1:""},eraAbbr:{0:"",1:""},eraName:{0:"",1:""}};function o(e,t){const i=e.formatToParts(t).find((e=>"era"===e.type));return i?i.value:""}const s=["narrow","short","long"],a=l.getFormatterLocale(e,t),r={narrow:"eraNarrow",short:"eraAbbr",long:"eraName"};for(let e=0;e<i.length;e++){const t=new Date(i[e].start);for(let e=0;e<s.length;e++){const i=s[e],l={year:"numeric",month:"numeric",day:"numeric",era:i},_=o(new Intl.DateTimeFormat(a,l),t),u={0:_,1:_};n[r[i]]=u}}return n}static _fillMonthAndDays(e,t,i,n,o){const s=[[2020,0,5],[2020,1,3],[2020,2,3],[2020,3,1],[2020,4,7],[2020,5,5],[2020,6,4],[2020,7,1],[2020,8,1],[2020,9,1],[2020,10,1],[2020,11,1]];function a(e){const t=e.find((e=>"month"===e.type));return t?t.value:null}function r(e){const t=e.find((e=>"weekday"===e.type));return t?t.value:null}const _=l.getFormatterLocale(e,t),u=new Intl.DateTimeFormat(_,n),h={},d={};for(let e=0;e<s.length;e++){const t=e+1,n=l._weekdaysFormatMap[t],_=new Date(s[e][0],s[e][1],s[e][2]),c=u.formatToParts(_);let p,S;o?(p=u.format(_),S=u.format(_)):(p=a(c),S=r(c)),void 0===h[i]&&(h[i]={}),h[i][t]=p,t<=7&&(void 0===d[i]&&(d[i]={}),d[i][n]=S)}return{monthFormat:h,dayFormat:d}}static _getFormatMonthAndDays(e,t){const i=[],n=[],o=["short","narrow","long"];for(let s=0;s<o.length;s++){const a={month:o[s],weekday:o[s],year:"numeric",day:"numeric"},r=l._monthNamesFormatMap[o[s]],_=l._fillMonthAndDays(e,t,r,a,!1);i[s]=_.monthFormat,n[s]=_.dayFormat}const s=Object.assign({},...i),a=Object.assign({},...n),r={};r.format=s;const _={};return _.format=a,r["stand-alone"]=r.format,_["stand-alone"]=_.format,{monthsNode:r,daysNode:_}}static _getStandAloneDays(e,t){const i=[],n=["short","narrow","long"];for(let o=0;o<n.length;o++){const s={weekday:n[o]},a=l._monthNamesFormatMap[n[o]],r=l._fillMonthAndDays(e,t,a,s,!0);i[o]=r.dayFormat}const o=Object.assign({},...i),s={"stand-alone":{}};return s["stand-alone"]=o,{daysNode:s}}static _getStandAloneMonths(e,t){const i=[],n=["short","narrow","long"];for(let o=0;o<n.length;o++){const s={month:n[o]},a=l._monthNamesFormatMap[n[o]],r=l._fillMonthAndDays(e,t,a,s,!0);i[o]=r.monthFormat}const o=Object.assign({},...i),s={"stand-alone":{}};return s["stand-alone"]=o,{monthsNode:s}}static getCalendar(e,t){if(l.calendars=l.calendars??{},l.calendars[e]=l.calendars[e]??{},void 0===l.calendars[e][t]){const i=l._getDayPeriods(e,t),n=l._getEras(e,t);let o,s;const a=l._getStandAloneMonths(e,t),r=l._getStandAloneDays(e,t);if(l.exceptionLocales.includes(e))o=a.monthsNode["stand-alone"],s=r.daysNode["stand-alone"];else{const i=l._getFormatMonthAndDays(e,t);o=i.monthsNode.format,s=i.daysNode.format}const _={format:o,"stand-alone":a.monthsNode["stand-alone"]},u={format:s,"stand-alone":r.daysNode["stand-alone"]};l.calendars[e][t]={dayPeriods:i,months:_,days:u,eras:n,locale:e}}return l.calendars[e][t]}}l._monthNamesFormatMap={short:"abbreviated",narrow:"narrow",long:"wide"},l._weekdaysFormatMap={1:"sun",2:"mon",3:"tue",4:"wed",5:"thu",6:"fri",7:"sat"},l.exceptionLocales=["ja","ja-JP","zh","zh-Hans","zh-Hans-CN","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hant","zh-Hant-HK","zh-Hant-MO","zh-Hant-TW"];const _=new Map;function u(e,t){const i=new Date(Date.UTC(e.year,e.month-1,e.date,e.hours,e.minutes)),n=function(e,t){let i=60*e.hours+e.minutes,n=60*t.hours+t.minutes,o=e.year-t.year;return 0==o&&(o=e.month-t.month,0===o&&(o=e.date-t.date)),o>0?i+=1440:o<0&&(n+=1440),n-i}(e,h(i,t));let o=0;return i.setTime(i.getTime()-6e4*n),d(h(i,t),e)||(o=-60,i.setTime(i.getTime()+36e5),d(h(i,t),e)||(o=60,i.setTime(i.getTime()-72e5))),n+o}function h(e,t){const i=function(e){let t=_.get(e);return t||(t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZone:e}),_.set(e,t)),t}(t).format(e),[n,o]=i.split(","),[s,a,r]=n.split("/"),[l,u]=o.trim().split(":");return{year:parseInt(r),month:parseInt(s),date:parseInt(a),hours:parseInt(l),minutes:parseInt(u)}}function d(e,t){return e.year===t.year&&e.month===t.month&&e.hours===t.hours&&e.minutes===t.minutes}class c{}c._YEAR_AND_DATE_REGEXP=/(\d{1,4})\D+?(\d{1,4})/g,c._YMD_REGEXP=/(\d{1,4})\D+?(\d{1,4})\D+?(\d{1,4})/g,c._TIME_REGEXP=/(\d{1,2})(?:\D(\d{1,2}))?(?:\D(\d{1,2}))?(?:\D(\d{1,3}))?/g,c._TIME_FORMAT_REGEXP=/h|H|K|k/g,c._YEAR_REGEXP=/y{1,4}/,c._MONTH_REGEXP=/M{1,5}/,c._DAY_REGEXP=/d{1,2}/,c._WEEK_DAY_REGEXP=/E{1,5}/,c._HOUR_REGEXP=/h{1,2}|k{1,2}/i,c._MINUTE_REGEXP=/m{1,2}/,c._SECOND_REGEXP=/s{1,2}/,c._FRACTIONAL_SECOND_REGEXP=/S{1,3}/,c._AMPM_REGEXP=/a{1,2}/,c._WORD_REGEXP="(\\D+?\\s*)",c._ESCAPE_REGEXP=/([\^$.*+?|\[\](){}])/g,c._TOKEN_REGEXP=/ccccc|cccc|ccc|cc|c|EEEEE|EEEE|EEE|EE|E|dd|d|MMMMM|MMMM|MMM|MM|M|LLLLL|LLLL|LLL|LL|L|yyyy|yy|y|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|aa|a|SSS|SS|S|zzzz|zzz|zz|z|v|ZZZ|ZZ|Z|XXX|XX|X|VV|GGGGG|GGGG|GGG|GG|G/g,c._ZULU="zulu",c._LOCAL="local",c._AUTO="auto",c._INVARIANT="invariant",c._OFFSET="offset",c._ALNUM_REGEXP="(\\D+|\\d\\d?\\D|\\d\\d?|\\D+\\d\\d?)",c._NON_DIGIT_REGEXP="(\\D+|\\D+\\d\\d?)",c._NON_DIGIT_OPT_REGEXP="(\\D*)",c._STR_REGEXP="(.+?)",c._TWO_DIGITS_REGEXP="(\\d\\d?)",c._THREE_DIGITS_REGEXP="(\\d{1,3})",c._FOUR_DIGITS_REGEXP="(\\d{1,4})",c._SLASH_REGEXP="(\\/)",c._PROPERTIES_MAP={MMM:{token:"months",style:"format",mLen:"abbreviated",matchIndex:0,key:"month",value:"short",regExp:c._ALNUM_REGEXP},MMMM:{token:"months",style:"format",mLen:"wide",matchIndex:0,key:"month",value:"long",regExp:c._ALNUM_REGEXP},MMMMM:{token:"months",style:"format",mLen:"narrow",matchIndex:0,key:"month",value:"narrow",regExp:c._ALNUM_REGEXP},LLL:{token:"months",style:"stand-alone",mLen:"abbreviated",matchIndex:1,key:"month",value:"short",regExp:c._ALNUM_REGEXP},LLLL:{token:"months",style:"stand-alone",mLen:"wide",matchIndex:1,key:"month",value:"long",regExp:c._ALNUM_REGEXP},LLLLL:{token:"months",style:"stand-alone",mLen:"narrow",matchIndex:1,key:"month",value:"narrow",regExp:c._ALNUM_REGEXP},E:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:c._NON_DIGIT_REGEXP},EE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:c._NON_DIGIT_REGEXP},EEE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:c._NON_DIGIT_REGEXP},EEEE:{token:"days",style:"format",dLen:"wide",matchIndex:0,key:"weekday",value:"long",regExp:c._NON_DIGIT_REGEXP},EEEEE:{token:"days",style:"format",dLen:"narrow",matchIndex:0,key:"weekday",value:"narrow",regExp:c._NON_DIGIT_REGEXP},c:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:c._NON_DIGIT_REGEXP},cc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:c._NON_DIGIT_REGEXP},ccc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:c._NON_DIGIT_REGEXP},cccc:{token:"days",style:"stand-alone",dLen:"wide",matchIndex:1,key:"weekday",value:"long",regExp:c._NON_DIGIT_REGEXP},ccccc:{token:"days",style:"stand-alone",dLen:"narrow",matchIndex:1,key:"weekday",value:"narrow",regExp:c._NON_DIGIT_REGEXP},h:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"numeric",regExp:c._TWO_DIGITS_REGEXP},hh:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"2-digit",regExp:c._TWO_DIGITS_REGEXP},K:{token:"time",timePart:"hour",start1:0,end1:12,start2:0,end2:12,key:"hour",value:"numeric",regExp:c._TWO_DIGITS_REGEXP},KK:{token:"time",timePart:"hour",start1:0,end1:12,start2:0,end2:12,key:"hour",value:"2-digit",regExp:c._TWO_DIGITS_REGEXP},H:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"numeric",regExp:c._TWO_DIGITS_REGEXP},HH:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"2-digit",regExp:c._TWO_DIGITS_REGEXP},k:{token:"time",timePart:"hour",start1:0,end1:24,start2:0,end2:24,key:"hour",value:"numeric",regExp:c._TWO_DIGITS_REGEXP},kk:{token:"time",timePart:"hour",start1:0,end1:24,start2:0,end2:24,key:"hour",value:"2-digit",regExp:c._TWO_DIGITS_REGEXP},m:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"numeric",regExp:c._TWO_DIGITS_REGEXP},mm:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"2-digit",regExp:c._TWO_DIGITS_REGEXP},s:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"numeric",regExp:c._TWO_DIGITS_REGEXP},ss:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"2-digit",regExp:c._TWO_DIGITS_REGEXP},S:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:c._THREE_DIGITS_REGEXP},SS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:c._THREE_DIGITS_REGEXP},SSS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:c._THREE_DIGITS_REGEXP},d:{token:"dayOfMonth",key:"day",value:"numeric",getPartIdx:2,regExp:c._TWO_DIGITS_REGEXP},dd:{token:"dayOfMonth",key:"day",value:"2-digit",getPartIdx:2,regExp:c._TWO_DIGITS_REGEXP},M:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:c._TWO_DIGITS_REGEXP},MM:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:c._TWO_DIGITS_REGEXP},L:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:c._TWO_DIGITS_REGEXP},LL:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:c._TWO_DIGITS_REGEXP},y:{token:"year",key:"year",value:"numeric",regExp:c._FOUR_DIGITS_REGEXP},yy:{token:"year",key:"year",value:"2-digit",regExp:c._TWO_DIGITS_REGEXP},yyyy:{token:"year",key:"year",value:"numeric",regExp:c._FOUR_DIGITS_REGEXP},a:{token:"ampm",key:"dayPeriod",value:void 0,regExp:c._WORD_REGEXP},z:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:c._STR_REGEXP},v:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:c._STR_REGEXP},zz:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:c._STR_REGEXP},zzz:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:c._STR_REGEXP},zzzz:{token:"tzFull",key:"timeZoneName",value:"long",regExp:c._STR_REGEXP},Z:{token:"tzhm",key:"tzhm",value:"short",regExp:c._STR_REGEXP,type:"tzOffset"},ZZ:{token:"tzhm",key:"tzhm",value:"short",regExp:c._STR_REGEXP,type:"tzOffset"},ZZZ:{token:"tzhm",key:"tzhm",value:"short",regExp:c._STR_REGEXP,type:"tzOffset"},X:{token:"tzh",key:"tzh",value:"short",regExp:c._STR_REGEXP,type:"tzOffset"},XX:{token:"tzhm",key:"tzhm",value:"short",regExp:c._STR_REGEXP,type:"tzOffset"},XXX:{token:"tzhsepm",key:"tzhsepm",value:"short",regExp:c._STR_REGEXP,type:"tzOffset"},VV:{token:"tzid",key:"tzid",value:"short",regExp:c._STR_REGEXP,type:"tzOffset"},G:{token:"era",key:"era",value:"eraAbbr",regExp:c._NON_DIGIT_REGEXP},GG:{token:"era",key:"era",value:"eraAbbr",regExp:c._NON_DIGIT_REGEXP},GGG:{token:"era",key:"era",value:"eraAbbr",regExp:c._NON_DIGIT_REGEXP},GGGG:{token:"era",key:"era",value:"eraName",regExp:c._NON_DIGIT_REGEXP},GGGGG:{token:"era",key:"era",value:"eraNarrow",regExp:c._NON_DIGIT_REGEXP},"/":{token:"slash",regExp:c._SLASH_REGEXP}},c.FRACTIONAL_SECOND_MAP={a:{key:"dayPeriod",token:"dayPeriod",value:"narrow"},SSS:{key:"fractionalSecondDigits",token:"fractionalSecond",value:3},SS:{key:"fractionalSecondDigits",token:"fractionalSecond",value:2},S:{key:"fractionalSecondDigits",token:"fractionalSecond",value:1}},c._tokenMap={era:{short:"GGG",long:"GGGG",narrow:"GGGGG"},month:{short:"MMM",long:"MMMM",narrow:"MMMMM",numeric:"M","2-digit":"MM"},weekday:{short:"EEE",long:"EEEE",narrow:"EEEEE"},year:{numeric:"y","2-digit":"yy"},day:{numeric:"d","2-digit":"dd"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},fractionalSecond:{1:"S",2:"SS",3:"SSS"},timeZoneName:{short:"z",long:"zzzz"}},c._dateTimeFormats={dateStyle:{full:{year:"y",month_s:"MM",month_m:"MMMM",weekday:"EEEE",day:"d"},long:{year:"y",month_s:"MM",month_m:"MMMM",day:"d"},medium:{year:"y",month_s:"MM",month_m:"MMM",day:"d"},short:{year:"y",month_s:"M",month_m:"MMM",day:"d"}},timeStyle:{full:{hour:"h",minute:"mm",second:"ss",timeZoneName:"zzzz"},long:{hour:"h",minute:"mm",second:"ss",timeZoneName:"z"},medium:{hour:"h",minute:"mm",second:"ss"},short:{hour:"h",minute:"mm"}}},c._ALPHA_REGEXP=/([a-zA-Z]+)/,c._HOUR12_REGEXP=/h/g,c._hourCycleMap={h12:"h",h23:"H",h11:"K",h24:"k"},c._zh_tw_locales=["zh-TW","zh-Hant","zh-Hant-TW"],c._zh_tw_pm_symbols=["中午","下午","晚上"];const p=/^\s+|\s+$|\u200f|\u200e/g,S=/\s+|\u200f|\u200e/g,g=/0+$/g,m=["0","00","000"],f=/^[+-]?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?)?$|^T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?$/,E=/^[+-]?\d{4}-\d{2}-\d{2}$/;function C(e,t){return 0===e.indexOf(t)}function T(e){return(e+"").replace(p,"")}function y(e){return(e+"").replace(g,"")}function b(e){return(e+"").replace(S,"")}function A(e){return e.split(" ").join(" ").toUpperCase()}function v(e,t){let i=e+"",n=!1;return e<0&&(i=i.substr(1),n=!0),t>1&&i.length<t&&(i=m[t-2]+i,i=i.substr(i.length-t,t)),n&&(i="-"+i),i}function R(e,t,i){let n=""+e;for(let e=n.length;e<t;e+=1)n=i?"0"+n:n+"0";return n}function L(e,t,i,n,o){throw new RangeError("The string "+e+" is not a valid ISO 8601 string: "+i+" is out of range.  Enter a value between "+n+" and "+o+" for "+t,{cause:{code:"isoStringOutOfRange",parameterMap:{isoStr:e,value:i,minValue:n,maxValue:o,propertyName:t}}})}function O(e){throw new Error("The string "+e+" is not a valid ISO 8601 string syntax.",{cause:{code:"invalidISOString",parameterMap:{isoStr:e}}})}function I(e){let t=e;"number"==typeof t&&(t=new Date(t));let i=v(t.getFullYear(),4)+"-"+v(t.getMonth()+1,2)+"-"+v(t.getDate(),2)+"T"+v(t.getHours(),2)+":"+v(t.getMinutes(),2)+":"+v(t.getSeconds(),2);return t.getMilliseconds()>0&&(i+="."+y(v(t.getMilliseconds(),3))),i}function D(e){return e%400==0||e%100!=0&&e%4==0}function w(e,t){switch(t){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return D(e)?29:28;default:return 30}}function N(e){!1===f.test(e)&&O(e);const t=e.split("T"),i=e.indexOf("T"),n=new Date;let o,s=!1;const a=[n.getFullYear(),n.getMonth()+1,n.getDate(),0,0,0,0];if(""!==t[0]){C(t[0],"-")&&(t[0]=t[0].slice(1),s=!0);const i=t[0].split("-");for(o=0;o<i.length;o++){const t=parseInt(i[o],10);if(1===o&&(t<1||t>12)&&L(e,"month",t,1,12),2===o){const i=w(a[0],a[1]-1);(t<1||t>i)&&L(e,"day",t,1,i)}a[o]=t}s&&(a[0]=-a[0])}if(-1!==i){const i=t[1].split("."),n=i[0].split(":");for(o=0;o<n.length;o++){const t=parseInt(n[o],10);0===o&&(t<0||t>24)&&L(e,"hour",t,0,24),1===o&&(t<0||t>59)&&L(e,"minute",t,0,59),2===o&&(t<0||t>59)&&L(e,"second",t,0,59),a[3+o]=t}2===i.length&&i[1]&&(a[6]=parseInt(R(i[1],3,!1),10))}return a}function P(e,t){if(void 0===e)throw new Error("Internal "+t+" error. Default options missing.");return function(i,n,o,s){if(void 0!==e[i]){let s=e[i];switch(n){case"boolean":s=function(e){if("string"==typeof e)switch(e.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":return!1;default:return e}return e}(s);break;case"string":s=String(s);break;case"number":s=Number(s);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==o&&-1===o.indexOf(s)){const n=[];for(let e=0;e<o.length;e++)n.push(o[e]);const s="The value '"+e[i]+"' is out of range for '"+t+"' options property '"+i+"'. Valid values: "+n,a=new RangeError(s),r={errorCode:"optionOutOfRange",parameterMap:{propertyName:i,propertyValue:e[i],propertyValueValid:n,caller:t}};throw a.errorInfo=r,a}return s}return s}}function M(e){let t=v(e[0],4)+"-"+v(e[1],2)+"-"+v(e[2],2)+"T"+v(e[3],2)+":"+v(e[4],2)+":"+v(e[5],2);return e[6]>0&&(t+="."+y(v(e[6],3))),t}function B(e){return e&&"string"==typeof e?function(e){const t=N(e),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5],t[6]);return i.setFullYear(t[0]),i}(e):null}function x(e){const t={format:null,dateTime:null,timeZone:"",isoStrParts:null},i=f.exec(e);if(null===i&&O(e),i&&void 0===i[1]&&void 0===i[2])return t.format="local",t.dateTime=e,t.isoStrParts=N(t.dateTime),t;t.timeZone=void 0!==i[1]?i[1]:i[2],"Z"===t.timeZone?t.format="zulu":t.format="offset";const n=e.length,o=t.timeZone.length;return t.dateTime=e.substring(0,n-o),t.isoStrParts=N(t.dateTime),t}function F(e,t,i,n){const o=i?t>0:t<0,s=Math.abs(t);let a=Math.floor(s/60);const r=s%60,l=o?"-":"+";n&&(a=R(a,2,!0));let _=e+l+a;return(r>0||n)&&(_+=":"+R(r,2,!0)),_}var H={__proto__:null,_ISO_DATE_REGEXP:f,isDateOnlyIsoString:function(e){return null==e||e.trim().length>0&&E.test(e.trim())},startsWith:C,trim:T,trimRightZeros:y,trimNumber:b,toUpper:A,padZeros:v,zeroPad:R,dateToLocalIso:I,isLeapYear:D,getDaysInMonth:w,IsoStrParts:N,getGetOption:P,partsToIsoString:M,isoToLocalDate:B,getISOStrFormatInfo:x,getTimeStringFromOffset:F};let j=null;class U{static parseImpl(e,t,i,n){let o,s=0,a="",r=null;return!0===f.test(e)?(a=e,s=this._isoStrDateTimeStyle(e)):(s=this._dateTimeStyle(i),o=this._parseExact(e,t,i,n),a=o.value),r=x(a),void 0!==i.timeZone&&r.format!==c._LOCAL&&this._adjustHours(r,i),a=this._createParseISOStringFromDate(s,r,i),void 0===o?o={value:a,warning:null}:(o.value=a,o.warning=null),2===s&&(i.isoStrFormat,c._LOCAL),o}static _appendPreOrPostMatch(e,t){let i=0,n=!1;for(let o=0,s=e.length;o<s;o++){const s=e.charAt(o);switch(s){case"'":n?t.push("'"):i+=1,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(s),n=!1}}return i}static _validateRange(e){if(e.value<e.low||e.value>e.high){const t=e.displayValue+" is out of range.  Enter a value between "+e.displayLow+" and "+e.displayHigh+" for "+e.name,i={cause:{code:"datetimeOutOfRange",parameterMap:{value:e.displayValue,minValue:e.displayLow,maxValue:e.displayHigh,propertyName:e.name}}};throw new RangeError(t,i)}}static _throwInvalidDateFormat(e,t,i){const n=void 0!==t.year||void 0!==t.month||void 0!==t.weekday||void 0!==t.day,o=void 0!==t.hour||void 0!==t.minute||void 0!==t.second;let s="";throw s=n&&o?"MM/dd/yy hh:mm:ss a":n?"MM/dd/yy":"hh:mm:ss a",new SyntaxError("Unexpected character(s) "+i+' encountered in the pattern "'+e+' An example of a valid pattern is "'+s+'".',{cause:{code:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e}}})}static _throwWeekdayMismatch(e,t){throw new n("The weekday "+e+" does not match the date "+t,{cause:{code:"dateToWeekdayMismatch",parameterMap:{weekday:e,date:t}}})}static _throwDateFormatMismatch(e,t,i){let o="",s="";throw 2===i?(o='The value "'+e+'" does not match the expected date-time format "'+t+'"',s="datetimeFormatMismatch"):0===i?(o='The value "'+e+'" does not match the expected date format "'+t+'"',s="dateFormatMismatch"):(o='The value "'+e+'" does not match the expected time format "'+t+'"',s="timeFormatMismatch"),new n(o,{cause:{code:s,parameterMap:{value:e,format:t}}})}static _parseTimezoneOffset(e){const t=e.split(":"),i=new Array(2);return 2===t.length?(i[0]=parseInt(t[0],10),i[1]=parseInt(t[1],10)):2===e.length||3===e.length?(i[0]=parseInt(e,10),i[1]=0):(i[0]=parseInt(e.substr(0,3),10),i[1]=parseInt(e.substr(3),10)),i}static _expandYear(e,t){if((t=Number(t))<100){const i=e%100;t+=100*Math.floor(e/100)+(t<i?100:0)}return t}static _arrayIndexOfMonthOrDay(e,t,i){const n=U.toUpperTrimmedNoPeriod(t),o=Object.keys(e);for(let t=0;t<o.length;t++){const s=e[o[t]],a=U.toUpperTrimmedNoPeriod(s);if(n===a)return t;if("months"===i){const e=Number(n),i=parseInt(a);if(Number.isInteger(i)&&Number.isInteger(e)&&i===e)return t}}return-1}static toUpperTrimmedNoPeriod(e){let t=A(e);return t=T(t),t=t.replace(/\.$/,""),t}static _getDayIndex(e,t){let i=0,n=[];const o=e.days.format,s=e.days["stand-alone"];n=[o.abbreviated,o.wide,s.abbreviated,s.wide];for(let e=0;e<n.length;e++)if(i=this._arrayIndexOfMonthOrDay(n[e],t,"days"),-1!==i)return i;return i}static _getMonthIndex(e,t){let i=-1;const n=e.months.format,o=e.months["stand-alone"],s=[n.wide,n.abbreviated,o.wide,o.abbreviated];for(let e=0;e<s.length;e++)if(i=this._arrayIndexOfMonthOrDay(s[e],t,"months"),-1!==i)return i;return i}static _getParseRegExp(e,t){const i=e.replace(c._ESCAPE_REGEXP,"\\\\$1"),n=["^"],o=[];let s=0,a=0,r=c._TOKEN_REGEXP.exec(i);for(;null!==r;){const l=i.slice(s,r.index);if(s=c._TOKEN_REGEXP.lastIndex,a+=this._appendPreOrPostMatch(l,n),a%2)n.push(r[0]);else{const i=r[0];let s="";void 0!==c._PROPERTIES_MAP[i]?s=c._PROPERTIES_MAP[i].regExp:this._throwInvalidDateFormat(e,t,i),s&&n.push(s),o.push(r[0])}r=c._TOKEN_REGEXP.exec(i)}return this._appendPreOrPostMatch(i.slice(s),n),n.push("$"),{regExp:n.join("").replace(/\s+/g,"\\s+"),groups:o}}static _getTokenIndex(e,t){for(let i=0;i<e.length;i++)if(void 0!==e[i][t])return i;return 0}static _parseLenienthms(e,t,i,n,o){c._TIME_REGEXP.lastIndex=0;let s,a,r=0,l=0,_=0,u=0,h=c._TIME_REGEXP.exec(t);switch(null===h&&this._throwDateFormatMismatch(t,i,n),void 0!==h[1]&&(r=parseInt(h[1],10)),void 0!==h[2]&&(l=parseInt(h[2],10)),void 0!==h[3]&&(_=parseInt(h[3],10)),void 0!==h[4]&&(u=parseInt(h[4],10)),c._TIME_FORMAT_REGEXP.lastIndex=0,h=c._TIME_FORMAT_REGEXP.exec(i),h[0]){case"h":12===r&&(r=0),a={name:"hour",value:r,low:0,high:11,displayValue:r,displayLow:1,displayHigh:12},this._validateRange(a),s=this._matchPMSymbol(o,t),s&&r<12&&(r+=12);break;case"K":a={name:"hour",value:r,low:0,high:11,displayValue:r,displayLow:0,displayHigh:11},this._validateRange(a),s=this._matchPMSymbol(o,t),s&&r<12&&(r+=12);break;case"H":a={name:"hour",value:r,low:0,high:23,displayValue:r,displayLow:0,displayHigh:23},this._validateRange(a);break;case"k":24===r&&(r=0),a={name:"hour",value:r,low:0,high:23,displayValue:r,displayLow:1,displayHigh:24}}a={name:"minute",value:l,low:0,high:59,displayValue:l,displayLow:0,displayHigh:59},this._validateRange(a),a={name:"second",value:_,low:0,high:59,displayValue:_,displayLow:0,displayHigh:59},this._validateRange(a),a={name:"farctionalSecond",value:u,low:0,high:999,displayValue:u,displayLow:0,displayHigh:999},this._validateRange(a),e.setHours(r,l,_,u)}static _getWeekdayName(e,t){const i=t.days.format,n=t.days["stand-alone"],o=[i.wide,i.abbreviated,n.wide,n.abbreviated];for(let t=0;t<o.length;t++){const i=Object.keys(o[t]);for(let n=0;n<i.length;n++){const s=o[t][i[n]];if(new RegExp(s+"\\b","i").test(e))return s}}return null}static _parseLenientyMEd(e,t,i,n,o){c._YMD_REGEXP.lastIndex=0;const s=c._YMD_REGEXP.exec(e);let a=0;null===s&&(a=o?2:0,this._throwDateFormatMismatch(e,t,a));const r=[{y:t.indexOf("y")},{M:t.indexOf("M")},{d:t.indexOf("d")}];r.sort((function(e,t){const i=Object.keys(e)[0],n=Object.keys(t)[0];return e[i]-t[n]}));let l=0,_=0,u=0,h=0,d=0,p=0;const S=this._getTokenIndex(r,"d");let g=!1,m=!1;for(p=1;p<=3;p++){const e=s[p],t=parseInt(e);(e.length>2||t>31)&&(l=t,g=!0,h=p-1)}for(g||(h=this._getTokenIndex(r,"y"),l=s[this._getTokenIndex(r,"y")+1]),p=0;p<3;p++)if(p!==h&&s[p+1]>12){u=s[p+1],m=!0,d=p;break}if(m){for(p=0;p<3;p++)if(p!==d&&p!==h){_=s[p+1];break}void 0===_&&(_=s[this._getTokenIndex(r,"M")+1])}else h===this._getTokenIndex(r,"d")?(u=s[this._getTokenIndex(r,"y")+1],_=s[this._getTokenIndex(r,"M")+1]):h===this._getTokenIndex(r,"M")?(u=s[this._getTokenIndex(r,"d")+1],_=s[this._getTokenIndex(r,"y")+1]):(u=s[this._getTokenIndex(r,"d")+1],_=s[this._getTokenIndex(r,"M")+1]);_-=1;const f=w(l,_);let E;m&&S!==d&&_>12&&(E={name:"month",value:u,low:0,high:11,displayValue:u,displayLow:1,displayHigh:12},this._validateRange(E)),E={name:"month",value:_,low:0,high:11,displayValue:_+1,displayLow:1,displayHigh:12},this._validateRange(E),E={name:"day",value:u,low:1,high:f,displayValue:u,displayLow:1,displayHigh:f},this._validateRange(E);const C=i.twoDigitYearStart||1950;l=this._expandYear(C,l),E={name:"year",value:l,low:0,high:9999,displayValue:l,displayLow:0,displayHigh:9999},this._validateRange(E);const T=new Date(l,_,u),y=this._getWeekdayName(e,n);if(null!==y){const e=this._getDayIndex(n,y);T.getDay()!==e&&this._throwWeekdayMismatch(y,T.getDate())}if(o){const i=e.substr(c._YMD_REGEXP.lastIndex);0===i.length?T.setHours(0,0,0,0):this._parseLenienthms(T,i,t,2,n)}return{value:I(T),warning:"lenient parsing was used"}}static _parseLenientyMMMEd(e,t,i,n,o){const s=e;e=A(e);const a=n.months.format,r=n.months["stand-alone"],l=[a.wide,a.abbreviated,r.wide,r.abbreviated];let _=!1,u=[],h=0,d="";for(h=0;h<l.length;h++){u=[];const t=Object.keys(l[h]);let i=0;for(i=0;i<t.length;i++)d=A(l[h][t[i]]),u.unshift({idx:i,name:d});for(u.sort((function(e,t){return t.idx-e.idx})),i=0;i<u.length;i++)if(d=u[i].name,-1!==e.indexOf(d)){_=!0,e=e.replace(d,"");break}if(_)break}if(!_)return this._parseLenientyMEd(s,t,i,n,o);const p=this._getMonthIndex(n,d);let S={name:"month",value:p,low:0,high:11,displayValue:p,displayLow:1,displayHigh:12};this._validateRange(S);const g=this._getWeekdayName(s,n),m=new RegExp(g+"\\W","i");null!==g&&(e=e.replace(m,"")),c._YEAR_AND_DATE_REGEXP.lastIndex=0;const f=c._YEAR_AND_DATE_REGEXP.exec(e);if(null===f){const e=o?2:0;this._throwDateFormatMismatch(s,t,e)}const E=[{y:t.indexOf("y")},{d:t.indexOf("d")}];E.sort((function(e,t){const i=Object.keys(e)[0],n=Object.keys(t)[0];return e[i]-t[n]}));let C=0,T=0,y=0,b=!1;for(h=1;h<=2;h++){const e=f[h],t=parseInt(e);(e.length>2||t>31)&&(C=t,b=!0,y=h-1)}b||(y=this._getTokenIndex(E,"y"),C=parseInt(f[this._getTokenIndex(E,"y")+1],10)),T=y===this._getTokenIndex(E,"d")?parseInt(f[this._getTokenIndex(E,"y")+1],10):parseInt(f[this._getTokenIndex(E,"d")+1],10);const v=i.twoDigitYearStart||1950;C=this._expandYear(v,C),S={name:"year",value:C,low:0,high:9999,displayValue:C,displayLow:0,displayHigh:9999},this._validateRange(S);const R=new Date(C,p,T);if(null!==g){const e=this._getDayIndex(n,g);R.getDay()!==e&&this._throwWeekdayMismatch(g,R.getDate())}const L=w(C,p);if(S={name:"day",value:T,low:1,high:L,displayValue:T,displayLow:1,displayHigh:L},this._validateRange(S),o){const i=e.substr(c._YEAR_AND_DATE_REGEXP.lastIndex);0===i.length?R.setHours(0,0,0,0):this._parseLenienthms(R,i,t,2,n)}return{value:I(R),warning:"lenient parsing was used"}}static _parseLenient(e,t,i,n){let o;switch(this._dateTimeStyle(i)){case 0:o=this._parseLenientyMMMEd(e,t,i,n,!1);break;case 1:const s=new Date;this._parseLenienthms(s,e,t,1,n),o={value:I(s),warning:"lenient parsing was used"};break;case 2:o=this._parseLenientyMMMEd(e,t,i,n,!0);break;default:o={value:"",warning:"lenient parsing was used"}}const s=N(o.value),a=[s[0],s[1],s[2]],r=o.value.split("T");return o.value=v(a[0],4)+"-"+v(a[1],2)+"-"+v(a[2],2)+"T"+r[1],o}static _getNameIndex(e,t,i,n,o,s,a,r,l,_,u){let h=0;const d=e[t][o];h="months"===t?this._getMonthIndex(e,i):this._getDayIndex(e,i);const c=d[n][l],p=d[n][_],S={name:u,value:h,low:a,high:r,displayValue:parseInt(i),displayLow:c,displayHigh:p};return this._validateRange(S),h}static _validateTimePart(e,t,i,n){const o=t;o[i.timePart]=e,"h"===n||"hh"===n?12===e&&(o[i.timePart]=0):"k"===n||"kk"===n?(o.htoken=n,24===e&&(o[i.timePart]=0)):"K"!==n&&"KK"!==n||12===e&&(o[i.timePart]=0);const s={name:i.timePart,value:o[i.timePart],low:i.start1,high:i.end1,displayValue:e,displayLow:i.start2,displayHigh:i.end2};this._validateRange(s)}static _dateTimeStyle(e){const t=void 0!==e.hour||void 0!==e.minute||void 0!==e.second||void 0!==e.fractionalSecondDigits,i=void 0!==e.year||void 0!==e.month||void 0!==e.day||void 0!==e.weekday;return i&&t?2:t?1:i?0:void 0!==e.dateStyle&&void 0!==e.timeStyle?2:void 0!==e.timeStyle?1:0}static _matchPMSymbol(e,t){const i=e.locale;let n=!1,o=0;if(c._zh_tw_locales.includes(i)){const e=c._zh_tw_pm_symbols;for(o=0;o<e.length;o++){const i=e[o];if(-1!==t.indexOf(i))return!0}}else{const i=e.dayPeriods.format.wide.pm;n=-1!==A(t).indexOf(A(i))}return n}static _parseExact(e,t,i,n){const o=n.eras.eraAbbr[1],s=b(o);e=e.replace(o,s);const a=P(i,"NativeDateTimeConverter.parse")("lenientParse","string",["none","full"],"full"),r=this._dateTimeStyle(i),l=this._getParseRegExp(t,i),_=new RegExp(l.regExp).exec(e);if(null===_){if("full"===a)return this._parseLenient(e,t,i,n);this._throwDateFormatMismatch(e,t,r)}const u=l.groups;let h,d,p=null,S=null,g=null,m=null,f="",E=null,C="";const T={hour:0,minute:0,second:0,millisec:0,htoken:""},y=i.twoDigitYearStart||1950;for(let o=0,s=u.length;o<s;o++){const s=_[o+1];if(s){const r=u[o],l=parseInt(s,10),_=c._PROPERTIES_MAP[r];switch(_.token){case"months":S=this._getNameIndex(n,_.token,s,_.mLen,_.style,_.matchIndex,0,11,"1","12","month name");break;case"days":C=s,m=this._getNameIndex(n,_.token,s,_.dLen,_.style,_.matchIndex,0,6,"sun","sat","weekday");break;case"time":this._validateTimePart(l,T,_,r);break;case"dayOfMonth":g=l;break;case"monthIndex":if(S=l-1,S>11&&"full"===a)try{return this._parseLenient(e,t,i,n)}catch(e){d={name:"month",value:S,low:0,high:11,displayValue:S+1,displayLow:1,displayHigh:12},this._validateRange(d)}break;case"year":p=this._expandYear(y,l);break;case"ampm":h=this._matchPMSymbol(n,s);break;case"tzhm":f=s.substr(-2),f=s.substr(0,3)+":"+f;break;case"tzhsepm":f=s;break;case"tzh":f=s+":00";break;case"tzid":E=s}}}const A=new Date;null===p&&(p=A.getFullYear()),null===S&&null===g?(S=A.getMonth(),g=A.getDate()):null===g&&(g=1),A.setFullYear(p,S,g);const v=w(p,S);d={name:"day",value:g,low:1,high:v,displayValue:g,displayLow:1,displayHigh:v},this._validateRange(d),1==h&&T.hour<12&&(T.hour+=12),0!=h||12!=T.hour||"k"!=T.htoken&&"kk"!=T.htoken||(T.hour=0);const R=[p,S+1,g];R[3]=T.hour,R[4]=T.minute,R[5]=T.second,R[6]=T.millisec;let L=M(R);null!==E&&(f=F("",this._getTimeZoneOffset(R,E),!1,!0)),""!==f&&(L+=f),d={name:"year",value:p,low:0,high:9999,displayValue:p,displayLow:0,displayHigh:9999},this._validateRange(d),d={name:"month",value:S,low:0,high:11,displayValue:S+1,displayLow:1,displayHigh:12},this._validateRange(d);const O=w(R[0],R[1]-1);if(d={name:"day",value:R[2],low:1,high:O,displayValue:R[2],displayLow:1,displayHigh:O},this._validateRange(d),null!==m){const e=B(L);e&&e.getDay()!==m&&this._throwWeekdayMismatch(C,e.getDate())}return{value:L}}static _isoStrDateTimeStyle(e){const t=e.indexOf("T");return-1===t?0:t>0?2:1}static _getTimeZoneOffset(e,t){return this.getLocalSystemTimeZone()===t?-new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]).getTimezoneOffset():u({year:e[0],month:e[1],date:e[2],hours:e[3],minutes:e[4]},t)}static _getAdjustedOffset(e,t){const i=t.isoStrParts;return this._getTimeZoneOffset(i,e)}static _adjustHours(e,t){const i=e.isoStrParts;let n=0;switch(e.format){case c._OFFSET:const t=this._parseTimezoneOffset(e.timeZone),i=t[0],o=t[1];n=60*i+(i<0?-o:o);break;case c._ZULU:n=0}let o=this._getAdjustedOffset(t.timeZone,e);o-=n;const s=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[4]);s.setHours(i[3]+(o/60<<0),o%60);const a=x(I(s));o=this._getAdjustedOffset(t.timeZone,a),o-=n;const r=new Date(Date.UTC(i[0],i[1]-1,i[2],i[3],i[4],i[5])),l=r.getUTCMinutes()+o;r.setUTCHours(r.getUTCHours()+(l/60<<0),l%60),i[0]=r.getUTCFullYear(),i[1]=r.getUTCMonth()+1,i[2]=r.getUTCDate(),i[3]=r.getUTCHours(),i[4]=r.getUTCMinutes(),i[5]=r.getUTCSeconds()}static _createISOStrParts(e,t){let i=0,n="";switch(e){case 0:n=v(t[0],4)+"-"+v(t[1],2)+"-"+v(t[2],2);break;case 1:n="T"+v(t[3],2)+":"+v(t[4],2)+":"+v(t[5],2),i=t[6],i>0&&(n+="."+y(i));break;default:n=v(t[0],4)+"-"+v(t[1],2)+"-"+v(t[2],2)+"T"+v(t[3],2)+":"+v(t[4],2)+":"+v(t[5],2),i=t[6],i>0&&(n+="."+y(i))}return n}static _getParseISOStringOffset(e,t){return F("",this._getTimeZoneOffset(t,e),!1,!0)}static _createParseISOStringFromDate(e,t,i){const n=P(i,"NativeDateTimeConverter.parse")("isoStrFormat","string",[c._ZULU,c._OFFSET,c._INVARIANT,c._LOCAL,c._AUTO],c._AUTO),o=t.isoStrParts,s=i.timeZone;let a=this._createISOStrParts(e,o);if(0===e)return a;switch(n){case c._OFFSET:case c._AUTO:a+=this._getParseISOStringOffset(s,o);break;case c._LOCAL:2===e&&(a+=this._getParseISOStringOffset(s,o));break;case c._ZULU:let t=0;if(t=-this._getTimeZoneOffset(o,s),0!==t){const i=new Date(Date.UTC(o[0],o[1]-1,o[2],o[3],o[4],o[5],o[6]));t=i.getUTCMinutes()+t,i.setUTCHours(i.getUTCHours()+(t/60<<0),t%60),o[0]=i.getUTCFullYear(),o[1]=i.getUTCMonth()+1,o[2]=i.getUTCDate(),o[3]=i.getUTCHours(),o[4]=i.getUTCMinutes(),o[5]=i.getUTCSeconds(),a=this._createISOStrParts(e,o)}a+="Z"}return a}static getTimeZoneCurrentDate(e){const t={year:"numeric",day:"2-digit",month:"2-digit"};e&&(t.timeZone=e);const i=Intl.DateTimeFormat("en-US",t).format(new Date).split("/");return i[2]+"-"+i[0]+"-"+i[1]}static getTimeZoneCurrentOffset(e){const t=x(I(new Date));return this._getAdjustedOffset(e,t)}static getLocalSystemTimeZone(){if(!j){const e=new Intl.DateTimeFormat("en-US");j=e.resolvedOptions().timeZone}return j}}const V=e=>new Intl.DateTimeFormat(e.locale,e),k=(e,t)=>{const i=e.resolvedOptions(),n=t.isoStrFormat??"auto",o=t.twoDigitYearStart??1950,s=t.lenientParse??"full",a=X(e,i);return{...i,isoStrFormat:n,twoDigitYearStart:o,lenientParse:s,patternFromOptions:a}},G=(e,t)=>{let i=null;return"short"===e.dateStyle&&e.dateStyleShortYear&&(i=new Intl.DateTimeFormat(e.locale,{year:e.dateStyleShortYear,numberingSystem:t.numberingSystem,calendar:t.calendar})),i},W=(e,t,i)=>{const n=t.formatToParts(i),o=n.find((e=>"year"===e.type))?.value;return e.formatToParts(i).reduce(((e,t)=>"year"===t.type?e+(o??t.value):e+t.value),"")},z=(e,t,i,n)=>{const o=Y(i,n),s=new Date(o);return t?W(e,t,s):e.format(s)},K=(e,t,i,o)=>{if(null==o||""===o)throw new n("The parse value cannot be empty.",{cause:{code:"emptyParseValue"}});const s=l.getCalendar(e,i.calendar),r=X(t,i),_=U.parseImpl(o,r,i,s),u=_.value;return u&&_.warning&&a.warn("The value "+o+" was leniently parsed to represent a date "+u),u},Y=(e,t)=>{if(null==t||""===t)throw new n("The format value cannot be empty.",{cause:{code:"emptyFormatValue"}});if(t.startsWith("T")){let i="";i=e?U.getTimeZoneCurrentDate(e):I(new Date).split("T")[0],t=i+t}else-1===t.indexOf("T")&&(t+="T00:00:00");if(!f.exec(t))throw new n("The format value must be a valid iso string.",{cause:{code:"invalidISOString",parameterMap:{isoStr:t}}});if(e){let i=!1;U.getLocalSystemTimeZone()===e&&(i=!0);const n=t.substring(t.indexOf("T"));if(-1===n.indexOf("Z")&&-1===n.indexOf("+")&&-1===n.indexOf("-")&&!i){const i=N(t);t+=F("",u({year:i[0],month:i[1],date:i[2],hours:i[3],minutes:i[4]},e),!1,!0)}}return t.replace(/(T.*?[+-]..$)/,"$1:00")},X=(e,t)=>{const i=new Date("2000-01-02T00:00:00");let n="",o="",s=null,a=null,r=null,l=!1,_=!1;void 0!==t.dateStyle&&(a=c._dateTimeFormats.dateStyle,a=a[t.dateStyle],l=!0),void 0!==t.timeStyle&&(r=c._dateTimeFormats.timeStyle,r=r[t.timeStyle],_=!0);const u=c._tokenMap;return e.formatToParts(i).map((({type:e,value:i})=>{switch(e){case"literal":s=i.replace(c._ALPHA_REGEXP,"'$1'");break;case"dayPeriod":s="a";break;case"hour":_?s=r[e]:(o=t[e],s=u[e][o]);let n=t.hour12;void 0===n&&(n=!1),t.hourCycle&&(s=s.replace(c._HOUR12_REGEXP,c._hourCycleMap[t.hourCycle])),!0===n&&(s=s.replace(c._HOUR12_REGEXP,"h"));break;case"month":l?s=isNaN(+i)?a.month_m:a.month_s:(o=t[e],s=u[e][o]);break;case"year":case"day":case"weekday":l?s=a[e]:(o=t[e],s=u[e][o]);break;case"minute":case"second":case"timeZoneName":_?s=r[e]:(o=t[e],s=u[e][o]);break;case"era":o=t[e]||"short",s=u[e][o];break;case"fractionalSecond":s=t.fractionalSecondDigits,s=u[e][s]}n+=s})),n};var q=r,Z=o.a,$=r,J=o._,Q=s._,ee=function e(t,i,n){return function(){for(var o=[],s=0,a=t,r=0;r<i.length||s<arguments.length;){var l;r<i.length&&(!Z(i[r])||s>=arguments.length)?l=i[r]:(l=arguments[s],s+=1),o[r]=l,Z(l)||(a-=1),r+=1}return a<=0?n.apply(this,o):q(a,e(t,o,n))}},te=Q((function(e,t){return 1===e?J(t):$(e,ee(e,[],t))}));function ie(e){const t=V(e),i=k(t,e),n=G(e,i);return{format:te(4,z)(t,n,i.timeZone),parse:te(4,K)(e.locale,t,i),resolvedOptions:i,formatter:t}}},2523:(e,t,i)=>{"use strict";i.r(t),i.d(t,{FormVariantContext:()=>s,useFormVariantContext:()=>a});var n=i(6400),o=i(396);const s=(0,n.createContext)("default");function a(){return(0,o.useContext)(s)}},5217:(e,t,i)=>{var n,o,s;!function(a){"use strict";o=[i(9755),i(8615)],void 0===(s="function"==typeof(n=function(e){return e.extend(e.expr.pseudos,{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(i){return!!e.data(i,t)}})):function(t,i,n){return!!e.data(t,n[3])}})})?n.apply(t,o):n)||(e.exports=s)}()},2393:(e,t,i)=>{var n,o,s;!function(a){"use strict";o=[i(9755),i(8615)],void 0===(s="function"==typeof(n=function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?n.apply(t,o):n)||(e.exports=s)}()},6914:(e,t,i)=>{var n,o,s;!function(a){"use strict";o=[i(9755),i(8615)],n=function(e){return e.ui.plugin={add:function(t,i,n){var o,s=e.ui[t].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}}},void 0===(s=n.apply(t,o))||(e.exports=s)}()},8206:(e,t,i)=>{var n,o,s;!function(a){"use strict";o=[i(9755),i(8615)],void 0===(s="function"==typeof(n=function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})?n.apply(t,o):n)||(e.exports=s)}()},9782:(e,t,i)=>{var n,o,s;!function(a){"use strict";o=[i(9755),i(8615)],void 0===(s="function"==typeof(n=function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}})?n.apply(t,o):n)||(e.exports=s)}()},8581:(e,t,i)=>{var n,o,s;!function(a){"use strict";o=[i(9755),i(8615)],void 0===(s="function"==typeof(n=function(e){return e.fn.scrollParent=function(t){var i=this.css("position"),n="absolute"===i,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter((function(){var t=e(this);return(!n||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==i&&s.length?s:e(this[0].ownerDocument||document)}})?n.apply(t,o):n)||(e.exports=s)}()},6236:(e,t,i)=>{var n,o,s;!function(a){"use strict";o=[i(9755),i(2173),i(5217),i(6914),i(8206),i(9782),i(8581),i(8615),i(347)],void 0===(s="function"==typeof(n=function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",t)&&i._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,n="function"==typeof i.helper,o=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options,s=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(n=(i=e(o.containment))[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=o.containment:this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,o,s,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=e.pageX,_=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(_=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(_=i[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((_-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,_=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-a.grid[1]:o+a.grid[1]:o,s=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-a.grid[0]:s+a.grid[0]:s),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(_=this.originalPageY)),{top:_-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var o=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each((function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,o))}))},stop:function(t,i,n){var o=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,(function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))}))},drag:function(t,i,n){e.each(n.sortables,(function(){var o=!1,s=this;s.positionAbs=n.positionAbs,s.helperProportions=n.helperProportions,s.offset.click=n.offset.click,s._intersectsWith(s.containerCache)&&(o=!0,e.each(n.sortables,(function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(o=!1),o}))),o?(s.isOver||(s.isOver=1,n._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=n.offset.click.top,s.offset.click.left=n.offset.click.left,s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top,n._trigger("toSortable",t),n.dropped=s.element,e.each(n.sortables,(function(){this.refreshPositions()})),n.currentItem=n.element,s.fromOutside=n),s.currentItem&&(s._mouseDrag(t),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var o=e("body"),s=n.options;o.css("cursor")&&(s._cursor=o.css("cursor")),o.css("cursor",s.cursor)},stop:function(t,i,n){var o=n.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var o=e(i.helper),s=n.options;o.css("opacity")&&(s._opacity=o.css("opacity")),o.css("opacity",s.opacity)},stop:function(t,i,n){var o=n.options;o._opacity&&e(i.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var o=n.options,s=!1,a=n.scrollParentNotHidden[0],r=n.document[0];a!==r&&"HTML"!==a.tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+a.offsetHeight-t.pageY<o.scrollSensitivity?a.scrollTop=s=a.scrollTop+o.scrollSpeed:t.pageY-n.overflowOffset.top<o.scrollSensitivity&&(a.scrollTop=s=a.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+a.offsetWidth-t.pageX<o.scrollSensitivity?a.scrollLeft=s=a.scrollLeft+o.scrollSpeed:t.pageX-n.overflowOffset.left<o.scrollSensitivity&&(a.scrollLeft=s=a.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(r).scrollTop()<o.scrollSensitivity?s=e(r).scrollTop(e(r).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<o.scrollSensitivity&&(s=e(r).scrollTop(e(r).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(r).scrollLeft()<o.scrollSensitivity?s=e(r).scrollLeft(e(r).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<o.scrollSensitivity&&(s=e(r).scrollLeft(e(r).scrollLeft()+o.scrollSpeed)))),!1!==s&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var o=n.options;n.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})}))},drag:function(t,i,n){var o,s,a,r,l,_,u,h,d,c,p=n.options,S=p.snapTolerance,g=i.offset.left,m=g+n.helperProportions.width,f=i.offset.top,E=f+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)_=(l=n.snapElements[d].left-n.margins.left)+n.snapElements[d].width,h=(u=n.snapElements[d].top-n.margins.top)+n.snapElements[d].height,m<l-S||g>_+S||E<u-S||f>h+S||!e.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(o=Math.abs(u-E)<=S,s=Math.abs(h-f)<=S,a=Math.abs(l-m)<=S,r=Math.abs(_-g)<=S,o&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:_}).left)),c=o||s||a||r,"outer"!==p.snapMode&&(o=Math.abs(u-f)<=S,s=Math.abs(h-E)<=S,a=Math.abs(l-g)<=S,r=Math.abs(_-m)<=S,o&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:_-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(o||s||a||r||c)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=o||s||a||r||c)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var o,s=n.options,a=e.makeArray(e(s.stack)).sort((function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)}));a.length&&(o=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each((function(t){e(this).css("zIndex",o+t)})),this.css("zIndex",o+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var o=e(i.helper),s=n.options;o.css("zIndex")&&(s._zIndex=o.css("zIndex")),o.css("zIndex",s.zIndex)},stop:function(t,i,n){var o=n.options;o._zIndex&&e(i.helper).css("zIndex",o._zIndex)}}),e.ui.draggable})?n.apply(t,o):n)||(e.exports=s)}()},2173:(e,t,i)=>{var n,o,s;!function(a){"use strict";o=[i(9755),i(2393),i(8615),i(347)],void 0===(s="function"==typeof(n=function(e){var t=!1;return e(document).on("mouseup",(function(){t=!1})),e.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).on("click."+this.widgetName,(function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,s=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!s&&this._mouseCapture(i)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?n.apply(t,o):n)||(e.exports=s)}()},6137:(e,t,i)=>{var n,o;n=[t,i(3875)],o=function(e,t){"use strict";Object.defineProperty(e,"CalendarUtils",{enumerable:!0,get:function(){return t.CalendarUtils}}),Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n),void 0===o||(e.exports=o)},496:(e,t,i)=>{var n,o;n=[t,i(9831),i(5275),i(2027),i(4370),i(7516),i(8819),i(7006),i(2168),i(9437)],o=function(e,t,i,n,o,s,a,r,l,_){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const u=function(){var e,n=/^[+-]?infinity$/i,o=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,s=/([^+-.0-9]*)([+-]?\d*\.?\d*(E[+-]?\d+)?).*$/,a=/([\^$.*+?|\[\](){}])/g,r=/(^0\.0*)([^0].*$)/,l=/^0+$/,_={trillion:[1e14,1e13,1e12],billion:[1e11,1e10,1e9],million:[1e8,1e7,1e6],thousand:[1e5,1e4,1e3]},u={trillion:1e12,billion:1e9,million:1e6,thousand:1e3},h={HALF_UP:"ceil",CEILING:"ceil",UP:"ceil",HALF_DOWN:"floor",FLOOR:"floor",DOWN:"floor",DEFAULT:"round"},d=1024,c=1048576,p=1073741824,S=1099511627776;function g(e,t,i){var n;for(n=e.length;n<t;n+=1)e=i?"0"+e:e+"0";return e}function m(e,t,i,n,o){var s=e[t];return void 0!==s?(s=Number(s),(isNaN(s)||s<i||s>n)&&function(e,t,i,n){var o=new RangeError(e+" is out of range.  Enter a value between "+t+" and "+i+" for "+n),s={errorCode:"numberOptionOutOfRange",parameterMap:{value:e,minValue:t,maxValue:i,propertyName:n}};throw o.errorInfo=s,o}(s,i,n,t),Math.floor(s)):o}function f(e){var t=e||"en-US",i=t.indexOf("-u-nu-"),n="latn";return-1!==i&&(n=t.substr(i+6,4)),n}function E(e,n,o,s){var a,r=n,l=i.OraI18nUtils.getLocaleElementsMainNode(e),_=function(e,t){if(void 0===t)return"latn";var i=f(t),n="symbols-numberSystem-"+i;return void 0===e.numbers[n]&&(i="latn"),i}(l,s);r.numberingSystemKey=_,r.numberingSystem="symbols-numberSystem-"+_;var u=o.lenientParse;if(r.lenientParse=u||"full",r.style=o.style,void 0!==o.pattern&&o.pattern.length>0)a=o.pattern;else{var h;switch(r.style){case"decimal":default:h="decimalFormats-numberSystem-";break;case"currency":h="currencyFormats-numberSystem-";break;case"percent":h="percentFormats-numberSystem-"}h+=r.numberingSystemKey,a=l.numbers[h].standard}var d=o.decimalFormat;void 0===d&&(d=o.currencyFormat),void 0===d||"decimal"!==r.style&&"currency"!==r.style||(r.shortDecimalFormat=l.numbers["decimalFormats-numberSystem-latn"][d].decimalFormat);var c=l.numbers[r.numberingSystem].decimal,p=l.numbers[r.numberingSystem].group,S=o.separators;if(void 0!==S){r.separators=S;var g=S.decimal,E=S.group;void 0!==g&&""!==g&&(c=S.decimal),void 0!==E&&(p=S.group)}var T=i.OraI18nUtils.getLocaleElementsMainNodeKey(e).split("-")[0];if(r.lang=T,r.pat=a,r.minusSign=l.numbers[r.numberingSystem].minusSign,r.decimalSeparator=c,r.exponential=l.numbers[r.numberingSystem].exponential,r.groupingSeparator=p,r.currencyDisplay=o.currencyDisplay,void 0!==o.currency&&(r.currencyCode=o.currency.toUpperCase()),void 0!==o.unit&&(r.unit=o.unit.toLowerCase()),function(e,t,i,n){for(var o,s=n,a=!1,r=!1,l=0,_=0,u=!0,h=1;h>=0&&_<t.length;--h){var d=!1,c="",p="",S=-1,g=1,m=0,f=0,E=0,T=-1,y=-1,b=0;u=!0;for(var A=_;A<t.length;++A){var v=t.charAt(A);switch(b){case 0:case 2:if(d){if(v===U){A+1<t.length&&t.charAt(A+1)===U?(A+=1,u?c=c.concat("''"):p=p.concat("''")):d=!1;continue}}else{if(v===x||v===w||v===N||v===P){b=1,A-=1;continue}if(v===V){void 0===e.currency&&C("style"),s.style="currency";var R=A+1<t.length&&t.charAt(A+1)===V;R&&(A+=1),u?c=c.concat(R?"'¤¤":"'¤"):p=p.concat(R?"'¤¤":"'¤");continue}if(v===U){if(v===U){A+1<t.length&&t.charAt(A+1)===U?(A+=1,u?c=c.concat("''"):p=p.concat("''")):d=!0;continue}}else{if(v===F){0!==b&&0!==h||W(t),_=A+1,A=t.length;continue}if(v===M){s.style="percent",1!==g&&W(t),s.isPercent=!0,g=100,u?c=c.concat("'%"):p=p.concat("'%");continue}if(v===B){1!==g&&W(t),s.style="perMill",s.isPerMill=!0,g=1e3,u?c=c.concat("'‰"):p=p.concat("'‰");continue}if(v===j){u?c=c.concat("'-"):p=p.concat("'-");continue}}}u?c=c.concat(v):p=p.concat(v);break;case 1:if(1!==h){0==(l-=1)&&(b=2,u=!1);continue}if(l+=1,v===x)f>0?E+=1:m+=1,T>=0&&S<0&&(T+=1);else if(v===w)E>0&&W(t),f+=1,T>=0&&S<0&&(T+=1);else if(v===N)y=T,T=0;else{if(v!==P){if(q=A,Z=H,$=void 0,$=t.substr(q,Z.length),null!==new RegExp(Z,"i").exec($)){for(r&&W(t),r=!0,o=0,A+=H.length;A<t.length&&t.charAt(A)===w;)o+=1,l+=1,A+=1;(m+f<1||o<1)&&W(t),b=2,u=!1,A-=1;continue}b=2,u=!1,A-=1,l-=1;continue}S>=0&&W(t),S=m+f+E}}}if(0===f&&m>0&&S>=0){var K=S;0===K&&(K+=1),E=m-K,m=K-1,f=1}if((S<0&&E>0||S>=0&&(S<m||S>m+f)||0===T||d)&&W(t),1===h){I=L=c,D=O=p;var Y=m+f+E,X=S>=0?S:Y;s.minimumIntegerDigits=X-m,s.maximumIntegerDigits=r?m+s.minimumIntegerDigits:k,s.maximumFractionDigits=S>=0?Y-S:0,s.minimumFractionDigits=S>=0?m+f-S:0,s.groupingSize=T>0?T:0,s.groupingSize0=y}else I=c,D=p,a=!0}var q,Z,$;0===t.length&&(L="",O="",s.minimumIntegerDigits=0,s.maximumIntegerDigits=k,s.minimumFractionDigits=0,s.maximumFractionDigits=G),s.useExponentialNotation=r,s.minExponentDigits=o,(!a||0===I.localeCompare(L)&&0===D.localeCompare(O))&&("currency"===s.style&&"ar"===s.lang?(D=O+"'‏-",I=L):(D=O,I="'-"+L)),function(e,t){var i=t,n={};null!==L&&(i.positivePrefix=z(L,e,i,n)),null!==O&&(i.positiveSuffix=z(O,e,i,n)),null!==I&&(i.negativePrefix=z(I,e,i,n)),null!==D&&(i.negativeSuffix=z(D,e,i,n)),void 0!==n.name&&(i.positiveSuffix=" "+n.name,i.positivePrefix="","ar"===i.lang?(i.negativeSuffix=e.numbers[i.numberingSystem].minusSign+" "+n.name,i.negativePrefix=""):(i.negativeSuffix=" "+n.name,i.negativePrefix=e.numbers[i.numberingSystem].minusSign))}(i,s)}(o,a,l,r),void 0===o.pattern&&(r.minimumIntegerDigits=m(o,"minimumIntegerDigits",1,21,r.minimumIntegerDigits),void 0!==o.maximumFractionDigits&&(r.maximumFractionDigits=m(o,"maximumFractionDigits",0,20,r.maximumFractionDigits),r.maximumFractionDigits<r.minimumFractionDigits&&(r.minimumFractionDigits=r.maximumFractionDigits)),void 0!==o.minimumFractionDigits&&(r.minimumFractionDigits=m(o,"minimumFractionDigits",0,20,r.minimumFractionDigits)),r.maximumFractionDigits<r.minimumFractionDigits&&(r.maximumFractionDigits=r.minimumFractionDigits,t.info("maximumFractionDigits is less than minimumFractionDigits, so maximumFractionDigits will be set to minimumFractionDigits")),"currency"===r.style&&void 0===o.minimumFractionDigits&&(void 0===d||"standard"===d))){var y=e.supplemental.currencyData.fractions[o.currency];if(void 0!==y){var b=parseInt(y._digits,10);r.minimumFractionDigits=b,r.maximumFractionDigits=b}}}function C(e){var t=new TypeError('The property "currency" is required when the property "'+e+'" is "currency". An accepted value is a three-letter ISO 4217 currency code.'),i={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"currency",requiredPropertyName:"currency",requiredPropertyValueValid:"a three-letter ISO 4217 currency code"}};throw t.errorInfo=i,t}function T(e,t){var n=i.OraI18nUtils.getGetOption(e,t),o=n("style","string",["currency","decimal","percent","unit","perMill"],"decimal");if("decimal"===o||"currency"===o){var s="decimal"===o?"decimalFormat":"currencyFormat";o=n(s,"string",["standard","short","long"]),"OraNumberConverter.parse"===t&&void 0!==o&&"standard"!==o&&function(e){var t=new Error("long and short "+e+" are not supported for parsing"),i={errorCode:"unsupportedParseFormat",parameterMap:{shortFormats:e}};throw t.errorInfo=i,t}(s)}var a=n("currency","string");"currency"===o&&void 0===a&&C("style"),a=n("unit","string"),"unit"===o&&void 0===a&&function(e){var t=new TypeError('The property "unit" is required when the property "style" is "unit". An accepted value is "byte" or "bit".'),i={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"unit",requiredPropertyName:"unit",requiredPropertyValueValid:"byte or bit"}};throw t.errorInfo=i,t}("style"),o=n("roundingMode","string",["UP","DOWN","FLOOR","CEILING","HALF_UP","HALF_DOWN","HALF_EVEN"])}function y(e,t,n){var o=n.groupingSize,s=n.groupingSize0,a=n.decimalSeparator,r=e+"",_=r.split(/e/i),u=_.length>1?parseInt(_[1],10):0,h=(_=(r=_[0]).split(".")).length>1?_[1]:"",d=Math.min(n.maximumFractionDigits,h.length-u);_.length>1&&h.length>u&&(e=b(e,d,t.roundingMode||"DEFAULT")),u=(_=(r=Math.abs(e)+"").split(/e/i)).length>1?parseInt(_[1],10):0,_=(r=_[0]).split("."),r=_[0],h=_.length>1?_[1]:"",u>0?(r+=(h=g(h,u,!1)).slice(0,u),h=h.substr(u)):u<0&&(h=(r=g(r,1+(u=-u),!0)).slice(-u,r.length)+h,r=r.slice(0,-u)),d>0&&h.length>0?(h=h.length>d?h.slice(0,d):g(h,d,!1),!0===l.test(h)&&(h=h.slice(0,n.minimumFractionDigits)),h=a+h):h=n.minimumFractionDigits>0?a:"",h=g(h=i.OraI18nUtils.trimRightZeros(h),a.length+n.minimumFractionDigits,!1);var c=n.groupingSeparator,p="";!1===t.useGrouping&&void 0===t.pattern&&(c="");var S=(r=g(r,n.minimumIntegerDigits,!0)).length-1;for(h=h.length>1?h:"";S>=0;){if(0===o||o>S)return r.slice(0,S+1)+(p.length?c+p+h:h);p=r.slice(S-o+1,S+1)+(p.length?c+p:""),S-=o,s>0&&(o=s)}return r.slice(0,S+1)+c+p+h}function b(e,t,i){var n,o=i,s=function(e){var t=e.toString(),i=!1;"-"===(t=t.replace("E","e")).charAt(0)&&(i=!0,t=t.substring(1));var n=t.split("e"),o=n[0],s=Number(n[1]);if(s>0)if((t=o.substr(0,1)+o.substr(2)).length-1<s)for(var a=s+1-t.length;a>0;)t+="0",a-=1;else t.length-1>s&&(t=t.substr(0,s+1)+"."+t.substr(s+1));else if(s<0){var r=o.substr(0,1)+o.substr(2);t="0.";for(var l=s;l<-1;l++)t+="0";t+=r}return i&&(t="-"+t),t}(e);if(void 0===(s=s.split("."))[1])return Math.abs(e);if("DEFAULT"!==i){if("HALF_UP"===i||"HALF_EVEN"===i||"HALF_DOWN"===i){if("5"===s[1][t]){var a=s[1].substr(t);(a=parseInt(a,10))>5&&(o="HALF_UP")}else o="DEFAULT";e=Math.abs(e)}o=function(e,t,i,n){var o=h[t];if("HALF_EVEN"===t){var s;if(0===i){var a=e[0].length;s=parseInt(e[0][a-1],10)}else s=parseInt(e[1][i-1],10);o=s%2==0?h.HALF_DOWN:h.HALF_UP}else"UP"===t&&n<0?o=h.DOWN:"DOWN"===t&&n<0&&(o=h.UP);return o}(s,o,t,e),n=function(e,t,i){if(0===t)return Math[i](e);var n=e.toString().split("e"),o=n[0],s=n[1],a=o+"e"+(s?parseInt(s,10)-t:-t),r=parseFloat(a);return a=(o=(n=Math[i](r).toString().split("e"))[0])+"e"+((s=n[1])?parseInt(s,10)+t:t),parseFloat(a)}(e,-t,o)}else{var r=Math.pow(10,t);if(n=Math.round(e*r)/r,!isFinite(n))return e}return Math.abs(n)}function A(e,t){var n=t.groupingSeparator,o=t.decimalSeparator,a=t.minusSign,r="",l="",_=i.OraI18nUtils.toUpper(t.exponential),u=i.OraI18nUtils.toUpper(e),h=n;u=(u=u.split(_).join("E")).split(h).join("");var d=h.replace(/\u00A0/g," ");h!==d&&(u=u.split(d).join("")),"."===(u=u.split(o).join(".")).charAt(0)&&(u=u.substr(1),l="."),u=u.replace(a,"-");var c=l+s.exec(u)[2];return i.OraI18nUtils.startsWith(c,"-")?(c=c.substr(1),r="-"):i.OraI18nUtils.startsWith(u,"+")&&(c=c.substr(1),r="+"),[r,c]}function v(e,t,n,o){return isNaN(e)&&R(n.style,n,o),!0===n.isPercent||"percent"===n.style?e/=100:!0===n.isPerMill&&(e/=1e3),i.OraI18nUtils.getGetOption(t,"OraNumberConverter.parse")("roundDuringParse","boolean",[!0,!1],!1)&&(e=function(e,t,i){var n=e<0,o=b(e,t.maximumFractionDigits,i.roundingMode||"DEFAULT");return n?-o:o}(e,n,t)),e}function R(e,t,i){var n,o="Enter a number in this format:"+t.pat;switch(e){case"decimal":n="decimalFormatMismatch";break;case"currency":n="currencyFormatMismatch";break;case"percent":n="percentFormatMismatch"}var s=new Error(o),a={errorCode:n,parameterMap:{value:i,format:t.pat}};throw s.errorInfo=a,s}var L,O,I,D,w="0",N=",",P=".",M="%",B="‰",x="#",F=";",H="E",j="-",U="'",V="¤",k=2147483647,G=2147483647;function W(e){var t="#,##0.###",i=new SyntaxError('Unexpected character(s) encountered in the pattern "'+e+' An example of a valid pattern is "'+t+'".'),n={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,propertyValueHint:t}};throw i.errorInfo=n,i}function z(e,t,i,n){for(var o="",s=0;s<e.length;){var a=e.charAt(s);if(s+=1,a!==U){switch(a){case V:var r=i.currencyCode,l=r,_=r;void 0!==t.numbers.currencies[r]&&(l=t.numbers.currencies[r].displayName,_=t.numbers.currencies[r].symbol),void 0===i.currencyDisplay||"symbol"===i.currencyDisplay?a=_:"code"===i.currencyDisplay?a=r+" ":(a=l,n.name=a);break;case M:a=t.numbers[i.numberingSystem].percentSign;break;case B:a=t.numbers[i.numberingSystem].perMille;break;case j:a=t.numbers[i.numberingSystem].minusSign}o=o.concat(a)}}return o}function K(e,t){var i;if(i=t.pattern,/[^0-9.#]/i.test(i))return"text";var n=function(e){return-1!==e.indexOf(",")}(t.pattern),o=function(e){return-1!==e.indexOf(".")}(t.pattern);if(n&&o){if(""!==e.groupingSeparator||"."!==e.decimalSeparator)return"text";if(e.groupingSeparator===e.decimalSeparator)return"text"}return o&&!n&&"."!==e.decimalSeparator||!o&&n&&""!==e.groupingSeparator?"text":"number"}function Y(){return{format:function(e,t,n,o){(arguments.length<=2||void 0===n)&&(n={useGrouping:!0,style:"decimal"}),T(n,"OraNumberConverter.format");var s={};return E(t,s,n,o),function(e,t,n,o,s){var a=i.OraI18nUtils.getLocaleElementsMainNode(n);if(!isFinite(e))return e===1/0||e===-1/0?a.numbers[o.numberingSystem].infinity:"NaN";var l=e;!0===o.isPercent||"percent"===o.style?l*=100:!0===o.isPerMill&&(l*=1e3);var h=t.decimalFormat;void 0===h&&(h=t.currencyFormat);var m=o.style;l="decimal"!==m&&"currency"!==m||void 0===h||"standard"===h?!0===o.useExponentialNotation?function(e,t){var i=e+"",n=0,o=i.split(/e/i),s=o[0];r.lastIndex=0;var a=r.exec(s);null!==a?(n=a[1].length-1,s=a[2]):s=s.replace(".","");var l=o.length>1?parseInt(o[1],10):0,_=parseInt(s,10),u=t.minimumIntegerDigits+t.maximumFractionDigits;if(s.length>u){u-=s.length;var h=Math.pow(10,u);_=Math.round(_*h)}var d=t.minimumIntegerDigits+t.minimumFractionDigits;_=g(_+="",d,!1),-1!==i.indexOf(".")?l-=t.minimumIntegerDigits-i.indexOf(".")+n:l-=d-s.length-t.minimumFractionDigits;var c=Math.abs(l);c=g(c+"",t.minExponentDigits,!0),l<0&&(c=t.minusSign+c);var p=_.slice(0,t.minimumIntegerDigits);return _.slice(t.minimumIntegerDigits).length>0?p+=t.decimalSeparator+_.slice(t.minimumIntegerDigits)+t.exponential+c:p+=t.exponential+c,p}(l,o):"unit"===m?function(e,t,n,o){var s,a,r=Math.abs(e);r>=S?(s="digital-tera",a=r/S):r>=p?(s="digital-giga",a=r/p):r>=c?(s="digital-mega",a=r/c):r>=d?(s="digital-kilo",a=r/d):(s="digital-",a=r),s+=n.unit;var l=n.lang,_=new Intl.PluralRules(l).select(a);_="unitPattern-count-"+_,e<0&&(a=-a);var u=y(a,t,n),h=o.units.narrow[s][_];return i.OraI18nUtils.formatString(h,[u])}(l,t,o,a):y(l,t,o):function(e,t,i){var n,o,s,a=Math.abs(e),r=function(e){for(var t=Object.keys(_),i=0;i<t.length;i++)for(var n=t[i],o=_[n].length,s=0;s<o;s++)if(_[n][s]<=e)return[n,_[n][s]];return[e,null]}(a),l="";if(null!==r[1]){var h=i.lang,d=new Intl.PluralRules(h).select(Math.floor(a/u[r[0]]));if(n=r[1]+"-count-"+d,void 0===(n=i.shortDecimalFormat[n])&&(d="other",n=r[1]+"-count-"+d,n=i.shortDecimalFormat[n]),o=function(e){var t=0,i=0,n=0,o="";if("0"!==e[0]){for(;"0"!==e[t]&&t<e.length;)t+=1;o=e.substr(0,t),n=t}for(t=n;t<e.length&&"0"===e[t];t++)i+=1;return[o,i]}(n),s=o[1],l=o[0],s<n.length){var c=1*Math.pow(10,s);a/=c=r[1]/c*10}}var p="";return void 0!==n&&(p=n.substr(s+o[0].length)),e<0&&(a=-a),l+y(a,t,i)+p.replace(/'\.'/g,".")}(l,t,o);var E="";E+=e<0&&l-0!=0?o.negativePrefix+l+o.negativeSuffix:o.positivePrefix+l+o.positiveSuffix;var C=f(s);if(void 0===i.OraI18nUtils.numeringSystems[C]&&(C="latn"),"latn"!==C){var T,b=[];for(T=0;T<E.length;T++)E[T]>="0"&&E[T]<="9"?b.push(i.OraI18nUtils.numeringSystems[C][E[T]]):b.push(E[T]);return b.join("")}return E}(e,n,t,s,o)},parse:function(e,t,s,r){return"number"==typeof e?e:"[object Number]"===Object.prototype.toString.call(e)?Number(e):((arguments.length<=2||void 0===s)&&(s={useGrouping:!0,style:"decimal"}),T(s,"OraNumberConverter.parse"),function(e,t,s,r){var l=i.OraI18nUtils.getLocaleElementsMainNode(t),_={},u=function(e,t){var n,o=f(t);if(void 0===i.OraI18nUtils.numeringSystems[o])return e;var s=[];for(n=0;n<e.length;n++){var a=i.OraI18nUtils.numeringSystems[o].indexOf(e[n]);-1!==a?s.push(a):s.push(e[n])}return s.join("")}(e,r);E(t,_,s,r);var h=NaN,d=u.replace(/ /g,"");if(n.test(d))return parseFloat(u);var c=function(e,t,n,o){var s,r=i.OraI18nUtils.trimNumber(e),l="",_=!1,u=o.numbers[n.numberingSystem].plusSign,h=new RegExp("^"+u.replace(a,"\\$1"));r=r.replace(h,"");var d=i.OraI18nUtils.trimNumber(n.positivePrefix),c=i.OraI18nUtils.trimNumber(n.positiveSuffix),p=i.OraI18nUtils.trimNumber(n.negativePrefix),S=i.OraI18nUtils.trimNumber(n.negativeSuffix),g=new RegExp("^"+(d||"").replace(a,"\\$1")),m=new RegExp((c||"").replace(a,"\\$1")+"$"),f=new RegExp("^"+(p||"").replace(a,"\\$1")),E=new RegExp((S||"").replace(a,"\\$1")+"$");if(!0===f.test(r)&&!0===E.test(r))r=(r=r.replace(f,"")).replace(E,""),l="-",_=!0;else if(!0===g.test(r)&&!0===m.test(r))r=(r=r.replace(g,"")).replace(m,""),l="+",_=!0;else if("currency"===n.style){var C,T=n.currencyCode,y=T;if(void 0!==o.numbers.currencies[T]&&(y=o.numbers.currencies[T].symbol),void 0===n.currencyDisplay||"symbol"===n.currencyDisplay?C=y:"code"===n.currencyDisplay&&(C=T),void 0!==C){var b=(d||"").replace(C,""),v=(c||"").replace(C,""),L=(p||"").replace(C,""),O=(S||"").replace(C,"");g=new RegExp("^"+b.replace(a,"\\$1")),m=new RegExp(v.replace(a,"\\$1")+"$"),f=new RegExp("^"+L.replace(a,"\\$1")),E=new RegExp(O.replace(a,"\\$1")+"$"),!0===f.test(r)&&!0===E.test(r)?(r=(r=r.replace(f,"")).replace(E,""),l="-",_=!0):!0===g.test(r)&&!0===m.test(r)&&(r=(r=r.replace(g,"")).replace(m,""),l="+",_=!0)}}return _?s=[l,r]:"full"===n.lenientParse?(s=A(r,n))[2]=!0:R(n.style,n,e),s}(u,0,_,l),p=c[0],S=c[1];if(p=p||"+",c[2])return v(h=parseFloat(p+S),s,_,e);var g=function(e,t){var n,o,s={},a=t.decimalSeparator,r=t.groupingSeparator,l=e.replace(/ /g,""),_=t.exponential,u=l.indexOf(_.toLowerCase());u<0&&(u=l.indexOf(i.OraI18nUtils.toUpper(_))),u<0?(o=l,s.exponent=null):(o=l.substr(0,u),s.exponent=l.substr(u+_.length));var h=a,d=o.indexOf(h);d<0?(n=o,s.fraction=null):(n=o.substr(0,d),s.fraction=o.substr(d+h.length)),n=n.split(r).join("");var c=r.replace(/\u00A0/g," ");return r!==c&&(n=n.split(c).join("")),s.integer=n,s}(S,_),m=g.integer,C=g.fraction,T=g.exponent,y=p+m;if(null!==C&&(y+="."+C),null!==T){var b=function(e,t){var n,o=t.minusSign,s=t.plusSign,a=i.OraI18nUtils.trimNumber(e);return o=i.OraI18nUtils.trimNumber(o),s=i.OraI18nUtils.trimNumber(s),i.OraI18nUtils.startsWith(a,o)?n=["-",a.substr(o.length)]:i.OraI18nUtils.startsWith(a,i.OraI18nUtils.trimNumber(s))&&(n=["+",a.substr(s.length)]),n||["",a]}(T,_);y+="e"+(b[0]||"+")+b[1]}return o.test(y)?h=parseFloat(y):"full"===_.lenientParse?(y=A(u,_),h=parseFloat(y[0]+y[1])):R(_.style,_,e),v(h,s,_,e)}(e,t,s,r))},resolvedOptions:function(e,t,n){(arguments.length<3||void 0===n)&&(n=i.OraI18nUtils.getLocaleElementsMainNodeKey(e)),(arguments.length<2||void 0===t)&&(t={useGrouping:!0,style:"decimal"});var o=function(e,t,n){var o={};return T(t,"OraNumberConverter.resolvedOptions"),E(e,o,t,n),o.numberingSystemKey=f(n),void 0===i.OraI18nUtils.numeringSystems[o.numberingSystemKey]&&(o.numberingSystemKey="latn"),o}(e,t,n);return function(e,t,i){var n={locale:i,style:void 0===e.style?"decimal":e.style,useGrouping:void 0===t.useGrouping||t.useGrouping,numberingSystem:e.numberingSystemKey};n.minimumIntegerDigits=e.minimumIntegerDigits,n.minimumFractionDigits=e.minimumFractionDigits,n.maximumFractionDigits=e.maximumFractionDigits,"decimal"===e.style&&void 0!==t.decimalFormat&&(n.decimalFormat=t.decimalFormat),"currency"===e.style&&void 0!==t.currencyFormat&&(n.currencyFormat=t.currencyFormat),"currency"===e.style&&(n.currency=t.currency,n.currencyDisplay=void 0===t.currencyDisplay?"symbol":t.currencyDisplay),void 0!==t.unit&&(n.unit=t.unit),void 0!==t.pattern&&(n.pattern=t.pattern);var o=t.roundingMode,s=t.roundDuringParse;void 0!==o&&(n.roundingMode=o),void 0!==s&&(n.roundDuringParse=s);var a=e.lenientParse;void 0!==a&&(n.lenientParse=a);var r=e.separators;return void 0!==r&&(n.separators=r),n.virtualKeyboardHint=function(e,t){var i="text";switch(t.style){case"unit":i="text";break;case"currency":case"percent":i=void 0===t.pattern?"text":K(e,t);break;default:i=void 0===t.pattern?"short"===t.decimalFormat||"long"===t.decimalFormat?"text":function(e,t){if(void 0===t.useGrouping||t.useGrouping){if("."===e.decimalSeparator&&""===e.groupingSeparator)return"number"}else if("."===e.decimalSeparator)return"number";return"text"}(e,t):K(e,t)}return i}(e,t),n}(o,t,n)}}}return{getInstance:function(){return e||(e=Y()),e}}}(),h=function(){this.Init()};oj.Object.createSubclass(h,o,"oj.NumberConverter"),h.prototype.Init=function(e){h.superclass.Init.call(this,e)},h.prototype.format=function(e){return h.superclass.format.call(this,e)},h.prototype.parse=function(e){return h.superclass.parse.call(this,e)};const d=function(e){const t=_.getMergedNumberPreferencesWithOptions(e);this.Init(t)};r.Object.createSubclass(d,h,"oj.IntlNumberConverter"),d.prototype.Init=function(e){d.superclass.Init.call(this,e)},d.prototype._getWrapped=function(){return this._wrapped||(this._wrapped=u.getInstance()),this._wrapped},d.prototype.format=function(e){if(null==e||"string"==typeof e&&0===r.StringUtils.trim(""+e).length||"number"==typeof e&&isNaN(e))return"";var i,o=a.getLocale(),l=n.__getBundle(),_=this.resolvedOptions();try{i=this._getWrapped().format(e,l,_,o)}catch(t){throw this._processConverterError(t,e)}if("NaN"===i){var u=s.getTranslatedString("oj-converter.number.invalidNumberFormat.summary",{value:e}),h=s.getTranslatedString("oj-converter.number.invalidNumberFormat.detail");t.error(u+" "+h)}return i},d.prototype.getHint=function(){return null},d.prototype.getOptions=function(){return d.superclass.getOptions.call(this)},d.prototype.parse=function(e){var t,i,o;if(null==e||""===e)return null;t=a.getLocale(),i=n.__getBundle(),o=this.resolvedOptions();try{return this._getWrapped().parse(r.StringUtils.trim(e),i,o,t)}catch(t){throw this._processConverterError(t,e)}},d.prototype.resolvedOptions=function(){var e,i=a.getLocale();if(i!==this._locale||!this._resolvedOptions){e=n.__getBundle();try{if(!e)return t.error("locale bundle for the current locale %s is unavailable",i),{};this._resolvedOptions=this._getWrapped().resolvedOptions(e,this.getOptions(),i),this._locale=i}catch(e){throw this._processConverterError(e)}}return this._resolvedOptions},d.prototype._processConverterError=function(e,t){var n,o,a,_,u=e.errorInfo;if(u){var h=u.errorCode,d=u.parameterMap;switch(r.Assert.assertObject(d),h){case"optionTypesMismatch":case"optionTypeInvalid":case"optionOutOfRange":case"optionValueInvalid":n=i.IntlConverterUtils.__getConverterOptionError(h,d);break;case"decimalFormatMismatch":a="oj-converter.number.decimalFormatMismatch.summary";break;case"currencyFormatMismatch":a="oj-converter.number.currencyFormatMismatch.summary";break;case"percentFormatMismatch":a="oj-converter.number.percentFormatMismatch.summary";break;case"unsupportedParseFormat":_=s.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.summary"),o=s.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.detail"),n=new l.ConverterError(_,o)}a&&(_=s.getTranslatedString(a,{value:t||d.value,format:d.format}),o=s.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),n=new l.ConverterError(_,o))}return n||(_=e.message,o=e.message,n=new l.ConverterError(_,o)),n},d.prototype._getHintValue=function(){var e="";try{e=this.format(12345.98765)}catch(i){i instanceof l.ConverterError&&(e="",t.error("error retrieving hint value in format"))}return e},e.IntlNumberConverter=d,e.NumberConverter=h,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n),void 0===o||(e.exports=o)},9437:(e,t,i)=>{var n,o;n=[t,i(9831),i(9279),i(3875)],o=function(e,t,i,n){"use strict";let o={};const s=()=>(a(),o),a=()=>{Object.isFrozen(o)||(l(o.dateStyle)&&l(o.timeStyle)&&(o.dateStyle=r()),Object.freeze(o))},r=()=>{const e=i.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{};let t;return t="numeric"===e.converterYear||"2-digit"===e.converterYear?e.converterYear:"numeric",{short:{year:t}}},l=e=>!e||0===Object.keys(e).length;let _={};const u=()=>_,h=e=>!!e&&!(!e.decimal||!e.group),d=e=>!e||0===Object.keys(e).length,c=(e,t)=>{let i={};const n={separators:e};return Object.assign(i,n,t),i},p=e=>!e||0===Object.keys(e).length,S=e=>{const t=g(e.dateStyle);return t?{pattern:t}:void 0},g=e=>e?.short?.pattern,m=(e,t)=>e&&t?`${e} ${t}`:t||e||void 0;e.formatWithYearFormat=(e,t,i)=>n.formatWithYearFormat(e,t,i),e.getDateTimePreferences=s,e.getMergedDateTimePreferencesWithOptions=e=>{const t=s();if(!t||0===Object.keys(t).length)return e;const i=((e,t)=>{if(!t||0===Object.keys(t).length)return S(e);if("short"!==t.dateStyle&&"short"!==t.timeStyle)return;let i,n;"short"===t.dateStyle&&e.dateStyle?.short?.pattern&&(i=g(e.dateStyle)),"short"===t.timeStyle&&(n=g(e.timeStyle));const o=m(i,n);return o?{pattern:o}:void 0})(t,e),n=t?.dateStyle?.short?.year,o=void 0===i&&n?{dateStyleShortYear:n}:void 0,a=t.timeZone,r=a?{timeZone:a}:{};let l={};return Object.assign(l,i??o,r,e),l},e.getMergedNumberPreferencesWithOptions=e=>{const t=u();if(!t||0===Object.keys(t).length)return e;if(!p(e?.separators))return e;const i=t.style?.currency?.separators,n=t.style?.decimal?.separators,o=!p(i),s=!p(n);return o||s?void 0!==e?.style&&"decimal"!==e.style||!s?"currency"===e?.style&&o?c(i,e):e:c(n,e):e},e.getNumberPreferences=u,e.setDateTimePreferences=e=>{Object.isFrozen(o)||(e=>{const i=e.timeStyle?.short?.pattern,n=e.dateStyle?.short?.pattern;return i&&!n||n&&!i?(t.error("timeStyle.short.pattern and dateStyle.short.pattern must be set together."),!1):!l(e)||(t.error("setDateTimePreferences options must not be empty."),!1)})(e)&&(o=e,a())},e.setNumberPreferences=e=>{Object.isFrozen(_)||(e=>{const i=e.style?.currency,n=e.style?.decimal;let o=!0;return i&&!h(i.separators)&&(t.error("style.currency.separators group and decimal must be set together."),o=!1),n&&!h(n.separators)&&(t.error("style.decimal.separators group and decimal must be set together."),o=!1),(d(e)||d(i)&&d(n))&&(t.error("setNumberPreferences options must not be empty."),o=!1),o})(e)&&(_=e,Object.freeze(_))},Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n),void 0===o||(e.exports=o)},4370:(e,t,i)=>{var n,o;n=[i(7006),i(9755)],void 0===(o=function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const i=function(e){this.Init(e)};return e.Object.createSubclass(i,e.Object,"oj.Converter"),i.prototype.Init=function(e){i.superclass.Init.call(this),this._options=e},i.prototype.getOptions=function(){return this._options||{}},i.prototype.resolvedOptions=function(){var e={};return t.extend(e,this._options),e},i}.apply(t,n))||(e.exports=o)},5275:(e,t,i)=>{var n,o;n=[t,i(7006),i(7516),i(9755),i(5181),i(2168)],o=function(e,t,i,n,o,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const a={numeringSystems:{latn:"0123456789",arab:"٠١٢٣٤٥٦٧٨٩",thai:"๐๑๒๓๔๕๖๗๘๙"},regexTrim:/^\s+|\s+$|\u200f|\u200e/g,regexTrimNumber:/\s+|\u200f|\u200e/g,regexTrimRightZeros:/0+$/g,zeros:["0","00","000"],_ISO_DATE_REGEXP:/^[+-]?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?)?$|^T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?$/,getLocalTimeZoneOffset:function(e){var t=(e||new Date).getTimezoneOffset();return 0!==t?a.getTimeStringFromOffset("Etc/GMT",t,!1,!1):"Etc/GMT+0"},dateToLocalIso:function(e){var t=e;"number"==typeof t&&(t=new Date(t));var i=a.padZeros(t.getFullYear(),4)+"-"+a.padZeros(t.getMonth()+1,2)+"-"+a.padZeros(t.getDate(),2)+"T"+a.padZeros(t.getHours(),2)+":"+a.padZeros(t.getMinutes(),2)+":"+a.padZeros(t.getSeconds(),2);return t.getMilliseconds()>0&&(i+="."+a.trimRightZeros(a.padZeros(t.getMilliseconds(),3))),i},dateToLocalIsoDateString:function(e){return a.dateToLocalIso(e).split("T")[0]},partsToIsoString:function(e){var t=a.padZeros(e[0],4)+"-"+a.padZeros(e[1],2)+"-"+a.padZeros(e[2],2)+"T"+a.padZeros(e[3],2)+":"+a.padZeros(e[4],2)+":"+a.padZeros(e[5],2);return e[6]>0&&(t+="."+a.trimRightZeros(a.padZeros(e[6],3))),t},isoToLocalDate:function(e){return e&&"string"==typeof e?this._isoToLocalDateIgnoreTimezone(e):null},_isoToLocalDateIgnoreTimezone:function(e){var t=a._IsoStrParts(e),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5],t[6]);return i.setFullYear(t[0]),i},_IsoStrParts:function(e){!1===a._ISO_DATE_REGEXP.test(e)&&a._throwInvalidISOStringSyntax(e);var t,i=e.split("T"),n=e.indexOf("T"),o=new Date,s=!1,r=[o.getFullYear(),o.getMonth()+1,o.getDate(),0,0,0,0];if(""!==i[0]){a.startsWith(i[0],"-")&&(i[0]=i[0].substr(1),s=!0);var l=i[0].split("-");for(t=0;t<l.length;t++){var _=parseInt(l[t],10);if(1===t&&(_<1||_>12)&&a._throwInvalidISOStringRange(e,"month",_,1,12),2===t){var u=a._getDaysInMonth(r[0],r[1]-1);(_<1||_>u)&&a._throwInvalidISOStringRange(e,"day",_,1,u)}r[t]=_}s&&(r[0]=-r[0])}if(-1!==n){var h=i[1].split("."),d=h[0].split(":");for(t=0;t<d.length;t++){var c=parseInt(d[t],10);0===t&&(c<0||c>24)&&a._throwInvalidISOStringRange(e,"hour",c,0,24),1===t&&(c<0||c>59)&&a._throwInvalidISOStringRange(e,"minute",c,0,59),2===t&&(c<0||c>59)&&a._throwInvalidISOStringRange(e,"second",c,0,59),r[3+t]=c}2===h.length&&h[1]&&(r[6]=parseInt(a.zeroPad(h[1],3,!1),10))}return r},getISOStrFormatInfo:function(e){var t={format:null,dateTime:null,timeZone:"",isoStrParts:null},i=a._ISO_DATE_REGEXP.exec(e);if(null===i&&a._throwInvalidISOStringSyntax(e),i&&void 0===i[1]&&void 0===i[2])return t.format="local",t.dateTime=e,t.isoStrParts=a._IsoStrParts(t.dateTime),t;t.timeZone=void 0!==i[1]?i[1]:i[2],"Z"===t.timeZone?t.format="zulu":t.format="offset";var n=e.length,o=t.timeZone.length;return t.dateTime=e.substring(0,n-o),t.isoStrParts=a._IsoStrParts(t.dateTime),t},getISOStrFormatType:function(e){let t;const i=a._ISO_DATE_REGEXP.exec(e);return null===i&&a._throwInvalidISOStringSyntax(e),i&&void 0===i[1]&&void 0===i[2]?(t="local",t):(t="Z"===(void 0!==i[1]?i[1]:i[2])?"zulu":"offset",t)},_isLeapYear:function(e){return e%400==0||e%100!=0&&e%4==0},_getDaysInMonth:function(e,t){switch(t){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return a._isLeapYear(e)?29:28;default:return 30}},_throwInvalidISOStringRange:function(e,t,i,n,o){throw new RangeError("The string "+e+" is not a valid ISO 8601 string: "+i+" is out of range.  Enter a value between "+n+" and "+o+" for "+t,{cause:{code:"isoStringOutOfRange",parameterMap:{isoStr:e,value:i,minValue:n,maxValue:o,propertyName:t}}})},_throwInvalidISOStringSyntax:function(e){throw new Error("The string "+e+" is not a valid ISO 8601 string syntax.",{cause:{code:"invalidISOString",parameterMap:{isoStr:e}}})},trim:function(e){return(e+"").replace(a.regexTrim,"")},trimRightZeros:function(e){return(e+"").replace(a.regexTrimRightZeros,"")},trimNumber:function(e){return(e+"").replace(a.regexTrimNumber,"")},startsWith:function(e,t){return 0===e.indexOf(t)},toUpper:function(e){return e.split(" ").join(" ").toUpperCase()},padZeros:function(e,t){var i=e+"",n=!1;return e<0&&(i=i.substr(1),n=!0),t>1&&i.length<t&&(i=(i=a.zeros[t-2]+i).substr(i.length-t,t)),n&&(i="-"+i),i},zeroPad:function(e,t,i){for(var n=""+e,o=n.length;o<t;o+=1)n=i?"0"+n:n+"0";return n},getTimeStringFromOffset:function(e,t,i,n){var o=i?t>0:t<0,s=Math.abs(t),r=Math.floor(s/60),l=s%60,_=o?"-":"+";n&&(r=a.zeroPad(r,2,!0));var u=e+_+r;return(l>0||n)&&(u+=":"+a.zeroPad(l,2,!0)),u},getNumberingSystemKey:function(e,t){if(void 0===t)return"latn";var i=a.getNumberingExtension(t),n="symbols-numberSystem-"+i;return void 0===e.numbers[n]&&(i="latn"),i},getBCP47Lang:function(e){return e.split("-")[0]},getBCP47Region:function(e){var t=e.split("-");return 3===t.length?t[2]:2===t.length&&2===t[1].length?t[1]:"001"},getNumberingExtension:function(e){var t=e||"en-US",i=t.indexOf("-u-nu-"),n="latn";return-1!==i&&(n=t.substr(i+6,4)),n},haveSamePropertiesLength:function(e){return Object.keys(e).length},getLocaleElementsMainNode:function(e){var t=e.main;return t[Object.keys(t)[0]]},getLocaleElementsMainNodeKey:function(e){var t=e.main;return Object.keys(t)[0]},_toBoolean:function(e){if("string"==typeof e)switch(e.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":return!1;default:return e}return e},getGetOption:function(e,t){if(void 0===e)throw new Error("Internal "+t+" error. Default options missing.");return function(i,n,o,s){if(void 0!==e[i]){var r=e[i];switch(n){case"boolean":r=a._toBoolean(r);break;case"string":r=String(r);break;case"number":r=Number(r);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==o&&-1===o.indexOf(r)){for(var l=[],_=0;_<o.length;_++)l.push(o[_]);var u="The value '"+e[i]+"' is out of range for '"+t+"' options property '"+i+"'. Valid values: "+l,h=new RangeError(u),d={errorCode:"optionOutOfRange",parameterMap:{propertyName:i,propertyValue:e[i],propertyValueValid:l,caller:t}};throw h.errorInfo=d,h}return r}return s}},matchString:function(e,t,i,n){void 0===n&&(n={sensitivity:"base",usage:"sort"});var o=a.getGetOption(n,"OraI18nUtils.matchString");n.usage=o("usage","string",["sort","search"],"sort"),n.sensitivity=o("sensitivity","string",["base","accent","case","variant"],"base");for(var s=e.length,r=t.length-1,l=0;l<s;l++)for(var _=0;_<3;_++){var u=s-l;if(u=Math.min(u,r+_),0===e.substr(l,u).localeCompare(t,i,n))return[l,l+(u-1)]}return null}};var r="T00:00:00.000",l={fullYear:{pos:0,pad:4},month:{pos:1,pad:2},date:{pos:2,pad:2},hours:{pos:3,pad:2},minutes:{pos:4,pad:2},seconds:{pos:5,pad:2},milliseconds:{pos:6,pad:3},timeZone:{pos:7}};a.isoToDate=function(e){return new Date(this._normalizeIsoString(e))},a._copyTimeOver=function(e,t){if(!e||!t)throw new Error("Provided invalid arguments");var i=this._normalizeIsoString(t),n=e.indexOf("T"),o=i.indexOf("T");return i.substring(0,o)+(-1!==n?e.substring(n):r)},a._clearTime=function(e){return this._dateTime(e,{hours:0,minutes:0,seconds:0,milliseconds:0})},a._dateTime=function(e,t,i){if(!e||!t)throw new Error("Invalid argument invocation");var o,s,a=null,r=l,_=this.padZeros,u=this._normalizeIsoString(e),h=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):?(\d{2})?\.?(\d{3})?(.*)?/.exec(u);if(!h)throw new Error("Unable to capture anything");if(h=h.slice(1),Array.isArray(t)){a={};for(var d=0,c=t.length;d<c;d++){var p=t[d];if(p in r){if(s=h[o=r[p].pos],i&&"timeZone"===p)throw new Error("Dude you tried to ask timezone to be parsed");if(i){var S=parseInt(s,10);a[p]=1===o?S-1:S}else a[p]=s}}}else if(n.isPlainObject(t)){for(var g=Object.keys(t),m=0;m<g.length;m++){var f=g[m],E=r[f];o=E.pos,s=t[f],1===o&&"number"==typeof s&&(s+=1),h[o]=E.pad?_(s,E.pad):s}a=h[0]+"-"+h[1]+"-"+h[2]+"T"+h[3]+":"+h[4]+":"+h[5]+(h.length>6&&h[6]?"."+h[6]+(8===h.length&&h[7]?h[7]:""):"")}return a},a._normalizeIsoString=function(e){if(!e)throw new Error("Provided invalid arguments");var t,i=(new Date).toISOString(),n=i.substring(0,i.indexOf("T")),o=e.indexOf("T"),s=-1===o?e:e.substring(0,o);return(s=s||n)+(-1!==o?(t=e.substring(o)).split(":").length>1?t:t+":00":r)},a.formatString=function(e,t){for(var i=t.length,n=e,o=0;o<i;o++){var s="{"+o+"}";n=n.replace(s,t[o])}return n},a.convertISOString=function(e,t){var i,n=e;if("offset"===t)i=e.startsWith("T")?(new Date).getTimezoneOffset():new Date(e).getTimezoneOffset(),n+=i=a.getTimeStringFromOffset("",i,!0,!0);else if("zulu"===t){var o=a._IsoStrParts(e),s=new Date(o[0],o[1]-1,o[2],o[3],o[4],o[5],o[6]);n=a.padZeros(s.getUTCFullYear(),4)+"-"+a.padZeros(s.getUTCMonth()+1,2)+"-"+a.padZeros(s.getUTCDate(),2)+"T"+a.padZeros(s.getUTCHours(),2)+":"+a.padZeros(s.getUTCMinutes(),2)+":"+a.padZeros(s.getUTCSeconds(),2),s.getMilliseconds()>0&&(n+="."+a.trimRightZeros(a.padZeros(s.getUTCMilliseconds(),3))),n+="Z"}return n},a.getInitials=function(e,t){var i,n=0,o=0;if(void 0!==e&&e.length>0&&(n=e.charCodeAt(0)),n>=1536&&n<=1791)return"";if(n>=2304&&n<=2431)return e.charAt(0);if(n>=3584&&n<=3711)return e.charAt(0);if(n>=4352&&n<=4607||n>=12592&&n<=12687||n>=43360&&n<=43391||n>=44032&&n<=55295)return e;if(void 0!==t&&t.length>0&&(n=t.charCodeAt(0)),n>=11904&&n<=12255||n>=12288&&n<=12591||n>=12688&&n<=12799||n>=13056&&n<=19903||n>=19968&&n<=40959||n>=63744&&n<=64255)return t;if(n>=55296&&n<=56319){if(t&&t.length<2)return"";if((o=t.charCodeAt(1))<56320||o>57343)return"";if((i=1024*(n-55296)+(o-56320)+65536)>=110592&&i<=110847||i>=127488&&i<=127743||i>=131072&&i<=173791||i>=173824&&i<=177983||i>=177984&&i<=178207||i>=178208&&i<=183983||i>=194560&&i<=195103)return t}return n="",o="",void 0!==e&&e.length>0&&(n=e.charAt(0).toUpperCase()),void 0!==t&&t.length>0&&(o=t.charAt(0).toUpperCase()),n+o};const _={isoToDate:function(e){return a.isoToDate(e)},isoToLocalDate:function(e){return a.isoToLocalDate(e)},dateToLocalIso:function(e){return a.dateToLocalIso(e)},dateToLocalIsoDateString:function(e){return a.dateToLocalIsoDateString(e)},getLocalTimeZoneOffset:function(e){return a.getLocalTimeZoneOffset(e)},getConverterInstance:function(e){return o.getConverterInstance(e)},_minMaxIsoString:function(e,t){if(e){var i=(t=t||this.dateToLocalIso(new Date)).indexOf("T");0===e.indexOf("T")&&i>0&&(e=t.substring(0,i)+e)}return e},_getISOStrFormatType:function(e){return a.getISOStrFormatType(e)},_verifyValueMinMax:function(e,t,i){Object.entries({value:e,min:t,max:i}).forEach((([e,t])=>{if(t)try{_._getISOStrFormatType(t)}catch(t){throw new Error(`${e} must be an iso string: ${t}`)}}))},_getTodaysDateIsoStr:function(){const e=new Date;return a.padZeros(e.getFullYear(),4)+"-"+a.padZeros(e.getMonth()+1,2)+"-"+a.padZeros(e.getDate(),2)},_makeIsoDateStringsDateComparable:function(e,t){const i=e.startsWith("T"),n=t.startsWith("T"),o=!e.includes("T"),s=!t.includes("T");let a=e,r=t;if(i||n){const o=_._getTodaysDateIsoStr();i&&(a=o+e),n&&(r=o+t)}return o&&s||(o&&(a=`${e}T00:00:00`),s&&(r=`${t}T00:00:00`)),[a,r]},_compareISODates:function(e,t){const i=_._makeIsoDateStringsDateComparable(e,t);return new Date(i[0])-new Date(i[1])},__getConverterOptionError:function(e,n){t.Assert.assertObject(n);var o,a="",r="",l=n.propertyName;if("optionTypesMismatch"===e){var u=n.requiredPropertyName;o=n.requiredPropertyValueValid,a=i.getTranslatedString("oj-converter.optionTypesMismatch.summary",{propertyName:l,propertyValue:n.propertyValue,requiredPropertyName:u}),r=_._getOptionValueDetailMessage(u,o)}else"optionTypeInvalid"===e?(l=n.propertyName,o=n.propertyValueValid,a=i.getTranslatedString("oj-converter.optionTypeInvalid.summary",{propertyName:l}),r=_._getOptionValueDetailMessage(l,o)):"optionOutOfRange"===e?(a=i.getTranslatedString("oj-converter.optionOutOfRange.summary",{propertyName:l,propertyValue:n.propertyValue}),o=n.propertyValueValid,r=_._getOptionValueDetailMessage(l,o)):"optionValueInvalid"===e&&(a=i.getTranslatedString("oj-converter.optionValueInvalid.summary",{propertyName:l,propertyValue:n.propertyValue}),o=n.propertyValueHint,r=_._getOptionValueDetailMessage(l,o));return new s.ConverterError(a,r)},__getConverterError:function(e,t){return new s.ConverterError(e,t)},_getOptionValueDetailMessage:function(e,t){var n;return t?("string"==typeof t?n="oj-converter.optionHint.detail":(n="oj-converter.optionHint.detail-plural",t=t.join(i.getTranslatedString("oj-converter.plural-separator"))),i.getTranslatedString(n,{propertyName:e,propertyValueValid:t})):""},_copyTimeOver:function(e,t){return a._copyTimeOver(e,t)},_clearTime:function(e){return a._clearTime(e)},_dateTime:function(e,t,i){return a._dateTime(e,t,i)},_normalizeIsoString:function(e){return a._normalizeIsoString(e)},getInitials:function(e,t){return a.getInitials(e,t)}};e.IntlConverterUtils=_,e.OraI18nUtils=a,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n),void 0===o||(e.exports=o)},5181:(e,t,i)=>{var n,o;n=[i(7006),i(9831)],void 0===(o=function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;class i{}return i.getConverterInstance=function(i){let n="",o={},s=null;if(i&&("object"==typeof i&&(i.parse&&"function"==typeof i.parse||i.format&&"function"==typeof i.format?s=i:(n=i.type,o=i.options||{})),!s&&(n=n||i,n&&"string"==typeof n))){if(e.Validation&&e.Validation.converterFactory)return e.Validation.converterFactory(n).createConverter(o);t.error('oj.Validation.converterFactory is not available and it is needed to support the deprecated json format for the converters property. Please include the backward compatibility "ojvalidation-base" module.')}return s},i}.apply(t,n))||(e.exports=o)},1348:(e,t,i)=>{var n,o;n=[t,i(7006),i(9793)],o=function(e,t,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const n=function(e){this.data=e,this.Init()};t._registerLegacyNamespaceProp("DataSource",n),t.Object.createSubclass(n,t.EventSource,"oj.DataSource"),n.prototype.Init=function(){n.superclass.Init.call(this)};const o=function(e){o.superclass.constructor.call(this,e)};i._registerLegacyNamespaceProp("DataGridDataSource",o),i.Object.createSubclass(o,i.DataSource,"oj.DataGridDataSource");const s=function(e){s.superclass.constructor.call(this,e)};t._registerLegacyNamespaceProp("DiagramDataSource",s),t.Object.createSubclass(s,t.DataSource,"oj.DiagramDataSource"),s.EventType={ADD:"add",REMOVE:"remove",CHANGE:"change"};const a=function(e,t){if(this.constructor===a){var i=a._LOGGER_MSG._ERR_TABLE_DATASOURCE_INSTANTIATED_SUMMARY,n=a._LOGGER_MSG._ERR_TABLE_DATASOURCE_INSTANTIATED_DETAIL;throw new Error(i+"\n"+n)}this.data=e,this.options=t,this.isFetching=!1,this._startIndex=0,this.Init()};i._registerLegacyNamespaceProp("TableDataSource",a),i.Object.createSubclass(a,i.DataSource,"oj.TableDataSource"),a.prototype.Init=function(){a.superclass.Init.call(this)},a.prototype.sortCriteria=null,a.prototype.totalSizeConfidence=function(){return"actual"},a.EventType={ADD:"add",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",REQUEST:"request",SYNC:"sync",ERROR:"error"},a._LOGGER_MSG={_ERR_TABLE_DATASOURCE_INSTANTIATED_SUMMARY:"oj.TableDataSource constructor called.",_ERR_TABLE_DATASOURCE_INSTANTIATED_DETAIL:"Please do not instantiate oj.TableDataSource. Please use one of the subclasses instead such as oj.ArrayTableDataSource or oj.CollectionTableDataSource.",_ERR_DATA_INVALID_TYPE_SUMMARY:"Invalid data type.",_ERR_DATA_INVALID_TYPE_DETAIL:"Please specify the appropriate data type."};const r=function(e){r.superclass.constructor.call(this,e)};i._registerLegacyNamespaceProp("TreeDataSource",r),i.Object.createSubclass(r,i.DataSource,"oj.TreeDataSource");var l={};l.DataGridDataSource=oj.DataGridDataSource,e.DataGridDataSource=o,e.DataSource=n,e.DataSourceCommon=l,e.DiagramDataSource=s,e.TableDataSource=a,e.TreeDataSource=r,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n),void 0===o||(e.exports=o)},296:(e,t,i)=>{var n,o;n=[i(4230),i(537),i(2173),i(6236),i(9755),i(7006),i(3215),i(9279),i(857),i(7609),i(4886),i(7509),i(8819)],void 0===(o=function(e,t,i,n,o,s,a,r,l,_,u,h,d){"use strict";var c,p,S,g,m,f,E,C,T,y,b,A,v,R,L,O,I,D,w,N,P,M,B,x,F,H,j,U,V;o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,function(){const e=".oj-resizable-handle",t="oj-resizable-alsoresize";o.widget("oj.ojResizable",{version:"1.0.0",widgetEventPrefix:"oj",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(e,t){var i=e;if("hidden"===o(i).css("overflow"))return!1;var n,s=t&&"left"===t?"scrollLeft":"scrollTop";return i[s]>0||(i[s]=1,n=i[s]>0,i[s]=0,n)},_create:function(){var t,i,n,s;this._super();var a=this,r=this.options,l=this.element.mouse.bind(this.element);if(l(),this.mouse=l("instance"),this.mouse._mouseCapture=function(e){return a._mouseCapture(e)},this.mouse._mouseStart=function(e){return a._mouseStart(e)},this.mouse._mouseDrag=function(e){return a._mouseDrag(e)},this.mouse._mouseStop=function(e){return this.element&&this.element.focus(),a._mouseStop(e)},this.element.addClass("oj-resizable"),o.extend(this,{originalElement:this.element,_proportionallyResizeElements:[],_helper:null}),this._initialResize=!0,this.handles=r.handles||(o(e,this.element).length?{n:".oj-resizable-n",e:".oj-resizable-e",s:".oj-resizable-s",w:".oj-resizable-w",se:".oj-resizable-se",sw:".oj-resizable-sw",ne:".oj-resizable-ne",nw:".oj-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=o.trim(t[i]),s=o("<div class='oj-resizable-handle oj-resizable-"+n+"'></div>"),this.handles[n]=".oj-resizable-"+n,this.element.append(s);var _=Object.keys(this.handles);for(i=0;i<_.length;i++){var u=_[i];this.handles[u].constructor===String&&(this.handles[u]=this.element.children(this.handles[u]).first().show())}this._handles=o(e,this.element),this._handles.mouseover((function(){a.resizing||(this.className&&(s=this.className.match(/oj-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")})),this.mouse._mouseInit()},_destroy:function(){this.mouse&&this.mouse._mouseDestroy();try{this.mouse.destroy(),this.mouse=null}catch(e){}var t;return t=this.originalElement,o(t).removeClass("oj-resizable oj-resizable-disabled oj-resizable-resizing").removeData("resizable").removeData("oj-resizable").unbind(".resizable").find(e).remove(),this},_mouseCapture:function(e){for(var t=!1,i=Object.keys(this.handles),n=0;n<i.length;n++){var s=o(this.handles[i[n]])[0];(s===e.target||o.contains(s,e.target))&&(t=!0)}return!this.options.disabled&&t},_mouseStart:function(e){var t,i,n,s=this.options,a=this.element.position(),r=this.element;return this.resizing=!0,/absolute/.test(r.css("position"))?r.css({position:"absolute",top:r.css("top"),left:r.css("left")}):r.is(".oj-draggable")&&r.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),t=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(t+=o(s.containment).scrollLeft()||0,i+=o(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:i},this.size={width:r.width(),height:r.height()},this.originalSize={width:r.width(),height:r.height()},this.originalPosition={left:t,top:i},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=this.originalSize.width/this.originalSize.height||1,n=o(".oj-resizable-"+this.axis).css("cursor"),o("body").css("cursor","auto"===n?this.axis+"-resize":n),r.addClass("oj-resizable-resizing"),this._propagate("start",e),this._alsoresize_start(e),this._containment_start(e),!0},_mouseDrag:function(e){var t,i=this.helper,n={},s=this.originalMousePosition,a=this.axis,r=e.pageX-s.left||0,l=e.pageY-s.top||0,_=this._change[a];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},!!_&&(t=_.apply(this,[e,r,l]),this._updateVirtualBoundaries(e.shiftKey),e.shiftKey&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),this._alsoresize_resize(e,this.ui()),this._containment_resize(e,this.ui()),this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),i.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),o.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){return this.resizing=!1,o("body").css("cursor","auto"),this.element.removeClass("oj-resizable-resizing"),this._propagate("stop",e),this._alsoresize_stop(e),this._containment_stop(e),!1},_updateVirtualBoundaries:function(e){var t,i,n,o,s,a=this.options;s={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},e&&(t=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),n>s.minHeight&&(s.minHeight=n),i<s.maxWidth&&(s.maxWidth=i),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=e,i=this.position,n=this.size,o=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===o&&(t.left=i.left+(n.width-t.width),t.top=null),"nw"===o&&(t.top=i.top+(n.height-t.height),t.left=i.left+(n.width-t.width)),t},_respectSize:function(e){var t=e,i=this._vBoundaries,n=this.axis,o=this._isNumber(t.width)&&i.maxWidth&&i.maxWidth<t.width,s=this._isNumber(t.height)&&i.maxHeight&&i.maxHeight<t.height,a=this._isNumber(t.width)&&i.minWidth&&i.minWidth>t.width,r=this._isNumber(t.height)&&i.minHeight&&i.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,_=this.position.top+this.size.height,u=/sw|nw|w/.test(n),h=/nw|ne|n/.test(n);return a&&(t.width=i.minWidth),r&&(t.height=i.minHeight),o&&(t.width=i.maxWidth),s&&(t.height=i.maxHeight),a&&u&&(t.left=l-i.minWidth),o&&u&&(t.left=l-i.maxWidth),r&&h&&(t.top=_-i.minHeight),s&&h&&(t.top=_-i.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,o,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(o=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);o.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element;this.elementOffset=e.offset(),this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,i){return o.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},sw:function(e,t,i){return o.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,i]))},ne:function(e,t,i){return o.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},nw:function(e,t,i){return o.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,i]))}},_propagate:function(e,t){"resize"!==e&&this._trigger(e,t,this.ui())},_alsoresize_start:function(){var e=this.options,i=function(e){o(e).each((function(){var e=o(this);e.data(t,{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})}))};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?i(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],i(e.alsoResize)):o.each(e.alsoResize,(function(e){i(e)}))},_alsoresize_resize:function(e,i){var n=this,s=n.options,a=n.originalSize,r=n.originalPosition,l={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0},_=function(e,n){o(e).each((function(){var e,s=o(this),a=o(this).data(t),r={};e=n&&n.length?n:s.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"],o.each(e,(function(e,t){var i=(a[t]||0)+(l[t]||0);i&&i>=0&&(r[t]=i)})),s.css(r)}))};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?_(s.alsoResize,null):o.each(s.alsoResize,(function(e,t){_(e,t)}))},_alsoresize_stop:function(){o(this).removeData(t)},_containment_start:function(){var e,t,i,n,s,a,r,l,_=this,u=_.options,h=_.element,d=u.containment;(l=d instanceof o?d.get(0):/parent/.test(d)?h.parent().get(0):d)&&(_.containerElement=o(l),/document/.test(d)||d===document?(_.containerOffset={left:0,top:0},_.containerPosition={left:0,top:0},_.parentData={element:o(document),left:0,top:0,width:o(document).width(),height:o(document).height()||document.body.parentNode.scrollHeight}):(e=o(l),t=[],o(["Top","Right","Left","Bottom"]).each((function(i,n){t[i]=_._num(e.css("padding"+n))})),_.containerOffset=e.offset(),_.containerPosition=e.position(),_.containerSize={height:e.innerHeight()-t[3],width:e.innerWidth()-t[1]},i=_.containerOffset,n=_.containerSize.height,s=_.containerSize.width,a=_._hasScroll(l,"left")?l.scrollWidth:s,r=_._hasScroll(l)?l.scrollHeight:n,_.parentData={element:l,left:i.left,top:i.top,width:a,height:r}))},_containment_resize:function(e,t){var i,n,o,s,a=this,r=a.options,l=a.containerOffset,_=a.position,u=e.shiftKey,h={top:0,left:0},d=a.containerElement,c=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),_.left<(a._helper?l.left:0)&&(a.size.width+=a._helper?a.position.left-l.left:a.position.left-h.left,u&&(a.size.height=a.size.width/a.aspectRatio,c=!1),a.position.left=r.helper?l.left:0),_.top<(a._helper?l.top:0)&&(a.size.height+=a._helper?a.position.top-l.top:a.position.top,u&&(a.size.width=a.size.height*a.aspectRatio,c=!1),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-h.left:a.offset.left-l.left)+a.sizeDiff.width),n=Math.abs((a._helper?a.offset.top-h.top:a.offset.top-l.top)+a.sizeDiff.height),o=a.containerElement.get(0)===a.element.parent().get(0),s=/relative|absolute/.test(a.containerElement.css("position")),o&&s&&(i-=Math.abs(a.parentData.left)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio,c=!1)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,u&&(a.size.width=a.size.height*a.aspectRatio,c=!1)),c||(a.position.left=t.prevPosition.left,a.position.top=t.prevPosition.top,a.size.width=t.prevSize.width,a.size.height=t.prevSize.height)},_containment_stop:function(){var e=this,t=e.options,i=e.containerOffset,n=e.containerPosition,s=e.containerElement,a=o(e.helper),r=a.offset(),l=a.outerWidth()-e.sizeDiff.width,_=a.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(s.css("position"))&&o(this).css({left:r.left-n.left-i.left,width:l,height:_}),e._helper&&!t.animate&&/static/.test(s.css("position"))&&o(this).css({left:r.left-n.left-i.left,width:l,height:_})},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}})}(),c="oj-dialog-body",p="oj-dialog-content",S="oj-dialog-footer",g="oj-dialog-header",m="oj-dialog-header-close",f="oj-dialog-header-close-wrapper",E="oj-dialog-option-defaults",C="oj-helper-element-in-dialog-with-accesskey",T="data-ojAccessKey",y=".oj-dialog-title",b=".oj-dialog-footer",A=".oj-dialog-header",v=".oj-dialog-body",R=".oj-dialog-content",L=".oj-dialog-container",O="oj-resizable-n",I="oj-resizable-e",D="oj-resizable-s",w="oj-resizable-w",N="oj-resizable-se",P="oj-resizable-sw",M="oj-resizable-ne",B="oj-resizable-nw",x="oj-draggable",F="body",H="header",j="footer",U="contextMenu",s.__registerWidget("oj.ojDialog",o.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{cancelBehavior:"icon",dragAffordance:"title-bar",initialVisibility:"hide",modality:"modal",position:{my:{horizontal:"center",vertical:"center"},offset:{x:0,y:0},at:{horizontal:"center",vertical:"center"},of:"window",collision:"fit",using:function(e){var t=o(this).css(e).offset().top;t<0&&o(this).css("top",e.top-t)}},resizeBehavior:"resizable",role:"dialog",dialogTitle:null,title:null,beforeClose:null,beforeOpen:null,close:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null,animateStart:null,animateEnd:null},_ComponentCreate:function(){this._super();var e=this;if(this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this._IsCustomElement()||(this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this.element.removeAttr("title")),this.element.hide(),this.element.uniqueId(),this.element.addClass("oj-dialog oj-component"),this.element.attr({tabIndex:-1}),this._IsCustomElement()&&this.element[0].hasAttribute("role")||this.element.attr("role",this.options.role),this._on(this.element,{keydown:this._keydownHandler.bind(this)}),this.userDefinedDialogHeader=!1,this._createContainer(),!this._IsCustomElement())for(var t=this.element.children(),i=0;i<t.length;i++){var n=o(t[i]);n.is(A)?(this.userDefinedDialogHeader=!0,this._userDefinedHeader=n,this._userDefinedHeaderDiv=t[i],this._dialogContainer.appendChild(this._userDefinedHeader[0]),l.subtreeAttached(this._userDefinedHeader)):n.is(v)?(this._createContentDiv(),this._uiDialogContent=o(this._contentDiv),this._contentDiv.appendChild(t[i]),l.subtreeAttached(t[i]),this._dialogContainer.appendChild(this._contentDiv),l.subtreeAttached(this._contentDiv),this._uiDialogBody=n,this._uiDialogBodyDiv=t[i]):n.is(b)&&(this._uiDialogFooter=n,this._uiDialogFooterDiv=t[i],this._dialogContainer.appendChild(this._uiDialogFooter[0]),l.subtreeAttached(this._uiDialogFooter))}this._IsCustomElement()&&this._processSlottedChildren(),this.element[0].appendChild(this._dialogContainer),l.subtreeAttached(this._dialogContainer),this.userDefinedDialogHeader?(this._userDefinedTitleDiv=this._userDefinedHeaderDiv.querySelector(y),this._userDefinedTitle=o(this._userDefinedTitleDiv),null!==this._userDefinedTitleDiv&&void 0!==this._userDefinedTitleDiv&&(this._userDefinedTitle.uniqueId(),this.element.attr({"aria-labelledby":this._userDefinedTitle.attr("id")}))):this._createTitlebar(),this._uiDialogContent||(this._createContentDiv(),this._uiDialogContent=o(this._contentDiv),this._userDefinedHeader?this._dialogContainer.insertBefore(this._contentDiv,this._userDefinedHeaderDiv.nextSibling):this._dialogContainer.insertBefore(this._contentDiv,this._uiDialogTitlebarDiv.nextSibling),l.subtreeAttached(this._contentDiv)),this._setupFocus(this.element);var a=this.options;a.position=s.PositionUtils.coerceToJet(a.position),this._IsCustomElement()&&(this._titleMutationObserver=new MutationObserver((function(t){t.forEach((function(t){"attributes"===t.type&&"title"===t.attributeName&&(e._uiDialogTitleDiv.textContent=t.target.getAttribute(t.attributeName))}))})),this._titleMutationObserver.observe(this.element[0],{attributes:!0,attributeFilter:["title"]}))},_createContainer:function(){this._dialogContainer=document.createElement("div"),this._dialogContainer.classList.add("oj-dialog-container")},_createHeaderSlot:function(){this._headerSlot=document.createElement("div"),this._headerSlot.classList.add(g),this._dialogContainer.appendChild(this._headerSlot),l.subtreeAttached(this._headerSlot),this.userDefinedDialogHeader=!0,this._userDefinedHeaderDiv=this._headerSlot,this._userDefinedHeader=o(this._headerSlot)},_createFooterSlot:function(){this._footerSlot=document.createElement("div"),this._dialogContainer.appendChild(this._footerSlot),l.subtreeAttached(this._footerSlot),this._uiDialogFooterDiv=this._footerSlot,this._uiDialogFooter=o(this._footerSlot)},_createContentDiv:function(){this._contentDiv=document.createElement("div"),this._contentDiv.classList.add(p,"oj-dialog-default-content")},_createBodySlot:function(){this._createContentDiv(),this._dialogContainer.appendChild(this._contentDiv),l.subtreeAttached(this._contentDiv),this._bodySlot=document.createElement("div"),this._bodySlot.classList.add("oj-dialog-body-wrapper"),this._contentDiv.appendChild(this._bodySlot),this._uiDialogContent=o(this._contentDiv),this._uiDialogBodyDiv=this._bodySlot,this._uiDialogBody=o(this._bodySlot)},_GetContextMenu:function(){return this._IsCustomElement()?this._contextmenuSlot&&this._contextmenuSlot.length>0?this._contextmenuSlot[0]:this._super():null},_processSlottedChildren:function(){null!=this._footerSlot&&this.element[0].removeChild(this._footerSlot),null!=this._headerSlot&&this.element[0].removeChild(this._headerSlot),null!=this._bodySlot&&this.element[0].removeChild(this._bodySlot),null!=this._contextmenuSlot&&this.element[0].removeChild(this._contextmenuSlot);var e,t,i=h.CustomElementUtils.getSlotMap(this.element[0]),n=Object.keys(i);for(t=0;t<n.length;t++)(e=n[t])!==H&&e!==j&&e!==F&&""!==e&&e!==U&&i[e].parentNode.removeChild(i[e]);var o=Object.prototype.hasOwnProperty;o.call(i,H)&&this._createHeaderSlot(),(o.call(i,F)||o.call(i,""))&&this._createBodySlot(),o.call(i,j)&&this._createFooterSlot(),o.call(i,U)&&(this._contextmenuSlot=i[U]);var s=this._bodySlot;for(t=0;t<n.length;t++){switch(e=n[t]){case H:s=this._headerSlot;break;case j:s=this._footerSlot;break;case F:case"":s=this._bodySlot}var a=i[e];if(null!=a)for(var r=0;r<a.length;r++)switch(s.appendChild(a[r]),e){case H:break;case j:s=this._footerSlot,i[e][r].classList.add(S);break;case F:case"":s=this._bodySlot,i[e][r].classList.add(c)}}},_AfterCreateEvent:function(){"show"===this.options.initialVisibility&&this.open()},_destroy:function(){this._off(this.element,"keydown"),s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._setWhenReady("none"),this._destroyResizable(),this.element.hasClass(x)&&(this.element.draggable("destroy"),this.element.removeClass(x)),this._destroyCloseButton(),this.userDefinedDialogHeader&&this._userDefinedTitle.removeUniqueId(),this._uiDialogBody&&this._uiDialogBody.insertAfter(this._uiDialogContent),this._uiDialogContent.remove(),this._uiDialogBody=null,this._uiDialogContent=null,this.element.removeUniqueId().removeClass("oj-dialog oj-component").css(this.originalCss),this.element.stop(!0,!0),this._IsCustomElement()||this.originalTitle&&this.element.attr("title",this.originalTitle),this._uiDialogTitlebar&&(this._uiDialogTitlebar.remove(),this._uiDialogTitlebar=null),delete this._popupServiceEvents,this._super()},disable:o.noop,enable:o.noop,close:function(e){if(!this._isOperationPending("close",[e])){var t=s.ZOrderUtils.getStatus(this.element);if(t===s.ZOrderUtils.STATUS.OPEN)if(s.ZOrderUtils.setStatus(this.element,s.ZOrderUtils.STATUS.BEFORE_CLOSE),!1!==this._trigger("beforeClose",e)||this._ignoreBeforeCloseResultant){if(this._setWhenReady("close"),this._focusedElement=null,"modal"===this.options.modality){var i=Array.prototype.forEach,n=this.element[0].querySelectorAll(".oj-helper-element-in-dialog-with-accesskey");i.call(n,(function(e){e.classList.remove(C)}));var o=document.querySelectorAll(".oj-helper-element-with-accesskey");i.call(o,(function(e){e.setAttribute("accesskey",e.getAttribute(T)),e.removeAttribute(T),e.classList.remove("oj-helper-element-with-accesskey")}))}var a={};a[s.PopupService.OPTION.POPUP]=this.element,a[s.PopupService.OPTION.CONTEXT]={closeEvent:e},s.PopupService.getInstance().close(a)}else s.ZOrderUtils.setStatus(this.element,t)}},_beforeCloseHandler:function(e){var t=e[s.PopupService.OPTION.POPUP],i=this._isFullDisplay(),n=this._isSheetDisplay();this._unregisterResizeListener(t[0]),this._destroyResizable(),n&&this._disableBodyOverflow();var o,a=(r.parseJSONFromFontFamily(E)||{}).animation;if(a&&(n&&!i&&a.sheet?o=a.sheet.close:a.normal?o=a.normal.close:a.close&&(o=a.close)),!this._ignoreBeforeCloseResultant&&o)return _.startAnimation(t[0],"close",o,this).then((function(){t.hide()}));t.hide()},_afterCloseHandler:function(e){var t,i=e[s.PopupService.OPTION.CONTEXT];if(this._restoreBodyOverflow(),!this.opener.filter(":focusable").focus().length){var n=this.opener.parents().filter(":focusable");n.length>0?n[0].focus():o(this.document[0].activeElement).blur()}i&&(t=i.closeEvent),this._trigger("close",t)},isOpen:function(){var e=s.ZOrderUtils.getStatus(this.element);return e===s.ZOrderUtils.STATUS.OPENING||e===s.ZOrderUtils.STATUS.OPEN||e===s.ZOrderUtils.STATUS.BEFORE_CLOSE||e===s.ZOrderUtils.STATUS.CLOSING},open:function(e){if(!this._isOperationPending("open",[e])){var t=s.ZOrderUtils.getStatus(this.element);if(t===s.ZOrderUtils.STATUS.OPEN||t===s.ZOrderUtils.STATUS.UNKNOWN||t===s.ZOrderUtils.STATUS.CLOSE)if(this._isDefaultPosition=!this._hasPositionAttribute(),s.ZOrderUtils.setStatus(this.element,s.ZOrderUtils.STATUS.BEFORE_OPEN),!1!==this._trigger("beforeOpen",e)){if(t===s.ZOrderUtils.STATUS.OPEN)return s.ZOrderUtils.setStatus(this.element,t),void this._focusTabbable();this._setWhenReady("open"),this.userDefinedDialogHeader?void 0!==this.closeButton&&null!==this.closeButton||"icon"!==this.options.cancelBehavior||this._createCloseButton(this._userDefinedHeaderDiv):this._createTitlebarCloseButton(),this.opener=o(this.document[0].activeElement);var i=this._isSheetDisplay();i&&this.element[0].classList.add("oj-dialog-sheet"),!i&&"title-bar"===this.options.dragAffordance&&o.fn.draggable&&this._makeDraggable();var n="rtl"===this._GetReadingDirection(),a=this.options.position;if(i&&(a=this._setSheetPosition(this.options.position)),a=s.PositionUtils.coerceToJqUi(a),a=s.PositionUtils.normalizeHorizontalAlignment(a,n),"modal"===this.options.modality){var r=Array.prototype.forEach,l=this.element[0].querySelectorAll("[accesskey]");r.call(l,(function(e){e.classList.add(C)}));var _=document.querySelectorAll("[accesskey]");r.call(_,(function(e){e.classList.contains(C)||(e.classList.add("oj-helper-element-with-accesskey"),e.setAttribute(T,e.getAttribute("accesskey")),e.removeAttribute("accesskey"))}))}var u={};u[s.PopupService.OPTION.POPUP]=this.element,u[s.PopupService.OPTION.LAUNCHER]=this.opener,u[s.PopupService.OPTION.POSITION]=a,u[s.PopupService.OPTION.MODALITY]=this.options.modality,u[s.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),u[s.PopupService.OPTION.LAYER_SELECTORS]="oj-dialog-layer",u[s.PopupService.OPTION.LAYER_LEVEL]=s.PopupService.LAYER_LEVEL.TOP_LEVEL,u[s.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement(),s.PopupService.getInstance().open(u)}else s.ZOrderUtils.setStatus(this.element,t)}},_beforeOpenHandler:function(e){var t=e[s.PopupService.OPTION.POPUP],i=e[s.PopupService.OPTION.POSITION],n=this._isSheetDisplay();n&&this._disableBodyOverflow(),t.show();var o=this._isFullDisplay();o&&this.element[0].classList.add("oj-dialog-full"),t.position(i),this._initialWidth=t.width(),this._initialHeight=t.height(),this._registerResizeListener(this.element[0]),t.parent().addClass("oj-animate-open");var a,l=(r.parseJSONFromFontFamily(E)||{}).animation;if(l&&(n&&!o&&l.sheet?a=l.sheet.open:l.normal?a=l.normal.open:l.open&&(a=l.open)),a)return _.startAnimation(t[0],"open",a,this)},_afterOpenHandler:function(e){var t=e[s.PopupService.OPTION.POPUP];t.parent().removeClass("oj-animate-open"),s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.IOS?this._adjustPosition():this._initialWidth===t.width()&&this._initialHeight===t.height()||this._adjustPosition(),delete this._initialWidth,delete this._initialHeight,this._restoreBodyOverflow(),this._makeResizable(),this._trigger("open"),this._focusTabbable()},refresh:function(){this._super()},_unregisterResizeListener:function(e){e&&this._resizeHandler&&(a.removeResizeListener(e,this._resizeHandler),this._resizeHandler=null)},_registerResizeListener:function(e){e&&(null==this._resizeHandler&&(this._resizeHandler=this._handleResize.bind(this)),a.addResizeListener(e,this._resizeHandler,100,!0))},_handleResize:function(){s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&this._adjustPosition()},_focusTabbable:function(){this.GetFocusElement().focus(),this._trigger("focus")},GetFocusElement:function(){var e=null;return!0===this._titleBarMousedown?this.element[0]:(null!=(e=this.element.find("[autofocus]"))&&e.length||null==(e=u.getFirstTabStop(this._contentDiv)))&&(null!=e&&e.length||!this._uiDialogFooter||!this._uiDialogFooter.length||null==(e=u.getFirstTabStop(this._uiDialogFooterDiv)))?(null!=e&&e.length||this.closeButton&&(e=this.closeButton),null!=e&&e.length||(e=this.element),e[0]):e},_keydownHandler:function(e){if("none"!==this.options.cancelBehavior&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===o.ui.keyCode.ESCAPE)return e.preventDefault(),e.stopImmediatePropagation(),void this.close(e);var t;e.keyCode===o.ui.keyCode.TAB&&(e.shiftKey?(u.isFirstActiveElement(this.element)||document.activeElement===this.element[0])&&null!=(t=u.getLastTabStop(this.element))&&(t.focus(),e.preventDefault()):(u.isLastActiveElement(this.element)||document.activeElement===this.element[0])&&null!=(t=u.getFirstTabStop(this.element))&&(t.focus(),e.preventDefault()))},_setupFocus:function(e){var t=this;this._focusable({applyHighlight:!0,setupHandlers:function(i,n){t._on(e,{focus:function(e){i(o(e.currentTarget))},blur:function(e){n(o(e.currentTarget))}})}})},_disableBodyOverflow:function(){document.body.classList.add("oj-dialog-sheet-animating")},_restoreBodyOverflow:function(){document.body.classList.remove("oj-dialog-sheet-animating")},_destroyCloseButton:function(){null!==this.closeButtonDiv&&void 0!==this.closeButtonDiv&&(this.closeButtonDiv.parentElement&&(l.subtreeDetached(this.closeButtonDiv),this.closeButtonDiv.parentElement.removeChild(this.closeButtonDiv)),this.closeButton=null),this._headerSlot&&this._headerSlot.classList.remove(m),this._uiDialogTitlebarDiv&&this._uiDialogTitlebarDiv.classList.remove(m)},_createCloseButton:function(e){if(this._IsCustomElement()){this.closeButtonDiv=document.createElement("oj-button"),this.closeButtonDiv.classList.add(f),this.closeButtonDiv.setAttribute("data-oj-binding-provider","none"),this.closeButtonDiv.setAttribute("display","icons"),this.closeButtonDiv.setAttribute("chroming","half");var t=document.createElement("span");t.textContent=this.getTranslatedString("labelCloseIcon");var i=document.createElement("span");i.className="oj-fwk-icon oj-fwk-icon-cross",i.setAttribute("slot","startIcon"),this.closeButtonDiv.appendChild(i),this.closeButtonDiv.appendChild(t),e.appendChild(this.closeButtonDiv),l.subtreeAttached(this.closeButtonDiv),this.closeButton=o(this.closeButtonDiv)}this._IsCustomElement()||(this.closeButton=o("<button><\button>").addClass(f),this.closeButton.ojButton({display:"icons",chroming:"half",label:this.getTranslatedString("labelCloseIcon"),icons:{start:"oj-component-icon oj-fwk-icon-cross"}}).appendTo(e),this.closeButtonDiv=this.closeButton[0]),this._on(this.closeButton,{click:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.close(e)}}),this._headerSlot&&this._headerSlot.classList.add(m),this._uiDialogTitlebarDiv&&this._uiDialogTitlebarDiv.classList.add(m)},_createTitlebarCloseButton:function(){void 0!==this.closeButton&&null!==this.closeButton||"icon"!==this.options.cancelBehavior||this._createCloseButton(this._uiDialogTitlebarDiv),this._on(this._uiDialogTitlebar,{mousedown:function(e){var t=a.isAncestorOrSelf(this.closeButtonDiv,e.target);this._titleBarMousedown=!0,t||this.element.focus()},mouseup:function(){this._titleBarMousedown=null}})},_createTitlebar:function(){this._uiDialogTitlebarDiv=document.createElement("div"),this._uiDialogTitlebarDiv.classList.add(g),this._dialogContainer.insertBefore(this._uiDialogTitlebarDiv,this._dialogContainer.firstChild),l.subtreeAttached(this._uiDialogTitlebarDiv),this._uiDialogTitlebar=o(this._uiDialogTitlebarDiv),this._uiDialogTitleDiv=document.createElement("h1"),this._uiDialogTitleDiv.classList.add("oj-dialog-title"),o(this._uiDialogTitleDiv).uniqueId(),this._uiDialogTitlebarDiv.appendChild(this._uiDialogTitleDiv),l.subtreeAttached(this._uiDialogTitleDiv),this._title(this._uiDialogTitleDiv),this.element.attr({"aria-labelledby":this._uiDialogTitleDiv.id})},_title:function(e){var t=e;this._IsCustomElement()?this._IsCustomElement()&&(this.options.dialogTitle?t.textContent=this.options.dialogTitle:this.element.attr("title")?t.textContent=this.element.attr("title"):t.innerHTML="&#160;"):(this.options.title||(t.innerHTML="&#160;"),t.textContent=this.options.title)},_makeDraggable:function(){var e=this,t=this.options;function i(e){return{position:e.position,offset:e.offset}}this.element.draggable({addClasses:!1,handle:".oj-dialog-header",containment:"document",start:function(t,n){o(this).addClass("oj-dialog-dragging"),e._positionDescendents(),e._trigger("dragStart",t,i(n))},drag:function(t,n){e._positionDescendents(),e._trigger("drag",t,i(n))},stop:function(n,s){var a=s.offset.left-e.document.scrollLeft(),r=s.offset.top-e.document.scrollTop();t.position={my:{horizontal:"left",vertical:"top"},at:{horizontal:"left",vertical:"top"},offset:{x:a>=0?a:0,y:r>=0?r:0},of:window},o(this).removeClass("oj-dialog-dragging"),e._positionDescendents(),e._trigger("dragStop",n,i(s))}}),this.element.addClass(x)},_destroyResizable:function(){this._resizableComponent&&this._resizableComponent("instance")&&(this._resizableComponent("destroy"),delete this._resizableComponent)},_makeResizable:function(){if(this._destroyResizable(),"resizable"===this.options.resizeBehavior){var e=this;this._resizableComponent=this.element.ojResizable.bind(this.element);var t=Math.max(a.getCSSLengthAsFloat(this.element.css("min-width")),10),i=Math.max(a.getCSSLengthAsFloat(this.element.css("min-height")),10),n=a.getCSSLengthAsFloat(this.element.css("max-width")),s=a.getCSSLengthAsFloat(this.element.css("max-height"));n=0===n?null:n,s=0===s?null:s,this._resizableComponent({minWidth:t,minHeight:i,maxWidth:n,maxHeight:s,cancel:R,containment:"document",handles:"n,e,s,w,se,sw,ne,nw",start:function(t,i){e._isResizing=!0,o(this).addClass("oj-dialog-resizing"),e._trigger("resizeStart",t,r(i))},resize:function(t,i){e._trigger("resize",t,r(i))},stop:function(t,i){e._isResizing=!1,o(this).removeClass("oj-dialog-resizing"),e._trigger("resizeStop",t,r(i))}})}function r(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}},_position:function(){var e="rtl"===this._GetReadingDirection(),t=this.options.position;this._isSheetDisplay()&&(t=this._setSheetPosition(t)),t=s.PositionUtils.coerceToJqUi(t),t=s.PositionUtils.normalizeHorizontalAlignment(t,e),this.element.position(t),this._positionDescendents()},_positionDescendents:function(){s.PopupService.getInstance().triggerOnDescendents(this.element,s.PopupService.EVENT.POPUP_REFRESH)},_adjustPosition:function(){var e=this.element.hasClass(x),t=this.element.hasClass("oj-resizable");e||t||this.element.width()>window.innerWidth||this.element.height()>window.innerHeight?this._positionDescendents():this._position()},_isSheetDisplay:function(){if(this._isDefaultPosition){var e=r.parseJSONFromFontFamily("oj-theme-json").behavior,t="phone"===d.getDeviceRenderMode();if(e.includes("redwood")&&t)return!0}return!1},_isFullDisplay:function(){if(!this._isSheetDisplay())return!1;var e=window.innerHeight,t=window.innerWidth,i=this.element[0].offsetHeight,n=this.element[0].offsetWidth;return i>=.95*e&&n>=.95*t},_hasPositionAttribute:function(){for(var e=this.element[0].attributes,t=0;t<e.length;t++)if(e[t].name.startsWith("position"))return!0;return!1},_setSheetPosition:function(e){var t=o.extend({},e);return t.my.vertical="bottom",t.at.vertical="bottom",t.of=window,t},_setOption:function(e,t,i){var n;if("disabled"!==e)switch(this._super(e,t,i),e){case"dragAffordance":(n=this.element.hasClass(x))&&"none"===t&&(this.element.draggable("destroy"),this.element.removeClass(x)),this._isSheetDisplay()||n||"title-bar"!==t||this._makeDraggable();break;case"position":this._isDefaultPosition=!1;var a=this.options;return a.position=s.PositionUtils.coerceToJet(t,a.position),void this._position();case"resizeBehavior":s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&this._makeResizable();break;case"title":case"dialogTitle":this.userDefinedDialogHeader?this._title(this._userDefinedHeaderDiv.querySelector(y)):this._title(this._uiDialogTitlebarDiv.querySelector(y));break;case"role":this.element.attr("role",t);break;case"modality":if(s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN){var r={};r[s.PopupService.OPTION.POPUP]=this.element,r[s.PopupService.OPTION.MODALITY]=t,s.PopupService.getInstance().changeOptions(r)}break;case"cancelBehavior":"none"===t||"escape"===t?this._destroyCloseButton():"icon"===t&&(this.userDefinedDialogHeader?(this._destroyCloseButton(),this._createCloseButton(this._userDefinedHeaderDiv),this._userDefinedTitleDiv=this._userDefinedHeaderDiv.querySelector(y),this._userDefinedTitle=o(this._userDefinedTitleDiv)):(this._destroyCloseButton(),this._createCloseButton(this._uiDialogTitlebarDiv),this.standardTitleDiv=this._uiDialogTitlebarDiv.querySelector(y),this.standardTitle=o(this.standardTitleDiv)))}},getNodeBySubId:function(e){if(null===e)return this.element?this.element[0]:null;function t(e){for(var t=[],i=/\w|_|-/,n=0;n<e.length;n++){var o=e.substring(n,n+1);i.test(o)?t.push(o):t.push("\\"+o)}return t.join("")}var i=e.subId;if(!this._IsCustomElement()||i!==S&&i!==c){var n,o;switch(i){case g:case p:case S:return n=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > '+L+" > ",n+="."+i,(o=this.element.parent().find(n))&&0!==o.length?o[0]:null;case O:case I:case D:case w:case N:case P:case M:case B:return n=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',n+="."+i,(o=this.element.parent().find(n))&&0!==o.length?o[0]:null;case"oj-dialog-close-icon":case"oj-dialog-close":return null;case c:return n=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',n+=L+" > "+R+" > ",n+="."+i,(o=this.element.parent().find(n))&&0!==o.length?o[0]:null;case f:return n=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',n+=L+" > "+A+" > ",n+="."+i,(o=this.element.parent().find(n))&&0!==o.length?o[0]:null}}else{if(i===c)return this._uiDialogBodyDiv.querySelector(v);if(i===S)return this._uiDialogFooterDiv.querySelector(b)}return null},getSubIdByNode:function(e){if(null!=e){var t=o(e);if(t.hasClass(g))return{subId:g};if(t.hasClass(S))return{subId:S};if(t.hasClass(p))return{subId:p};if(t.hasClass(f))return{subId:f};if(t.hasClass(O))return{subId:O};if(t.hasClass(I))return{subId:I};if(t.hasClass(D))return{subId:D};if(t.hasClass(w))return{subId:w};if(t.hasClass(N))return{subId:N};if(t.hasClass(P))return{subId:P};if(t.hasClass(M))return{subId:M};if(t.hasClass(B))return{subId:B}}return null},_surrogateRemoveHandler:function(){var e=this.element;s.ZOrderUtils.getStatus(e)===s.ZOrderUtils.STATUS.OPEN&&e.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var e={};e[s.PopupService.EVENT.POPUP_CLOSE]=this._closeImplicitly.bind(this),e[s.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),e[s.PopupService.EVENT.POPUP_REFRESH]=this._adjustPosition.bind(this),e[s.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),e[s.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),e[s.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),e[s.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this),this._popupServiceEvents=e}return this._popupServiceEvents},_closeImplicitly:function(){this._ignoreBeforeCloseResultant=!0,this.close(),delete this._ignoreBeforeCloseResultant},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojDialog",this._IsCustomElement()))},_isOperationPending:function(e,t){var i=this._whenReadyMediator;return!!i&&i.isOperationPending(this,e,e,t)},_NotifyDetached:function(){s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._super()}}),l.setDefaultOptions({ojDialog:{resizeBehavior:l.createDynamicPropertyGetter((function(){return(r.parseJSONFromFontFamily(E)||{}).resizeBehavior})),cancelBehavior:l.createDynamicPropertyGetter((function(){return(r.parseJSONFromFontFamily(E)||{}).cancelBehavior})),dragAffordance:l.createDynamicPropertyGetter((function(){return(r.parseJSONFromFontFamily(E)||{}).dragAffordance}))}}),(V={properties:{cancelBehavior:{type:"string",enumValues:["escape","icon","none"]},dialogTitle:{type:"string"},dragAffordance:{type:"string",enumValues:["none","title-bar"]},initialVisibility:{type:"string",enumValues:["hide","show"],value:"hide"},modality:{type:"string",enumValues:["modal","modeless"],value:"modal"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"center"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"center"}}},collision:{type:"string",enumValues:["fit","flip","flipfit","none"],value:"fit"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"center"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"center"}}},of:{type:"string|object",value:"window"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}},resizeBehavior:{type:"string",enumValues:["none","resizable"]},translations:{type:"object",value:{},properties:{labelCloseIcon:{type:"string"}}}},methods:{close:{},getProperty:{},isOpen:{},open:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeClose:{},ojBeforeOpen:{},ojClose:{},ojFocus:{},ojOpen:{},ojResize:{},ojResizeStart:{},ojResizeStop:{}},extension:{}}).extension._WIDGET_NAME="ojDialog",V.extension._CONTROLS_SUBTREE_HIDDEN=!0,s.CustomElementBridge.register("oj-dialog",{metadata:V})}.apply(t,n))||(e.exports=o)},2889:(e,t,i)=>{var n,o;n=[t,i(7006),i(857),i(9755),i(290),i(9279),i(4886),i(9093),i(9831),i(8539),i(602),i(7516),i(6923),i(5181),i(2168),i(9954),i(840),i(9890),i(3215),i(7609)],o=function(e,t,i,n,o,s,a,r,l,_,u,h,d,c,p,S,g,m,f,E){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,_=_&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;const C=function(e){this.Init(e)};t.Object.createSubclass(C,t.MessagingStrategy,"BaseInsideLabelStrategy"),C.prototype._GetFormControlLabelStyleClass=function(){return"oj-form-control-label-inside"},C.prototype._CreateLabel=function(){var e=this.GetComponent(),t=this._GetContainer(e);if(!t)return;var i=e.options,n=e._getRootElement(),o=this._GetFormControlLabelStyleClass();n.classList.add(o),this.GenerateIdIfNeeded(n),this._showUserAssistanceNotInline=e._showUserAssistanceNotInline();let s=i.required&&this._showUserAssistanceNotInline;this._createOjLabelElement(n,e,t,i.labelHint,s,i.helpHints,this._showUserAssistanceNotInline)},C.prototype._createOjLabelElement=function(e,t,i,n,o,s,a){var r=document.createElement("oj-label");r.id=C._getLabelId(e),r.setAttribute("data-oj-binding-provider","none"),r.setAttribute("data-oj-internal",""),r.setAttribute("for",e.id);var l=[t._GetDefaultStyleClass(),"label"].join("-");r.classList.add(l),o&&r.setAttribute("show-required",o),a&&s&&(r.help=s);var _=document.createElement("span");_.id=[e.id,"|hint"].join(""),_.textContent=n,r.appendChild(_),this._InsertOjLabel(r,i,t),this._CreateEventHandlers(_,e,r,t)},C.prototype._GetContainer=function(e){return e._GetFormControlContainer()},C.prototype._CreateEventHandlers=function(e,t,i,n){this._labelHintChangedCallback=C._labelHintChangedHandler.bind(this,e),t.addEventListener("labelHintChanged",this._labelHintChangedCallback),this._requiredChangedCallback=C._requiredChangedHandler.bind(this,i,n),t.addEventListener("requiredChanged",this._requiredChangedCallback),this._helpHintsChangedCallback=C._helpHintsChangedHandler.bind(this,i,n),t.addEventListener("helpHintsChanged",this._helpHintsChangedCallback)},C.prototype._DestroyLabel=function(){var e=this.GetComponent(),t=e.options,i=e._getRootElement(),n=this._GetFormControlLabelStyleClass();i.classList.remove(n);var o=C._getLabelId(i);const s=i.querySelector(`[id='${o}']`);s&&(s.for="",s.parentElement.removeChild(s)),t.labelledBy=void 0,this._DeleteEventHandlers(i)},C.prototype._DeleteEventHandlers=function(e){e.removeEventListener("labelHintChanged",this._labelHintChangedCallback),e.removeEventListener("requiredChanged",this._requiredChangedCallback),e.removeEventListener("helpHintsChanged",this._helpHintsChangedCallback),delete this._helpHintsChangedCallback,delete this._labelHintChangedCallback,delete this._requiredChangedCallback},C._getLabelId=function(e){return[e.id,"-labelled-by"].join("")},C._labelHintChangedHandler=function(e,t){e.textContent=t.detail.value},C._requiredChangedHandler=function(e,t,i){null==this._showUserAssistanceNotInline&&(this._showUserAssistanceNotInline=t._showUserAssistanceNotInline()),e.showRequired=i.detail.value&&this._showUserAssistanceNotInline},C._helpHintsChangedHandler=function(e,t,i){this._showUserAssistanceNotInline=t._showUserAssistanceNotInline(),this._showUserAssistanceNotInline&&(e.help=i.detail.value)};const T={validationContext:{COMPONENT_CREATE:1,CONVERTER_OPTION_CHANGE:2,DISABLED_OPTION_CHANGE:3,READONLY_OPTION_CHANGE:4,REFRESH_METHOD:5,REQUIRED_OPTION_CHANGE:6,RESET_METHOD:7,USER_ACTION:8,VALIDATE_METHOD:9,VALIDATORS_OPTION_CHANGE:10,VALUE_OPTION_CHANGE:11}};T.validateMethodOptions={doValueChangeCheck:!1,validationContext:T.validationContext.VALIDATE_METHOD},T.converterOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:T.validationContext.CONVERTER_OPTION_CHANGE},T.disabledOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:T.validationContext.DISABLED_OPTION_CHANGE},T.requiredOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:T.validationContext.REQUIRED_OPTION_CHANGE},T.readOnlyOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:T.validationContext.READONLY_OPTION_CHANGE},T.refreshMethodOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:T.validationContext.REFRESH_METHOD},T.validatorsOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:T.validationContext.VALIDATORS_OPTION_CHANGE},T.VALIDATE_VALUES={VALID:"valid",INVALID:"invalid"},T.getAttributeValue=function(e,t){var i,n={};if(e&&t){var o=e[0];switch(t){case"disabled":i=o.hasAttribute("disabled")?!!o.disabled:void 0;break;case"pattern":i=o.pattern||void 0;break;case"placeholder":i=o.placeholder||void 0;break;case"readonly":i=o.hasAttribute("readonly")?!!o.readOnly:void 0;break;case"required":if(o.hasAttribute("required")){var s=o.required;i=void 0===s||!!s}else i=void 0;break;case"title":i=o.hasAttribute("title")?o.title:void 0;break;case"value":i=e.val()||void 0;break;default:i=o.getAttribute(t)||void 0}}return void 0!==i?(n.fromDom=!0,n.value=i):n.fromDom=!1,n},T.initializeOptionsFromDom=function(e,t,i,n){for(var o={},s=0;s<e.length;s++){var a,r,l=e[s],_=l.attribute,u=l.option||_,h=l.coerceDomValue,d=l.validateOption,c=i.element,p=i.options[u];void 0===t[u]&&(p=i.options[u],(r=T.getAttributeValue(c,_)).fromDom&&(a=r.value,h&&("boolean"==typeof h?a=T.coerceDomValueForOption(u,a):"function"==typeof h&&(a=h.call(i,a))),o[u]=a));var S=u in o?o[u]:p;d&&"boolean"==typeof d&&T.validateValueForOption(u,S)}null!=n&&n(o),i.option(o,{_context:{writeback:!0,internalSet:!0}})},T.validateValueForOption=function(e,t){var i=!1;switch(e){case"required":case"readOnly":case"disabled":null!==t&&"boolean"!=typeof t&&(i=!0)}if(i)throw new Error("Option '"+e+"' has invalid value set: "+t)},T.coerceDomValueForOption=function(e,t){var i=t;return"required"===e&&(i=!!t),i},T.setPickerAttributes=function(e,t){if(e&&t){var i=t.class;if(i)for(var n=i.split(" "),o=0,s=n.length;o<s;++o)e[0].classList.add(n[o]);t.style&&l.error("picker-attributes.style attribute violates the recommended\n        Content Security Policy which disallows inline styles and is therefore ignored.\n        Use the picker-attributes.class attribute instead.")}},T.hasNoLabelFlag=function(e){return e[0].hasAttribute("data-oj-no-labelledby")},T._getOjLabelAriaLabelledBy=function(e,t){var i,n=T._getCustomOjLabelElements(e);if(n){i="";for(var o=0;o<n.length;o++){var s=n[o],a=s.getAttribute("label-id");if(!a){var r=s.querySelector("label");r?a=r.getAttribute("id"):(s.setAttribute("label-id",t),a=t)}i+=a,o+1<n.length&&(i+=" ")}}return i},T._getCustomOjLabelElements=function(e){var t=[];if(e)for(var i=e.split(/\s+/),n=0;n<i.length;n++){var o=i[n],s=document.getElementById(o);s?t.push(s):l.info("Cannot find oj-label with id "+s)}return t},T._initInputIdLabelForConnection=function(e,t,i){t&&(e.setAttribute("id",t+"|input"),i&&this._linkLabelForInputComp(i,e.id)),i&&this._setReadonlyDivLabelledBy(i)},T._labelledByUpdatedForInputComp=function(e,t){e&&(t&&this._linkLabelForInputComp(e,t),this._setReadonlyDivLabelledBy(e)),this._IsRequired()&&this.options.translations.required&&(this._implicitReqValidator=null,this._getImplicitRequiredValidator())},T._linkLabelForInputComp=function(e,t){var i=T._getCustomOjLabelElements(e);i&&T._setDataOjInputIdAttrOnLabel(t,i)},T._setReadonlyDivLabelledBy=function(e){t.Assert.assert(e);let i=this._getReadonlyDiv();i&&i.setAttribute("aria-labelledby",e+"|label")},T._createOrUpdateReadonlyDiv=function(e,t=!0){let i=this._getReadonlyDiv();if(!i&&t){if(i=this._createReadonlyDiv(e),!i)return;this.options.labelledBy&&this._setReadonlyDivLabelledBy(this.options.labelledBy),this._setAriaLabelFromLabelHint()}i&&(i.textContent=this._GetDisplayValue(),T._setTabIndex(e,i))},T._setTabIndex=function(e,t){let i=e.tabIndex;null!==i&&(t.tabIndex=i)},T._setDataOjInputIdAttrOnLabel=function(e,t){if(t)for(var i=0;i<t.length;i++)t[i].setAttribute("data-oj-input-id",e)},T.validate=function(){var e;if(!1!==(e=this._SetValue(this._GetDisplayValue(),null,this._VALIDATE_METHOD_OPTIONS))||this._CanSetValue()||(e=!0),this._IsCustomElement()){if(e instanceof Promise)return e.then((function(e){return Promise.resolve(e?"valid":"invalid")}));e=Promise.resolve(e?"valid":"invalid")}else if(e instanceof Promise)return e.then((function(e){return Promise.resolve(e?"valid":"invalid")}));return e},T._refreshRequired=function(e){var t,i,n,o=this._AriaRequiredUnsupported();if(this._refreshTheming("required",e),o||(i=this._GetContentElement(),(n=e)&&i?i[0].setAttribute("aria-required",n):i[0].removeAttribute("aria-required")),!this._IsCustomElement()&&(this.$label||this._createOjLabel(),this.$label&&(this.$label.ojLabel("option","showRequired",e),o))){var s=this._getAriaLabelledByElement(this.element);if(null!==s&&0!==s.length&&(t=s[0].getAttribute("id")),t){let i=t+"_requiredIcon";e?this._describedByUpdated(null,i):this._describedByUpdated(i,null)}}},T._AfterSetOptionRequired=function(e){this._refreshRequired(this._IsRequired()),this._runMixedValidationAfterSetOption(T.requiredOptionOptions)},T._AfterSetOptionValidators=function(){var e;this._ResetAllValidators(),this._hasInvalidMessagesShowing()&&(this._clearComponentMessages(),e=this._GetDisplayValue(),this._SetValue(e,null,T.validatorsOptionOptions))},T._AfterSetOptionAsyncValidators=function(){this._AfterSetOptionValidators()},T._AfterSetOptionConverter=function(){this._converter=null,this._converterChangedCounter+=1;var e=this._GetConverter();if(e instanceof Promise){var t=this;this._setBusyStateAsyncConverterLoading();var i=this._converterChangedCounter;this._loadingConverter(e).then((function(){i===t._converterChangedCounter&&t._ResetConverter(),t._clearBusyStateAsyncConverterLoading()}))}else this._ResetConverter()},T._AfterCreateConverterCached=function(){this._HasPlaceholderSet()&&(this._SetPlaceholder(this.options.placeholder),this._customPlaceholderSet=!0),this._initComponentMessaging(this._MESSAGING_CONTENT_UPDATE_TYPE.ALL),this._Refresh("value",this.options.value,!1),this.options.messagesShown.length>0&&this._setMessagesOption("messagesShown",this.options.messagesShown,null,!0)},T._ResetConverter=function(){var e;this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT)),this._hasInvalidMessagesShowing()?(this._clearComponentMessages(),e=this._GetDisplayValue(),this._SetValue(e,null,T.converterOptionOptions)):this._Refresh("converter",this.options.converter,!0)},T._GetNormalizedValidatorsFromOption=function(){var e,i,n,o,s,a,r=!0,_=[];if(n=this.options.validators)for(e=0;e<n.length;e++)"object"==typeof(i=n[e])?(i.validate&&"function"==typeof i.validate||(r=!1),r||(a=i.type)&&"string"==typeof a&&(t.Validation&&t.Validation.validatorFactory?s=t.Validation.validatorFactory(a):l.error('oj.Validation.validatorFactory is not available and it is needed to support the deprecated json format for validators property. Please include the backward compatibility "ojvalidation-base" module.'),s&&((o=t.CollectionUtils.copyInto({},i.options)||{}).converter=o.converter||this._GetConverter(),o.label=o.label||this._getLabelText(),i=s.createValidator(o))),_.push(i)):l.error("Unable to parse the validator provided:"+i);return _},T._GetNormalizedAsyncValidatorsFromOption=function(){var e,t,i,n=[];for(i=this.options.asyncValidators,e=0;e<i.length;e++)"object"==typeof(t=i[e])?t.validate&&"function"==typeof t.validate&&n.push(t):l.error("Unable to parse the validator provided:"+t);return n},T._GetConverter=function(){var e,t,i,n=this;if(!this._converter){if((e=this.options.converter)instanceof Promise?i=e:t=c.getConverterInstance(e),i)return i.then((function(e){return n._converter=e,n._converter||null}));this._converter=t}return this._converter||null},T._SetBusyState=function(e){void 0===this._resolveBusyStateAsyncMap&&(this._resolveBusyStateAsyncMap=new Map);var t=this._resolveBusyStateAsyncMap.get(e);if(!t){var i=this.element[0],n=r.getContext(i).getBusyContext(),o="The page is waiting for async validators for displayValue "+e;i&&i.id&&(o+=' for "'+i.id+'" '),o+="to finish.",t=n.addBusyState({description:o}),this._resolveBusyStateAsyncMap.set(e,t)}},T._ClearBusyState=function(e){var t;void 0!==this._resolveBusyStateAsyncMap&&(t=this._resolveBusyStateAsyncMap.get(e))&&(t(),this._resolveBusyStateAsyncMap.delete(e))},T._SetBusyStateAsyncValidatorHint=function(e){void 0===this._resolveBusyStateAsyncValidatorHintMap&&(this._resolveBusyStateAsyncValidatorHintMap=new Map);var t=this._resolveBusyStateAsyncValidatorHintMap.get(e);if(!t){var i=this.element[0],n=r.getContext(i).getBusyContext(),o="The page is waiting for async validator hint for counter "+e;i&&i.id&&(o+=' for "'+i.id+'" '),o+="to finish.",t=n.addBusyState({description:o}),this._resolveBusyStateAsyncValidatorHintMap.set(e,t)}},T._ClearBusyStateAsyncValidatorHint=function(e){var t;void 0!==this._resolveBusyStateAsyncValidatorHintMap&&(t=this._resolveBusyStateAsyncValidatorHintMap.get(e))&&(t(),this._resolveBusyStateAsyncValidatorHintMap.delete(e))},T._SetBusyStateAsyncConverterLoading=function(){if(!this._resolveBusyStateAsyncConverterLoading){var e=this.element[0],t=r.getContext(e).getBusyContext(),i="The page is waiting for async converter loading ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to finish.",this._resolveBusyStateAsyncConverterLoading=t.addBusyState({description:i})}},T._ClearBusyStateAsyncConverterLoading=function(){void 0!==this._resolveBusyStateAsyncConverterLoading&&(this._resolveBusyStateAsyncConverterLoading(),delete this._resolveBusyStateAsyncConverterLoading)},T._getShowLoadingDelay=function(){null==this._defaultOptions&&(this._defaultOptions=s.parseJSONFromFontFamily("oj-form-control-option-defaults"));var e=parseInt(this._defaultOptions.showIndicatorDelay,10);return isNaN(e)?0:e},T._SetInputType=function(e){var i="text",n=t.AgentUtils.getAgentInfo();if(n.os===t.AgentUtils.OS.ANDROID||n.os===t.AgentUtils.OS.IOS||n.os===t.AgentUtils.OS.WINDOWSPHONE)if(e.indexOf(this.options.virtualKeyboard)>=0)i=this.options.virtualKeyboard;else{var o=this._GetConverter();if(o&&o.resolvedOptions){var s=o.resolvedOptions();e.indexOf(s.virtualKeyboardHint)>=0&&(i=s.virtualKeyboardHint)}}null==i?this.element[0].removeAttribute("type"):this.element[0].setAttribute("type",i)},T._createReadonlyDiv=function(e){if(this._UseReadonlyDiv()){var t=document.createElement("div");t.classList.add("oj-text-field-readonly-div");var i=document.createElement("div");return i.classList.add("oj-text-field-readonly"),i.setAttribute("role","textbox"),i.setAttribute("aria-readonly",!0),t.appendChild(i),e.parentNode.insertBefore(t,e),i}return null},T._getReadonlyDiv=function(){return this.widget()[0].querySelector(".oj-text-field-readonly")};var y={MESSAGES:"display",VALIDATOR_HINT:"display",CONVERTER_HINT:"display"},b={MESSAGES:["inline"],VALIDATOR_HINT:["notewindow"],CONVERTER_HINT:["placeholder","notewindow"]},A="_helpIcon",v="valid",R="invalidShown",L="pending";t.__registerWidget("oj.editableValue",n.oj.baseComponent,{widgetEventPrefix:"oj",options:{describedBy:null,disabled:!1,displayOptions:{},help:void 0,helpHints:{definition:"",source:""},labelHint:"",labelEdge:void 0,messagesCustom:[],messagesHidden:void 0,messagesShown:void 0,title:"",userAssistanceDensity:"reflow",valid:void 0,value:void 0,animateStart:null,animateEnd:null},getNodeBySubId:function(e){var t;if(!(t=this._super(e))&&!this._IsCustomElement()&&"oj-label-help-icon"===e.subId){var i=this._GetLabelElement();i&&(t=i.parent().find(".oj-label-help-icon"))}return t||null},getSubIdByNode:function(e){var t,i,o,s=null;return null!=e&&null!=(t=n(e).closest("a.oj-label-help-icon"))&&null!=(i=t.closest(".oj-label"))&&(o=i.find("label")[0])&&o===this._GetLabelElement()[0]&&(s={subId:"oj-label-help-icon"}),s},isValid:function(){return void 0===this._valid&&(this._valid=!this._hasInvalidMessages()),this._valid},refresh:function(){this._super(),this._doRefresh()},reset:function(){this._clearAllMessages(),this._runDeferredValidation(this._VALIDATION_CONTEXT.RESET_METHOD),this._refreshComponentDisplayValue(this.options.value,!0)},showMessages:function(){var e,t,i,n=[],o=this.options.messagesHidden,s=o.length>0;for(e=0;e<o.length;e++)(t=o[e])instanceof d.ComponentMessage?(t._forceDisplayToShown(),i=t.clone()):i=new d(t.summary,t.detail,t.severity),n.push(i);s&&(this._clearMessages("messagesHidden"),this._updateMessagesOption("messagesShown",n),this._setValidOption(R,null))},_VALIDATION_MODE:{FULL:1,VALIDATORS_ONLY:2,REQUIRED_VALIDATOR_ONLY:3},_VALIDATION_CONTEXT:T.validationContext,_VALIDATE_METHOD_OPTIONS:T.validateMethodOptions,_InitOptions:function(e,t){this._super(e,t)},_ComponentCreate:function(){var e=this.element,t=this._GetSavedAttributes(e);if(this._super(),this.options.messagesCustom=this.options.messagesCustom||[],this.options.messagesHidden=[],this.options.messagesShown=this.options.messagesCustom.length>0?this._cloneMessagesBeforeSet(this.options.messagesCustom):[],this._SetDisabledDom(e),t&&!this._IsCustomElement()){var i=e[0].tagName.toLowerCase();"input"!==i&&"textarea"!==i||["required","title","pattern"].forEach((function(i){i in t&&e.removeAttr(i)}))}},_AfterCreate:function(){var e,t=this;this._super(),this._refreshTheming("disabled",this.options.disabled),this.widget()[0].classList.add("oj-form-control"),this._IsTextFieldComponent()&&(this._IsCustomElement()?this._getRootElement().classList.add("oj-text-field"):this.widget()[0].classList.add("oj-text-field")),this._toggleOjHasNoValueClass(this.options.value),this.widget().uniqueId(),this._IsCustomElement()?this.options.labelledBy?this._labelledByUpdated(this.options.labelledBy):this._setAriaLabelFromLabelHint():this._createOjLabel(),(e=this.options.describedBy)&&this._describedByUpdated(null,e),this._runDeferredValidation(this._VALIDATION_CONTEXT.COMPONENT_CREATE);var i=this._GetConverter();this._converterChangedCounter=0,i instanceof Promise?(this._setBusyStateAsyncConverterLoading(),this._ResolveLabelEdgeStrategyType(),this._loadingConverter(i).then((function(){t._AfterCreateConverterCached(),t._clearBusyStateAsyncConverterLoading()}))):(this._AfterCreateConverterCached(),this._setValidOption(this._determineValidFromMessagesOptions(),null))},_ReleaseResources:function(){this._super(),this._IsCustomElement()&&(this._getComponentMessaging().releaseResources(),this._hammerIsUnregistered=!0)},_SetupResources:function(){this._super(),this._IsCustomElement()&&this._hammerIsUnregistered&&(this._getComponentMessaging().setupResources(),this._hammerIsUnregistered=!1)},_SaveAttributes:function(e){this._IsCustomElement()||this._SaveAllAttributes(e)},_RestoreAttributes:function(e){this._IsCustomElement()||this._RestoreAllAttributes(e)},_AfterSetOption:function(e,t){switch(e){case"disabled":this._AfterSetOptionDisabledReadOnly(e,T.disabledOptionOptions);break;case"displayOptions":case"userAssistanceDensity":this._initComponentMessaging();break;case"labelEdge":this._initComponentMessaging(),this._setAriaLabelFromLabelHint();break;case"labelHint":this._setAriaLabelFromLabelHint();break;case"help":this._IsCustomElement()?this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE)):this._Refresh(e,this.options[e]);break;case"messagesCustom":this._messagesCustomOptionChanged(t),this._setValidOption(this._determineValidFromMessagesOptions(),null);break;case"placeholder":this._SetPlaceholder(this.options.placeholder),this._placeholderOptionChanged(t);break;case"readOnly":this._retainFocusOnReadonlyChange&&setTimeout((()=>{this.GetFocusElement().focus(),this._resolveBusyStateFocusRestore&&(this._resolveBusyStateFocusRestore(),delete this._resolveBusyStateFocusRestore)}),0);break;case"title":this._IsCustomElement()||this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE));break;case"translations":this.refresh();break;case"value":this._AfterSetOptionValue(e,t)}},_AfterSetOptionDisabledReadOnly:function(e,t){var i=!this.options[e];this._Refresh(e,this.options[e]),i&&this._runMixedValidationAfterSetOption(t)},_AfterSetOptionValue:function(e,t){var i,n=t?t._context:null,o=!1;n&&(o=!!n.originalEvent,i=n.doNotClearMessages||!1),o||(i||this._clearAllMessages(null),this._runDeferredValidation(this._VALIDATION_CONTEXT.VALUE_OPTION_CHANGE)),this._Refresh(e,this.options[e],!0)},_CanSetValue:function(){return!this.options.disabled},_VerifyConnectedForSetup:function(){return!0},_destroy:function(){var e,t,o=this._super();if(this._clearAllMessages(null,!0),this.widget().removeUniqueId(),this._getComponentMessaging()._isActive()&&this._getComponentMessaging().deactivate(),this.$label)for(t=this.$label.length,e=0;e<t;e++)this.$label[e]&&null!=i.__GetWidgetConstructor(this.$label[e])&&n(this.$label[e]).ojLabel("destroy");return o},GetFocusElement:function(){return!0===this.options.readOnly&&this._GetReadonlyFocusElement()||this._GetContentElement()[0]},_GetReadonlyFocusElement:function(){return this._getReadonlyDiv()},_setOption:function(e,t,i){var n,o,_,u=!1;switch(e){case"messagesHidden":case"messagesShown":case"rawValue":u=!0;break;case"describedBy":o=this.options.describedBy,_=t,this._describedByUpdated(o,_);break;case"labelledBy":t&&this._labelledByUpdated(t);break;case"readOnly":if(this._retainFocusOnReadonlyChange=a.containsFocus(this.widget()[0]),this._retainFocusOnReadonlyChange&&!this._resolveBusyStateFocusRestore){var h=this.element[0],d=r.getContext(h).getBusyContext(),c="Waiting for focus on the component ";h&&h.id&&(c+=`with id="${h.id}" `),c+="to be restored.",this._resolveBusyStateFocusRestore=d.addBusyState({description:c})}this._addRemoveOjReadOnlyClassOnLabel(document.getElementById(this.options.labelledBy),t);break;case"displayOptions":var p=t;if(null!==t&&(void 0===t.validatorHint||void 0===t.converterHint||void 0===t.messages)){const e="use"===(s.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).useUserAssistanceOptionDefault?y:b;void 0===t.validatorHint&&(p.validatorHint=e.VALIDATOR_HINT),void 0===t.converterHint&&(p.converterHint=e.CONVERTER_HINT),void 0===t.messages&&(p.messages=e.MESSAGES)}}return u?(l.error(e+" option cannot be set"),this):(n=this._superApply(arguments),this._AfterSetOption(e,i),n)},_GetContentElement:function(){return this.element},_GetLabelElement:function(){if(this._IsCustomElement())return null;var e;if(this.$label)return this.$label;if(T.hasNoLabelFlag(this.widget()))return null;var t=this._getAriaLabelledByElement(this.element);if(null!==t&&0!==t.length)return t;var i=this.element[0].id;return void 0!==i&&0!==(t=n("label[for='"+i+"']")).length||0!==(e=this.element.closest("[aria-labelledby]")).length&&null!==(t=this._getAriaLabelledByElement(e))&&0!==t.length?t:null},_GetElementValue:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this._GetContentElement()},_GetMessagingPositionElement:function(){return this._GetFormControlContainer()||this._GetMessagingLauncherElement()[0]},_GetConverter:function(){return null},_GetImplicitValidators:function(){return this._implicitSyncValidators||(this._implicitSyncValidators={}),this._implicitSyncValidators},_GetDisplayValue:function(e){return this._GetContentElement().val()},_GetNormalizedValidatorsFromOption:function(){return[]},_GetNormalizedAsyncValidatorsFromOption:function(){return[]},_GetAllValidatorsFromValidatorsOptionAndImplicit:function(){var e,t,i,n,o=[];if(!this._allValidators){t=this._GetImplicitValidators(),i=[];var s,a=Object.keys(t),r=a.length;if(r>0){for(e=0;e<r;e++)s=a[e],i.push(t[s]);o=o.concat(i)}(n=this._GetNormalizedValidatorsFromOption()).length>0&&n.forEach((function(e){o.push(e)})),this._allValidators=o}return this._allValidators},_ResetAllValidators:function(){this._allValidators&&(this._allValidators.length=0),this._allValidators=null,this._IsCustomElement()?this._updateValidatorMessagingHint():this._getComponentMessaging().update(this._getValidatorHintsMC())},_GetAriaLabelElement:function(){return this._getRootElement()},_addRemoveOjReadOnlyClassOnLabel:function(e,t){if(e&&void 0!==t){const i="oj-read-only";t?e.classList.add(i):e.classList.remove(i)}},_setAriaLabelFromLabelHint:function(){if(this._IsCustomElement()){var e=this._GetAriaLabelElement(),t=e.getAttribute("aria-label");let i=this._getReadonlyDiv();this.options.labelledBy||!this.options.labelHint||"none"!==this.options.labelEdge||t&&t!==this._ariaLabelFromHint||this._getRootElement().getAttribute("aria-labelledby")?this._ariaLabelFromHint&&this._ariaLabelFromHint===t?(e.removeAttribute("aria-label"),i&&i.removeAttribute("aria-label")):t?i&&i.setAttribute("aria-label",t):i&&i.removeAttribute("aria-label"):(e.setAttribute("aria-label",this.options.labelHint),i&&i.setAttribute("aria-label",this.options.labelHint),this._ariaLabelFromHint=this.options.labelHint)}},_getAllAsyncValidatorsWithHint:function(){var e,t,i=this._GetNormalizedAsyncValidatorsFromOption(),n=[];if(this._IsRequired()&&"hint"in(t=this._getImplicitRequiredValidator())&&n.push(t),i.length>0)for(e=0;e<i.length;e++)"hint"in(t=i[e])&&n.push(t);var o=this._GetAllValidatorsFromValidatorsOptionAndImplicit();if(o.length>0)for(e=0;e<o.length;e++)"hint"in(t=o[e])&&n.push(t);return n},_initAsyncValidatorMessagingHint:function(){var e,t,i=this._getAllAsyncValidatorsWithHint(),n=this;this._asyncValidatorHintCounter=0,i.length>0&&(t=this._getValidatorHintsMC(),e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(i,t).then((function(){n._clearBusyStateAsyncValidatorHint(e)})))},_getValidatorHintsMC:function(){return this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS)},_updateValidatorMessagingHint:function(){var e,t=this._getAllAsyncValidatorsWithHint(),i=this._getComponentMessaging(),n=this,o=this._getValidatorHintsMC();t.length>0?(this._asyncValidatorHintCounter+=1,e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(t,o).then((function(){n._clearBusyStateAsyncValidatorHint(e)}))):i.update(o)},_addAsyncValidatorsHintsMessagingContent:function(e,t){var i,n=this._asyncValidatorHintCounter,o=this._getComponentMessaging(),s=[],a=this,r=[];for(i=0;i<e.length;i++)r.push(e[i].hint);function l(e){return e.then((function(e){var i,r={};return a._asyncValidatorHintCounter===n?(null!==e&&(s.push(e),r.validatorHint=t.validatorHint.concat(s),o.update(r)),i="resolved"):i="ignore",{v:e,status:i}}),(function(e){return{e,status:"rejected"}}))}return new Promise((function(e){Promise.all(r.map(l)).then((function(){e(s)}))}))},_IsRequired:function(){return!1},_HandleChangeEvent:function(e){var t=this._GetDisplayValue();this._SetValue(t,e)},_SetRawValue:function(e,t){var i={};i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this._CompareOptionValues("rawValue",this.options.rawValue,e)||this.option("rawValue",e,i)},_IsValueEmpty:function(e){return null==e||("string"==typeof e?t.StringUtils.isEmptyOrUndefined(e):"number"==typeof e?isNaN(e):!!Array.isArray(e)&&(0===e.length||1===e.length&&(null===e[0]||void 0===e[0])))},_toggleOjHasNoValueClass:function(e){let t=this._getRootElement();const i="oj-has-no-value",n=t.classList.contains(i),o=this._IsValueEmpty(e),s=o&&!n,a=!o&&n;s?t.classList.add(i):a&&t.classList.remove(i),this.options.required&&(s||a)&&this._getComponentMessaging().update({hasNoValueToggled:!0})},_Refresh:function(e,t,i){var n,o;switch(e){case"converter":var s=this.options.value;this._refreshComponentDisplayValue(s,i);break;case"disabled":this._refreshTheming("disabled",this.options.disabled);break;case"help":if(!this._IsCustomElement()&&this.$label){n=this.options.help.definition,o=this.options.help.source,this.$label.ojLabel("option","help",{definition:n,source:o});var a=this.$label[0];if(a){let e=a.id;if(e){let t=e+A;null!=o||null!=n?this._describedByUpdated(null,t):this._describedByUpdated(t,null)}}}break;case"value":this._refreshComponentDisplayValue(t,i)}},_NotifyHidden:function(){this._superApply(arguments),this._getComponentMessaging().close()},_NotifyDetached:function(){this._superApply(arguments),this._getComponentMessaging().close()},_ResetComponentState:function(){this.$label&&this.$label.ojLabel("refresh"),this._implicitReqValidator=null,this._converter=null,this._ResetAllValidators()},_SetDisplayValue:function(e){var t=this._GetContentElement();t.val()!==e&&t.val(e)},_SetDisabledDom:function(e){"boolean"==typeof this.options.disabled&&(e[0].disabled=this.options.disabled)},_SetPlaceholder:function(e){var t=this._GetContentElement()[0];t&&(null==e?t.removeAttribute("placeholder"):t.setAttribute("placeholder",e))},_SetPlaceholderOption:function(e){this.options.placeholder=e},_HasPlaceholderSet:function(){return this.options.placeholder},_ClearPlaceholder:function(){this._SetPlaceholderOption(""),this._SetPlaceholder("")},_SetValue:function(e,t,i){var n,o,s,a=!i||"boolean"!=typeof i.doValueChangeCheck||i.doValueChangeCheck,r=this,_=!1;return this._toggleOjHasNoValueClass(e),void 0===e?(l.warn("Attempt to set a value of undefined"),!1):(a&&e===r._getLastDisplayValue()||(n=e+"_"+(this._asyncValidatorValidateCounter+1),(o=this._AsyncValidate(e,t,i,n))instanceof Promise?_=o.then((function(e){return s=e,r._afterAsyncValidateUpdateValue(e,t,i)})).then((function(){return r._clearBusyState(n),void 0!==s})):(this._afterAsyncValidateUpdateValue(o,t,i),_=void 0!==o)),_)},_ParseValueShowErrors:function(e,t){var i,n=this;this._clearAllMessages(t);try{return this._parseValue(e,t)}catch(e){i=n._processValidationErrors(e),n._updateMessagesOption("messagesShown",i,t),n._setValidOption(R,t)}},_AsyncValidate:function(e,t,i,n){var o,s,a,r=i&&i.validationMode?i.validationMode:this._VALIDATION_MODE.FULL,_=i&&i.validationContext?i.validationContext:this._VALIDATION_CONTEXT.USER_ACTION,u=i&&i.doNotClearMessages||!1,h=this;if(void 0!==e){if(this._CanSetValue()){u||this._clearAllMessages(t);try{return this._asyncValidatorValidateCounter+=1,r===h._VALIDATION_MODE.FULL?(this._setLastDisplayValue(e),s=this._parseValue(e,t,!0)):s=e,(a=h._asyncValidateValue(s,t,_))instanceof Promise?(h._setBusyState(n),a.then((function(e){if(e===v)return s}))):a}catch(e){o=h._processValidationErrors(e,_),h._updateMessagesOption("messagesShown",o,t),h._setValidOption(R,t)}}return a}l.warn("Attempt to set a value of undefined")},_afterAsyncValidateUpdateValue:function(e,t,i){var n,o=!1;return void 0!==e&&(i&&!0===i.doNotClearMessages?this.isValid()||!this._hasInvalidComponentMessagesShowing():this.isValid())&&(i&&i._context&&(n=i._context),this._updateValueOption(e,t,i&&i.validationContext,n,i),o=!0),o},_CompareOptionValues:function(e,i,n){return"value"===e||"rawValue"===e?t.Object.compareValues(i,n):0===e.indexOf("messages")?this._messagesEquals(i,n):this._superApply(arguments)},_GetDefaultStyleClass:function(){return t.Assert.failedInAbstractFunction(),""},_MESSAGING_CONTENT_UPDATE_TYPE:{INIT:1,VALIDITY_STATE:2,CONVERTER_HINT:3,VALIDATOR_HINTS:4,TITLE:5},_OPTION_TO_CSS_MAPPING:{disabled:"oj-disabled",required:"oj-required"},_clearAllMessages:function(e,t){t?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this._clearMessages("messagesHidden",e),this._clearMessages("messagesShown",e),this._clearMessages("messagesCustom",e))},_clearComponentMessages:function(){var e,t=this.options.messagesShown;e=t.length,this._clearMessages("messagesHidden");for(var i=e-1;i>=0;i--)t[i]instanceof d.ComponentMessage&&t.splice(i,1);t.length!==e&&this._setMessagesOption("messagesShown",t,null,!0)},_setMessagesOption:function(e,t,i,n){var o={},s=0===t.length&&0===this.options[e].length;!n&&s||(o._context={originalEvent:i,writeback:!0,internalSet:!0},"messagesCustom"!==e&&(o._context.readOnly=!0),o.changed=n||!s,this._resetValid(),this.option(e,t,o),this._updateMessagingContent())},_setValidOption:function(e,t){var i={};e===L&&this._determineValidFromMessagesOptions()!==v||e!==this.options.valid&&(i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this.option("valid",e,i))},_clearMessages:function(e,t){this._setMessagesOption(e,[],t)},_cloneMessagesBeforeSet:function(e){var t,i,n,o=[];if(e&&e.length>0)for(t=0;t<e.length;t++)n=e[t],i=new d(n.summary,n.detail,n.severity),i=Object.freeze?Object.freeze(i):i,o.push(i);return o},_createOjLabel:function(){var e,t;this._IsCustomElement()||(this.$label=this._GetLabelElement(),this.$label&&(e=this.options.help.definition,t=this.options.help.source,this.$label.ojLabel({rootAttributes:{class:this._GetDefaultStyleClass()+"-label"},help:{definition:e,source:t}}),this._createDescribedByForLabel()))},_createDescribedByForLabel:function(){var e,t=this.options.help.definition;if(null!=this.options.help.source||null!=t){var i=this.$label[0];i&&(e=i.id),e&&this._describedByUpdated(null,e+A)}},_doRefresh:function(){var e,t=!1;this._ResetComponentState(),this._initComponentMessaging(),this._Refresh("disabled",this.options.disabled),this._hasInvalidMessagesShowing()&&(t=!0),this._clearComponentMessages(),t?(e=this._GetDisplayValue(),this._SetValue(e,null,T.refreshMethodOptions)):(this._IsRequired()&&this._runDeferredValidation(T.refreshMethodOptions.validationContext),this._Refresh("value",this.options.value,!0))},_getLastModelValue:function(){return this._oj_lastModelValue},_getLastDisplayValue:function(){return void 0===this._oj_lastElementValue&&(this._oj_lastElementValue=""),this._oj_lastElementValue},_getAriaLabelledByElement:function(e){if(this._IsCustomElement())return null;var t=e[0].getAttribute("aria-labelledby");return void 0!==t?n("label[id='"+t+"']"):null},_getMessages:function(){var e=[];return this.options.messagesShown&&(e=e.concat(this.options.messagesShown)),this.options.messagesHidden&&(e=e.concat(this.options.messagesHidden)),e},_getLabelText:function(){if(this.$label)return this.$label[0].textContent;var e=T._getCustomOjLabelElements(this.options.labelledBy),t=null;if(e)for(var i=0;i<e.length;i++)i>0&&(t+=" "),t=e[i].textContent;return t},_getValidityState:function(){return this._validityState||(this._validityState=new t.ComponentValidity(this.isValid(),this._getMessages())),this._validityState},_hasValidityState:function(){return!!this._validityState},_hasInvalidMessages:function(){return!d.isValid(this._getMessages())},_hasInvalidMessagesShowing:function(){return!this.isValid()&&this.options.messagesShown.length>0},_hasInvalidComponentMessagesShowing:function(){for(var e,t,i=this.options.messagesShown,n=0;n<i.length;n++)(t=i[n])instanceof d.ComponentMessage&&t._isMessageAddedByComponent()&&(e=e||[]).push(t);return void 0!==e&&!d.isValid(e)},_initComponentMessaging:function(){var e=this._getComponentMessaging(),t=this._GetMessagingLauncherElement(),i=this._GetContentElement(),n=this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.INIT);this._customPlaceholderSet||this._ClearPlaceholder(),e.activate(t,i,n),this._asyncValidatorValidateCounter=0},_messagesCustomOptionChanged:function(e){var t,i,n=e?e._context:null,o=this.options.messagesCustom,s=this.options.messagesShown,a=[];for(t=0;t<s.length;t++)(i=s[t])instanceof d.ComponentMessage&&i._isMessageAddedByComponent()&&a.push(i);for(t=0;t<o.length;t++)a.push(o[t]);this._setMessagesOption("messagesShown",a,n?n.originalEvent:null,e&&e.changed)},_placeholderOptionChanged:function(e){"displayOptions"===this._getResolvedUserAssistance()&&((e&&e._context||{}).internalMessagingSet?this._customPlaceholderSet=!1:(this._customPlaceholderSet=!0,this._GetConverter()&&this._initComponentMessaging()))},_setLastModelValue:function(e){this._oj_lastModelValue=e},_setLastDisplayValue:function(e){this._oj_lastElementValue=e},_updateMessagesOption:function(e,t,i){var n,o,s;if("object"==typeof t&&Array.isArray(t))for(s=this.options[e],o=t.length,n=0;n<o;n++)s.push(t[n]);this._setMessagesOption(e,s,i,!0)},_updateMessagingContent:function(){this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE))},_updateValueOption:function(e,t,i,n,o){var s,a,r=n||{};switch(t&&(r.originalEvent=t),i){case this._VALIDATION_CONTEXT.CONVERTER_OPTION_CHANGE:case this._VALIDATION_CONTEXT.DISABLED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.READONLY_OPTION_CHANGE:case this._VALIDATION_CONTEXT.REFRESH_METHOD:case this._VALIDATION_CONTEXT.REQUIRED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.VALIDATE_METHOD:case this._VALIDATION_CONTEXT.VALIDATORS_OPTION_CHANGE:r.writeback=!0,r.doNotClearMessages=!0}if(r.internalSet=!0,o&&o.targetOptions){s={},a=!1;for(var l=0;l<o.targetOptions.length;l++)s[o.targetOptions[l]]=e,a=a||"value"===o.targetOptions[l]}else s={value:e},a=!0;this.option(s,{_context:r}),a&&this._AfterSetOptionValue("value",{_context:r})},_resetValid:function(){this._valid=void 0},_determineValidFromMessagesOptions:function(){var e=this.options.messagesHidden,t=this.options.messagesShown,i=v;return t&&0!==t.length&&!d.isValid(t)?i=R:e&&0!==e.length&&!d.isValid(e)&&(i="invalidHidden"),i},_formatValue:function(e){var t=e,i=this._GetConverter();return i&&"object"==typeof i&&i.format&&"function"==typeof i.format&&(t=i.format(e)),t},_getComponentMessaging:function(){return this._componentMessaging||(this._componentMessaging=new t.ComponentMessaging(this)),this._componentMessaging},_getHintsFromAllValidatorsWithGetHintFunction:function(e){var t,i,n=[],o="";for(this._IsRequired()&&(i=this._getImplicitRequiredValidator()).getHint&&"function"==typeof i.getHint&&(o=i.getHint())&&n.push(o),t=0;t<e.length;t++)o="","object"==typeof(i=e[t])&&i.getHint&&"function"==typeof i.getHint&&(o=i.getHint())&&n.push(o);return n},_getImplicitRequiredValidator:function(){var e,t={};return null==this._implicitReqValidator&&(e={hint:(t=this.options.translations&&this.options.translations.required||{}).hint||null,label:this._getLabelText(),messageSummary:t.messageSummary||null,messageDetail:t.messageDetail||null},this._implicitReqValidator=new _(e)),this._implicitReqValidator},_getResolvedUserAssistance:function(){let e=s.parseJSONFromFontFamily("oj-form-control-option-defaults");return e&&"use"===e.useUserAssistanceOptionDefault?this.options.userAssistanceDensity:"displayOptions"},_showUserAssistanceNotInline:function(){let e=this._getResolvedUserAssistance();return"compact"===e||"displayOptions"===e},_getMessagingContent:function(e){var t,i,n={},o="";if((e=e||this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE)!==this._MESSAGING_CONTENT_UPDATE_TYPE.INIT&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE||(n.validityState=this._getMessagingContentValidityState()),e!==this._MESSAGING_CONTENT_UPDATE_TYPE.INIT&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT||((i=this._GetConverter())&&"object"==typeof i&&i.getHint&&"function"==typeof i.getHint&&(o=i.getHint()||""),n.converterHint=o),e===this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS){t=this._GetAllValidatorsFromValidatorsOptionAndImplicit();let e=this._getHintsFromAllValidatorsWithGetHintFunction(t)||[];n.validatorHint=e}if(e===this._MESSAGING_CONTENT_UPDATE_TYPE.INIT||e===this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE){var s;if(this._IsCustomElement()){var a=this.options.help;null!=a&&(s=a.instruction)}else s=this.options.title;n.title=s||""}return n},_getMessagingContentValidityState:function(){let e;return this._hasValidityState()?(e=this._getValidityState(),e.update(this.isValid(),this._getMessages())):e=this._getValidityState(),e},_messagesEquals:function(e,t){var i,o=-1,s=!0,a=n.extend([],e),r=n.extend([],t);return a.length===r.length&&(a.forEach((function(e){e instanceof d?i=e:(i=new d(e.summary,e.detail,e.severity),i=Object.freeze?Object.freeze(i):i),o=-1,r.forEach((function(e,t){d.getSeverityLevel(i.severity)===d.getSeverityLevel(e.severity)&&i.summary===e.summary&&i.detail===e.detail&&(o=t)})),o>-1?r.splice(o,1):s=!1})),s)},_parseValue:function(e,t,i){var n=this._GetConverter(),o=e;if(n&&"object"==typeof n&&n.parse&&"function"==typeof n.parse)try{i&&this._setValidOption(L,t),o=n.parse(e)}catch(e){throw e}return o},_addValidationError:function(e,t){var i,n,o,s;e instanceof p.ConverterError||e instanceof p.ValidatorError?(n=(o=e.getMessage()).severity||d.SEVERITY_LEVEL.ERROR,s=o.summary||h.getTranslatedString("oj-message.error"),i=o.detail||h.getTranslatedString("oj-converter.detail")):e.summary||e.detail?(n=d.SEVERITY_LEVEL.ERROR,s=e.summary||h.getTranslatedString("oj-message.error"),i=e.detail||h.getTranslatedString("oj-converter.detail")):(n=d.SEVERITY_LEVEL.ERROR,s=h.getTranslatedString("oj-message.error"),i=e.message||h.getTranslatedString("oj-converter.detail")),t.push({summary:s,detail:i,severity:n})},_processValidationErrors:function(e,t,i){var n,o=[],s=e._messages||[],a={};a.context=t||0,a.display=i||d.ComponentMessage.DISPLAY.SHOWN,0===s.length&&this._addValidationError(e,s);for(var r=0;r<s.length;r++)n=s[r],o.push(this._createComponentMessage(n.summary,n.detail,n.severity,a));return o||null},_createComponentMessage:function(e,t,i,n){var o;return o=new d.ComponentMessage(e,t,i,n),Object.seal?Object.seal(o):o},_refreshComponentDisplayValue:function(e,t){var i;return this._toggleOjHasNoValueClass(e),(t||e!==this._getLastModelValue())&&(i=this._UpdateElementDisplayValue(e)),i},_refreshTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&(t?this.widget()[0].classList.add(this._OPTION_TO_CSS_MAPPING[e]):this.widget()[0].classList.remove(this._OPTION_TO_CSS_MAPPING[e]))},_runDeferredValidation:function(e){var t=this;if(this._CanSetValue()){if(!this._resolveBusyStateDeferredValidation){var i=this.element[0],n=r.getContext(i).getBusyContext(),o="The page is waiting for async deferred validation ";i&&i.id&&(o+='for "'+i.id+'" '),o+="to finish.",this._resolveBusyStateDeferredValidation=n.addBusyState({description:o})}var s=this._validateValueForRequiredOnly(this.options.value,e);if(!(s instanceof Promise))return this._setValidOption(this._determineValidFromMessagesOptions(),null),void(this._resolveBusyStateDeferredValidation&&(this._resolveBusyStateDeferredValidation(),delete this._resolveBusyStateDeferredValidation));s.then((function(){t._resolveBusyStateDeferredValidation&&(t._resolveBusyStateDeferredValidation(),delete t._resolveBusyStateDeferredValidation),t._setValidOption(t._determineValidFromMessagesOptions(),null)}))}this._setValidOption(this._determineValidFromMessagesOptions(),null)},_runMixedValidationAfterSetOption:function(e){var t,i=!1;this._hasInvalidMessagesShowing()&&(i=!0),this._clearComponentMessages(),i&&(t=this._GetDisplayValue(),this._SetValue(t,null,e)),!i&&this._IsRequired()?this._runDeferredValidation(e.validationContext):this._setValidOption(this._determineValidFromMessagesOptions(),null)},_UpdateElementDisplayValue:function(e,t){var i,n;i=e;try{i=this._formatValue(e);try{this._setLastModelValue(e),this._afterConverterFormat(i)}catch(e){throw e}n=i}catch(o){t||this._afterConverterFormatFailure(o),this._setLastModelValue(e),this._afterConverterFormat(i),n=void 0}return n},_SetLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.add("oj-loading"),this._saveAriaLabel=t.getAttribute("aria-label");var i=h.getTranslatedString("oj-ojEditableValue.loading");t.setAttribute("aria-label",i)},_ClearLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.remove("oj-loading"),this._saveAriaLabel?t.setAttribute("aria-label",this._saveAriaLabel):t.removeAttribute("aria-label")},_UseReadonlyDiv:function(){return"div"===s.parseJSONFromFontFamily("oj-form-control-option-defaults").readonlyElem},_ShowHelpHints:function(){return this._IsTextFieldComponent()?"focus":"always"},_ShowHelpHintsLocation:function(){return"inline"},_afterConverterFormat:function(e){var t;this._SetDisplayValue(e),t=this._GetDisplayValue(),this._setLastDisplayValue(t),this._SetRawValue(t,null)},_afterConverterFormatFailure:function(e){var t;t=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",t),this._setValidOption(R,null)},_loadingConverter:function(e){var t=this,i=T._getShowLoadingDelay(),n=this._converterChangedCounter,o=setTimeout((function(){n===t._converterChangedCounter&&t._SetLoading()}),i);return e.then((function(e){return t._ClearLoading(),clearTimeout(o),e}))},_validateValueForRequiredOnly:function(e,i){var n,o,s=this;if(this._IsRequired()){o=this._getImplicitRequiredValidator();try{this._setValidOption(L,null);var a=o.validate(t.StringUtils.trim(e));if(a instanceof Promise)return a.then((function(){}),(function(e){(n=s._processValidationErrors(e,i,d.ComponentMessage.DISPLAY.HIDDEN))&&s._updateMessagesOption("messagesHidden",n)}))}catch(e){(n=this._processValidationErrors(e,i,d.ComponentMessage.DISPLAY.HIDDEN))&&this._updateMessagesOption("messagesHidden",n)}}return null},_asyncValidateValue:function(e,i,n){var o,s,a,r,l,_=this._GetNormalizedAsyncValidatorsFromOption(),u=this._GetAllValidatorsFromValidatorsOptionAndImplicit(),h=!1,d=this,c=[],p=this._asyncValidatorValidateCounter,S=[],g=this._IsRequired();if(g&&(r=this._getImplicitRequiredValidator()),(g||_.length>0||u.length>0)&&this._setValidOption(L,i),r)try{var m=r.validate(t.StringUtils.trim(e));m&&S.push(m)}catch(e){this._addValidationError(e,c),this._setValidOption(R,i),h=!0}for(o=0;o<_.length;o++){try{l=_[o].validate(e)}catch(e){l=Promise.reject(e)}l instanceof Promise||(l=Promise.resolve(l)),S.push(l)}for(o=0;o<u.length;o++)try{(l=u[o].validate(e))instanceof Promise&&S.push(l)}catch(e){this._addValidationError(e,c),this._setValidOption(R,i),h=!0}if(c.length>0){let e=new Error;e._messages=c,a=this._processValidationErrors(e,n),this._updateMessagesOption("messagesShown",a,i)}function f(e){return e.then((function(e){return{v:e,status:d._asyncValidatorValidateCounter===p?"resolved":"ignore"}}),(function(e){var t;return d._asyncValidatorValidateCounter===p?(a=d._processValidationErrors(e,n),d._updateMessagesOption("messagesShown",a,i),h||(d._setValidOption(R,i),h=!0),t="rejected"):t="ignore",{e,status:t}}))}return S.length>0?new Promise((function(e){Promise.all(S.map(f)).then((function(t){t.filter((function(e){return"ignore"===e.status})).length>0?s="ignoreValidation":(s=h?R:v,d._setValidOption(d._determineValidFromMessagesOptions(),i)),e(s)}))})):(0===c.length&&this._setValidOption(d._determineValidFromMessagesOptions(),i),0===c.length?e:void 0)},_labelledByUpdated:function(e){var t=T._getCustomOjLabelElements(e);if(t)for(let e=0;e<t.length;e++){var i=t[e];i.classList.add(this._GetDefaultStyleClass()+"-label"),void 0===this.widget().attr("data-oj-internal")&&void 0!==this.options.readOnly&&this._addRemoveOjReadOnlyClassOnLabel(i,this.options.readOnly)}},_describedByUpdated:u._describedByUpdated,_setBusyState:T._SetBusyState,_clearBusyState:T._ClearBusyState,_setBusyStateAsyncValidatorHint:T._SetBusyStateAsyncValidatorHint,_clearBusyStateAsyncValidatorHint:T._ClearBusyStateAsyncValidatorHint,_setBusyStateAsyncConverterLoading:T._SetBusyStateAsyncConverterLoading,_clearBusyStateAsyncConverterLoading:T._ClearBusyStateAsyncConverterLoading,_AfterCreateConverterCached:T._AfterCreateConverterCached,_getReadonlyDiv:T._getReadonlyDiv,_createOrUpdateReadonlyDiv:T._createOrUpdateReadonlyDiv,_createReadonlyDiv:T._createReadonlyDiv,_setReadonlyDivLabelledBy:T._setReadonlyDivLabelledBy,_GetFormControlContainer:function(){if(this._IsCustomElement()){var e="."+[this._GetComponentManagedBaseLabelStyleClass(),"container"].join("-");return this._getRootElement().querySelector(e)}},_IsTextFieldComponent:function(){return!1},_GetComponentManagedBaseLabelStyleClass:function(){return this._IsTextFieldComponent()?"oj-text-field":"oj-form-control"},_CreateMiddleWrapper:function(){var e=document.createElement("div");return e.className="oj-text-field-middle",e},_ResolveLabelEdgeStrategyType:function(){var e=this.options.labelEdge;return this._IsCustomElement()&&"inside"===e&&(this._IsTextFieldComponent()||(e=t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL)),e}},!0),i.setDefaultOptions({editableValue:{displayOptions:i.createDynamicPropertyGetter((function(e){var t;return(t="use"===(s.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).useUserAssistanceOptionDefault?{messages:y.MESSAGES,converterHint:y.CONVERTER_HINT,validatorHint:y.VALIDATOR_HINT}:{messages:e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?["notewindow"]:b.MESSAGES,converterHint:b.CONVERTER_HINT,validatorHint:b.VALIDATOR_HINT})[e.isCustomElement?"helpInstruction":"title"]=["notewindow"],t})),help:i.createDynamicPropertyGetter((function(e){return e.isCustomElement?{instruction:""}:{definition:null,source:null}})),labelEdge:i.createDynamicPropertyGetter((function(e){if(e.isCustomElement)return(s.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).labelEdge})),userAssistanceDensity:i.createDynamicPropertyGetter((function(e){return e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?"compact":"reflow"}))}});const O=function(e){this.Init(e)},I={},D={};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.NOTEWINDOW,O),t.Object.createSubclass(O,t.MessagingStrategy,"oj.PopupMessagingStrategy"),O._DEFAULTS_BY_COMPONENT={ojRadioset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojCheckboxset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojInputText:{position:"launcher",events:{open:"focusin"}},ojTextArea:{position:"launcher",events:{open:"focusin"}},ojInputPassword:{position:"launcher",events:{open:"focusin"}},ojSwitch:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojSlider:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorSpectrum:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorPalette:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},default:{position:"launcher-wrapper",events:{open:"focusin"}}},O._SELECTOR_FORMCONTROL_HINT="oj-form-control-hint",O._SELECTOR_FORMCONTROL_HINT_CONVERTER="oj-form-control-hint-converter",O._SELECTOR_FORMCONTROL_HINT_VALIDATOR="oj-form-control-hint-validator",O._SELECTOR_FORMCONTROL_HINT_TITLE="oj-form-control-hint-title",O._OPEN_NAMESPACE=".ojPopupMessagingOpen",O._CLOSE_NAMESPACE=".ojPopupMessagingClose",O.prototype.activate=function(e){O.superclass.activate.call(this,e),this._initMessagingPopup()},O.prototype.reactivate=function(e){O.superclass.reactivate.call(this,e),this._updatePopupIfOpenOrComponentHasFocus()},O.prototype.update=function(){O.superclass.update.call(this),this._updatePopupIfOpenOrComponentHasFocus()},O.prototype.deactivate=function(){this._unregisterLauncherEvents(),this._destroyTooltip(),O.superclass.deactivate.call(this)},O.prototype.close=function(){this._closePopup()},O.prototype._closePopup=function(){this._queueAction(function(e){if(this._isPopupInitialized())return e&&this._setActionResolver(this.$messagingContentRoot,"close",e),void this.$messagingContentRoot.ojPopup("close");e&&e(!0)}.bind(this))},O.prototype._initMessagingPopup=function(){this._openPopupCallback||this._registerLauncherEvents()},O.prototype._addAnimateEventListeners=function(e){var t=function(e,t,i){var n=this.GetComponent();n&&n._trigger&&(t.stopPropagation(),n._trigger(e,null,i)||t.preventDefault())};e.on("ojanimatestart.notewindow",t.bind(this,"animateStart")),e.on("ojanimateend.notewindow",t.bind(this,"animateEnd"))},O.prototype._removeAnimateEventListeners=function(e){e.off("ojanimatestart.notewindow"),e.off("ojanimateend.notewindow")},O.prototype._setBusyState=function(e){var t=this.GetComponent(),i=t?t.element:null,n=i?i[0]:null,o=r.getContext(n).getBusyContext(),s="The page is waiting for note window ";return n&&n.id&&(s+='for "'+n.id+'" '),s+="to "+e,o.addBusyState({description:s})},O.prototype._setActionResolver=function(e,t,i){var n;this._actionCount>1&&(n=e.ojPopup("option","animation"),e.ojPopup("option","animation",null));var o=this._setBusyState(t);e.one("oj"+t,(function(){n&&e.ojPopup("option","animation",n),o(),i(!0)}))},O.prototype._queueAction=function(e){if(this.GetComponent()._IsCustomElement()){var t=this,i=function(e){var i=new Promise(e);return i.then((function(){t._actionCount-=1})),i};this._actionCount?(this._actionCount+=1,this._actionPromise=this._actionPromise.then((function(){return i(e)}))):(this._actionCount=1,this._actionPromise=i(e))}else e(null)},O.prototype._openPopup=function(e){this._queueAction(function(i){var o,s,a;if(this._canOpenPopup()&&(s=this._buildPopupHtml(),!t.StringUtils.isEmptyOrUndefined(s))){var r=this._getPopupElement(),l=r.ojPopup("isOpen");if((o=I.getPopupContentNode(r)).innerHTML="",o.innerHTML=s,!l){a=this.GetLauncher();const t=n(this.GetComponent()._GetMessagingPositionElement());return e&&"press"===e.type&&this._openPopupOnPressEvent(a),i&&this._setActionResolver(r,"open",i),void r.ojPopup("open",a,{of:t})}l&&r.ojPopup("refresh")}i&&i(!0)}.bind(this))},O.prototype._openPopupOnPressEvent=function(e){this._inPressEvent=!0,e[0].addEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].addEventListener("change",this._eatChangeAndClickOnPress,!0),e.one("touchend",(function(){setTimeout((function(){this._inPressEvent=!1}),50)}))},O.prototype._eatChangeAndClickOnPress=function(e){this._inPressEvent&&(e.preventDefault(),e.stopPropagation(),"click"===e.type&&(this._inPressEvent=!1))},O.prototype._canOpenPopup=function(){var e=this.GetComponent().options,t=e.disabled||!1,i=e.readOnly||!1;return!(t||i)},O.prototype._updatePopupIfOpenOrComponentHasFocus=function(){var e,t,i,n;null!=this.GetLauncher()&&(i=this.GetLauncher()[0].contains(document.activeElement),this._isPopupInitialized()?(n=this._getPopupElement()).ojPopup("isOpen")&&((e=this._buildPopupHtml())?((t=I.getPopupContentNode(n)).innerHTML="",t.innerHTML=e,n.ojPopup("refresh")):n.ojPopup("close")):i&&(e=this._buildPopupHtml())&&this._openPopup(void 0))},O.prototype._unregisterLauncherEvents=function(){var e=this.GetLauncher();e.off(O._OPEN_NAMESPACE),e.off(O._CLOSE_NAMESPACE),e[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0),f.isTouchSupported()&&(this.releaseResources(),e.off("contextmenu",this._eatContextMenuOnOpenPopupListener),this._eatContextMenuOnOpenPopupListener=null,this._inPressEvent=null),this._openPopupCallback=null,this._closePopupCallback=null},O.prototype._registerLauncherEvents=function(){var e,t,i,n=this.GetLauncher();const o=this._getPopupEventNamesToRegisterForComp();if(o.open){this._openPopupCallback||(this._openPopupCallback=this._openPopup.bind(this));const e=this._needsPressEvent(o);i=this._getNamespacedEvents(o.open.replace("press",""),O._OPEN_NAMESPACE),n.on(i,this._openPopupCallback),f.isTouchSupported()&&e&&(this._eatContextMenuOnOpenPopupListener=function(){return!1},n.on("contextmenu",this._eatContextMenuOnOpenPopupListener),this.registerHammerOpenCallbackOnLauncher())}o.close&&((t=this._closePopupCallback)||(t=this._closePopup.bind(this),this._closePopupCallback=t),e=this._getNamespacedEvents(o.close,O._CLOSE_NAMESPACE),n.on(e,t))},O.prototype.setupResources=function(){const e=this._getPopupEventNamesToRegisterForComp(),t=this._needsPressEvent(e);f.isTouchSupported()&&t&&this.registerHammerOpenCallbackOnLauncher()},O.prototype.registerHammerOpenCallbackOnLauncher=function(){const e=this.GetLauncher();if(null==e)return;const t={recognizers:[[g.Press,{time:750}]]};e.ojHammer(t).on("press",this._openPopupCallback)},O.prototype.releaseResources=function(){O.superclass.update.call(this);const e=this._getPopupEventNamesToRegisterForComp(),t=this._needsPressEvent(e);f.isTouchSupported()&&t&&this.GetLauncher().off("press").ojHammer("destroy")},O.prototype._getNamespacedEvents=function(e,t){var i,n,o;if(""===e||""===t)return e;o=(i=e.split(" ")).length,n=[];for(var s=0;s<o;s++)i[s]&&n.push(i[s]+t);return n.join(" ")},O.prototype._getPopupPosition=function(){var e,t,i;return(e=(t=O._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?t.position:O._DEFAULTS_BY_COMPONENT.default.position)&&("launcher"===e?i=this.GetLauncher():"launcher-wrapper"===e&&(i=this.GetLauncher().parent())),i||(i=this.GetComponent().widget()),{my:"start bottom",at:"end top",collision:"flipcenter",of:i}},O.prototype._getPopupEventNamesToRegisterForComp=function(){const e=O._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName];return e?e.events:O._DEFAULTS_BY_COMPONENT.default.events},O.prototype._needsPressEvent=function(e){return!(!e||!e.open)&&-1!==e.open.indexOf("press")},O.prototype._getPopupElement=function(){var e,t;if(this.$messagingContentRoot)return this.$messagingContentRoot;if(e=I.getNextFreePopup(),t=this._getPopupPosition(),e.ojPopup("option","position",t),e.ojPopup("option","beforeClose",this._popupBeforeCloseCallback.bind(this)),e.ojPopup("option","close",this._popupCloseCallback.bind(this)),e.ojPopup("option","open",this._popupOpenCallback.bind(this)),this.GetComponent()._IsCustomElement()){var i=(s.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).animation;i.actionPrefix="notewindow",e.ojPopup("option","animation",i),this._addAnimateEventListeners(e)}else e.ojPopup("option","animation",null);return this.$messagingContentRoot=e,this.$messagingContentRoot},O.prototype._popupOpenCallback=function(e){var t=n(e.target),o=this;window.setTimeout((function(){i.isComponentInitialized(t,"ojPopup")?t.ojPopup("option","autoDismiss","focusLoss"):delete o.$messagingContentRoot}),10)},O.prototype._popupBeforeCloseCallback=function(){this._resolveBusyState=this._setBusyState("close")},O.prototype._popupCloseCallback=function(e){var t=this.GetLauncher(),o=n(e.target);this._removeAnimateEventListeners(o),i.isComponentInitialized(o,"ojPopup")&&(o.ojPopup("option","autoDismiss","none"),o.ojPopup("option","open",null),o.ojPopup("option","close",null),o.ojPopup("option","beforeClose",null)),t&&t[0]&&(t[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),t[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0)),this.$messagingContentRoot=null,this._inPressEvent=null,I.getPopupContentNode(o).innerHTML="",this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},O.prototype._destroyTooltip=function(){this._closePopup(),I.destroyFreePopup()},O.prototype._buildPopupHtml=function(){var e=!1,t=this.GetComponent().document[0],i=[],n="";return this.ShowMessages()&&i.push(this._buildMessagesHtml(t)),(this.ShowConverterHint()||this.ShowValidatorHint()||this.ShowTitle())&&i.push(this._buildHintsHtml(t)),i.forEach((function(i){i&&(e?n=n.concat(D.getSeparatorHtml(t)):e=!0,n=n.concat(i))})),n},O.prototype._buildMessagesHtml=function(e){var t,i="",n=this.GetMaxSeverity();return this.HasMessages()&&(t=this.GetMessages(),i=D.buildMessagesHtml(e,t,n,!1)),i},O.prototype._buildHintsHtml=function(e){var t,i,n=[],o="";if(this.ShowConverterHint()&&(t=(n=this.GetConverterHint()).length?n[0]:"",o+=D.buildHintHtml(e,O._SELECTOR_FORMCONTROL_HINT_CONVERTER,t,!1,O._SELECTOR_FORMCONTROL_HINT)),this.ShowValidatorHint())for(n=this.GetValidatorHints(),i=0;i<n.length;i++)o+=D.buildHintHtml(e,O._SELECTOR_FORMCONTROL_HINT_VALIDATOR,n[i],!1,O._SELECTOR_FORMCONTROL_HINT);return this.ShowTitle()&&(o+=D.buildHintHtml(e,O._SELECTOR_FORMCONTROL_HINT_TITLE,this.GetTitle(),!0,O._SELECTOR_FORMCONTROL_HINT)),o?"<div class='oj-form-control-hints'>"+o+"</div>":""},O.prototype._isPopupInitialized=function(){return!!this.$messagingContentRoot&&i.isComponentInitialized(this.$messagingContentRoot,"ojPopup")},D.buildHintHtml=function(e,t,i,n,o){var s;if(i){s=e.createElement("div");for(var a=o.split(" "),r=0,l=a.length;r<l;++r)s.classList.add(a[r]);s.classList.add(t),D._appendTextDom(s,D.GetTextDom(e,i,n))}return s?s.outerHTML:""},D.getSeverityTranslatedString=function(e){var t;switch(e){case d.SEVERITY_LEVEL.FATAL:t=h.getTranslatedString("oj-message.fatal");break;case d.SEVERITY_LEVEL.ERROR:t=h.getTranslatedString("oj-message.error");break;case d.SEVERITY_LEVEL.WARNING:t=h.getTranslatedString("oj-message.warning");break;case d.SEVERITY_LEVEL.INFO:t=h.getTranslatedString("oj-message.info");break;case d.SEVERITY_LEVEL.CONFIRMATION:t=h.getTranslatedString("oj-message.confirmation")}return t},D.getSeparatorHtml=function(e){var t;return(t=n(e.createElement("hr")))?t.get(0).outerHTML:""},D.buildMessagesHtml=function(e,t,i,n){var o,s,a,r,l,_,u,h,c="",p=[],S={};for(s=0;s<t.length;s++)l=(r=t[s])instanceof d?r:new d(r.summary,r.detail,r.severity),S[_=d.getSeverityLevel(l.severity)]||(S[_]=[]),S[_].push(l);for(s=i;s>=d.SEVERITY_LEVEL.CONFIRMATION;s--)for(p=S[s]||[],a=0;a<p.length;a++)r=p[a],_=d.getSeverityLevel(r.severity),u=D.getSeverityTranslatedString(_),h=r.summary||u,o=r.detail||"",c=c.concat(D.buildMessageHtml(e,h,o,_,n));return c},D.buildMessageHtml=function(e,t,i,n,o){var a,r,l,_,u,h=D.getSeverityTranslatedString(n);if((l=e.createElement("div")).classList.add(D._SELECTOR_MESSAGE),o)for(var d=D._getSeveritySelector(n).split(" "),c=0,p=d.length;c<p;++c)l.classList.add(d[c]);_=e.createElement("span");for(var S=D._getSeverityIconSelector(n).split(" "),g=0,m=S.length;g<m;++g)_.classList.add(S[g]);if(null==h?_.removeAttribute("title"):_.setAttribute("title",h),_.setAttribute("role","img"),l.appendChild(_),(a=e.createElement("span")).classList.add(D._SELECTOR_MESSAGE_CONTENT),"header"===(s.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).messageSummaryOptionDefault&&((u=e.createElement("div")).classList.add(D._SELECTOR_MESSAGE_SUMMARY),u.textContent=t,a.appendChild(u)),i){var f=D.GetTextDom(e,i,!0);(r=e.createElement("div")).classList.add(D._SELECTOR_MESSAGE_DETAIL),D._appendTextDom(r,f),a.appendChild(r)}return l.appendChild(a),l.outerHTML},D._getSeverityIconSelector=function(e){var t;switch(e){case d.SEVERITY_LEVEL.FATAL:case d.SEVERITY_LEVEL.ERROR:t=D._SELECTOR_MESSAGE_ERROR_ICON;break;case d.SEVERITY_LEVEL.WARNING:t=D._SELECTOR_MESSAGE_WARNING_ICON;break;case d.SEVERITY_LEVEL.INFO:t=D._SELECTOR_MESSAGE_INFO_ICON;break;case d.SEVERITY_LEVEL.CONFIRMATION:t=D._SELECTOR_MESSAGE_CONFIRMATION_ICON}return D._DEFAULT_STATUS_ICON_SELECTORS+t},D._getSeveritySelector=function(e){var t;switch(e){case d.SEVERITY_LEVEL.FATAL:case d.SEVERITY_LEVEL.ERROR:t=D._SELECTOR_MESSAGE_ERROR;break;case d.SEVERITY_LEVEL.WARNING:t=D._SELECTOR_MESSAGE_WARNING;break;case d.SEVERITY_LEVEL.INFO:t=D._SELECTOR_MESSAGE_INFO;break;case d.SEVERITY_LEVEL.CONFIRMATION:default:t=D._SELECTOR_MESSAGE_CONFIRMATION}return t},D.GetTextDom=function(e,i,n){var o=null;return t.StringUtils.isString(i)&&(n&&f.isHTMLContent(i)?o=f.cleanHtml(i.substring(6,i.length-7)):(o=e.createElement("span")).textContent=i),o},D._appendTextDom=function(e,i){t.StringUtils.isString(i)?e.innerHTML=i:e.appendChild(i)},D._DEFAULT_STATUS_ICON_SELECTORS="oj-component-icon oj-message-status-icon ",D._SELECTOR_MESSAGE="oj-message",D._SELECTOR_MESSAGE_SUMMARY="oj-message-summary",D._SELECTOR_MESSAGE_DETAIL="oj-message-detail",D._SELECTOR_MESSAGE_CONTENT="oj-message-content",D._SELECTOR_MESSAGE_ERROR_ICON="oj-message-error-icon",D._SELECTOR_MESSAGE_WARNING_ICON="oj-message-warning-icon",D._SELECTOR_MESSAGE_INFO_ICON="oj-message-info-icon",D._SELECTOR_MESSAGE_CONFIRMATION_ICON="oj-message-confirmation-icon",D._SELECTOR_MESSAGE_ERROR="oj-message-error",D._SELECTOR_MESSAGE_WARNING="oj-message-warning",D._SELECTOR_MESSAGE_INFO="oj-message-info",D._SELECTOR_MESSAGE_CONFIRMATION="oj-message-confirmation",I.getNextFreePopup=function(){var e,t=I._getPool(),i=t.find("."+I._SELECTOR_MESSAGING);return 0===i.length?((e=n(I._getPopupContentHtml()))[0].style.display="none",e.appendTo(t),e.ojPopup({initialFocus:"none",tail:"simple",autoDismiss:"none",modality:"modeless",animation:{open:null,close:null}})):e=n(i[0]),e},I.getPopupContentNode=function(e){return e.find("."+I._SELECTOR_MESSAGING_CONTAINER)[0]},I.destroyFreePopup=function(){var e;if(I._getFreePoolCount()>0){var t=(e=I.getNextFreePopup())[0];e.ojPopup("destroy"),t.parentNode.removeChild(t)}},I._getPool=function(){var e=n("#"+I._MESSAGING_POPUP_POOL_ID);if(e.length>0)return e;var t=(e=n("<div>"))[0];return t.setAttribute("id",I._MESSAGING_POPUP_POOL_ID),t.setAttribute("role","presentation"),document.body.appendChild(t),e},I._getFreePoolCount=function(){return I._getPool().find("."+I._SELECTOR_MESSAGING).length},I._getPopupContentHtml=function(){return'<div class="'+I._SELECTOR_MESSAGING+'"><div class="'+I._SELECTOR_MESSAGING_CONTAINER+'"></div></div>'},I._SELECTOR_MESSAGING_CONTAINER="oj-messaging-popup-container",I._SELECTOR_MESSAGING="oj-messaging-popup",I._MESSAGING_POPUP_POOL_ID="__oj_messaging_popup_pool";const w=function(e,t){this.Init(e),this._userAssistanceDivElement=t},N="oj-has-helphints";t.Object.createSubclass(w,t.MessagingStrategy,"InlineHelpHintsStrategy"),w.prototype.activate=function(e){w.superclass.activate.call(this,e),this._createInlineHelpHints()},w.prototype.reactivate=function(e,t){w.superclass.reactivate.call(this,e),this._userAssistanceDivElement=t,this._isContainerRootDomInDocument()||this._createInlineHelpHints()},w.prototype.shouldUpdate=function(e){let t=!(!e||void 0===e.title),i=!(!e||void 0===e.validatorHint),n=!(!e||void 0===e.converterHint);return t||i||n},w.prototype.update=function(){w.superclass.update.call(this),this._updateInlineHelpHints()},w.prototype.deactivate=function(){var e=this.GetComponent()._getRootElement();this._removeHelpHintsContainerAndContent(),this._focusinCallback&&this._deleteFocusEventHandlers(e),this._deleteHelpHintsAttributeEventHandlers(e),w.superclass.deactivate.call(this)},w.prototype._createInlineHelpHints=function(){var e=this.GetComponent();let t=e._ShowHelpHints();"always"===t&&this._addHelpHintsContent(e),"focus"===t&&this._createFocusEventHandlers(e),this._createHelpHintsAttributeEventHandlers(e)},w.prototype._createFocusEventHandlers=function(e){var t=e._getRootElement();this._focusinCallback=w._focusinHandler.bind(this,e),t.addEventListener("focusin",this._focusinCallback),this._focusoutCallback=w._focusoutHandler.bind(this),t.addEventListener("focusout",this._focusoutCallback)},w.prototype._deleteFocusEventHandlers=function(e){e.removeEventListener("focusin",this._focusinCallback),delete this._focusinCallback,e.removeEventListener("focusout",this._focusoutCallback),delete this._focusoutCallback},w.prototype._createHelpHintsAttributeEventHandlers=function(e){var t=e._getRootElement();this._helpHintsChangedCallback=w._helpHintsChangedHandler.bind(this),t.addEventListener("helpHintsChanged",this._helpHintsChangedCallback)},w.prototype._deleteHelpHintsAttributeEventHandlers=function(e){e.removeEventListener("helpHintsChanged",this._helpHintsChangedCallback),delete this._helpHintsChangedCallback},w.prototype._getHelpHintsInlineContainer=function(e){return e.querySelector(".oj-helphints-inline-container")},w.prototype._isContainerRootDomInDocument=function(){let e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},w._helpHintsChangedHandler=function(e){this._updateInlineHelpHints()},w.prototype._removeHelpHintsContainerAndContent=function(){var e=this.GetComponent()._getRootElement(),t=this._getHelpHintsInlineContainer(e);t&&(this.RemoveAriaDescribedByForInlineMessaging(t),t.parentElement.removeChild(t),this._userAssistanceDivElement&&(this._userAssistanceDivElement.classList.remove(N),this.containerRoot=null))},w.prototype._addHelpHintsContent=function(e){let t,i=e.options.help,o=i?i.instruction:null,s=e.options.helpHints;if(o){let e=D.GetTextDom(document,o,!0);t=e?e.outerHTML:""}if(!t&&this.ShowValidatorHint()){let e=this.GetValidatorHints();e.length>0&&(t=e.join("<br/>"))}if(!t){let e=s?s.definition:null;e&&(t=e)}if(!t&&this.ShowConverterHint()){let e=this.GetConverterHint();e.length>0&&(t=e.join("<br/>"))}let a,r=s?s.source:null;if(r&&(a=this._getHelpSourceDom(r)),(t||a)&&!this.containerRoot)if(this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-helphints-inline-container"),n(this.containerRoot).uniqueId(),this.AddAriaDescribedByForInlineMessaging(this.containerRoot),"inline"===e._ShowHelpHintsLocation())this._userAssistanceDivElement.appendChild(this.containerRoot);else{let t=e._GetFormControlContainer();t.parentElement.insertBefore(this.containerRoot,t)}this.containerRoot&&(t&&(t="<div>"+t+"</div>",this.containerRoot.innerHTML=t),a&&this.containerRoot.appendChild(a),t||a||(this.containerRoot.innerHTML=""));const l="inline"===e._ShowHelpHintsLocation();return this._userAssistanceDivElement&&l&&(t||a?this._userAssistanceDivElement.classList.add(N):this._userAssistanceDivElement.classList.remove(N)),t||a},w.prototype._getHelpSourceDom=function(e){t.Assert.assertString(e);let i=document.createElement("div"),n=document.createElement("a");n.classList.add("oj-helphints-anchor"),n.setAttribute("tabindex","0"),n.setAttribute("target","_blank");try{f.validateURL(e),n.setAttribute("href",e)}catch(t){throw new Error(t+". The source option ("+e+") is invalid.")}let o=h.getTranslatedString("oj-ojEditableValue.helpSourceText");return n.textContent=o,i.appendChild(n),f.makeFocusable({element:n,applyHighlight:!0,component:this.GetComponent()}),i},w.prototype._updateInlineHelpHints=function(){const e=this.GetComponent();this.containerRoot&&(this.containerRoot.innerHTML=""),("always"===e._ShowHelpHints()||this._focusIn)&&(this._addHelpHintsContent(e)||this._removeHelpHintsContainerAndContent())},w._focusinHandler=function(e,t){let i=t.currentTarget,n=t.relatedTarget;n&&i.contains(n)||(this.containerRoot&&(this.containerRoot.innerHTML=""),this._focusIn=!0,this._addHelpHintsContent(e)?this._animateOpen():this._removeHelpHintsContainerAndContent())},w._focusoutHandler=function(e){let t=e.currentTarget,i=e.relatedTarget;if((!i||!t.contains(i))&&(this._focusIn=!1,this.containerRoot&&this.containerRoot.hasChildNodes())){let e="close",t=this._getDefaultAnimation().close;this._setBusyState();let i=this;E.startAnimation(this.containerRoot,"inline-hints-"+e,t,this.GetComponent()).then((()=>{this._removeHelpHintsContainerAndContent(),i._clearBusyState()}))}},w.prototype._getDefaultAnimation=function(){return w._defaultAnimation||(w._defaultAnimation={open:{effect:"fadeIn",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"},close:{effect:"fadeOut",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"}}),w._defaultAnimation},w.prototype._animateOpen=function(){if(this.containerRoot&&this.containerRoot.hasChildNodes()){let e=this._getDefaultAnimation().open,t="open";E.startAnimation(this.containerRoot,"inline-hints-"+t,e,this.GetComponent())}},w.prototype._setBusyState=function(){if(!this._resolveBusyState){let e=this.GetComponent()._getRootElement(),t=r.getContext(e).getBusyContext(),i="The page is waiting for inline help hints ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to open/close",this._resolveBusyState=t.addBusyState({description:i})}},w.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)};const P=function(e,t){this.Init(e),this._parentElement=t};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.INLINE,P),t.Object.createSubclass(P,t.MessagingStrategy,"oj.InlineMessagingStrategy"),P.prototype.activate=function(e){P.superclass.activate.call(this,e)},P.prototype.reactivate=function(e,t){P.superclass.reactivate.call(this,e),this._parentElement=t,this._updateInlineMessage()},P.prototype.shouldUpdate=function(e){return!(!e||void 0===e.validityState)},P.prototype.update=function(){P.superclass.update.call(this),this._updateInlineMessage()},P.prototype.deactivate=function(){this._removeMessagingContentRootDom(),P.superclass.deactivate.call(this)},P.prototype._getDefaultAnimation=function(){if(!P._defaultAnimation){var e=(s.parseJSONFromFontFamily("oj-messaging-inline-option-defaults")||{}).animation;P._defaultAnimation=e=e||{}}return P._defaultAnimation},P.prototype._replaceAnimationOptions=function(e,i){var n,o;t.StringUtils.isString(e)?(o=!0,n=e+""):(o=!1,n=JSON.stringify(e));for(var s=Object.keys(i),a=0;a<s.length;a++){var r=s[a];n=n.replace(new RegExp(r,"g"),i[r])}return o?n:JSON.parse(n)},P.prototype._determineAnimation=function(e,t){var i,n,o,s=this._getDefaultAnimation();if(s){var a,r=e[0],l=r.innerHTML,_=r.offsetHeight;r.innerHTML=t,a=r.offsetHeight,r.innerHTML=l,"noanimation"!=(i=a>_?"open":a<_?"close":"noanimation")&&(n=s[i])&&(o=this._replaceAnimationOptions(n,{"#oldHeight":_+"px","#newHeight":a+"px"}))}return{action:i,effect:o}},P.prototype._setBusyState=function(){if(!this._resolveBusyState){var e=this.GetComponent(),t=e?e.element:null,i=t?t[0]:null,n=r.getContext(i).getBusyContext(),o="The page is waiting for inline message ";i&&i.id&&(o+='for "'+i.id+'" '),o+="to open/close",this._resolveBusyState=n.addBusyState({description:o})}},P.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},P.prototype._queueAction=function(e){var t=this,i=this.$messagingContentRoot;if(t._inInlineMessagingAnimation)this._currentContentToShow=e;else{this._currentContentToShow=null,this._setBusyState(),""!==e&&this._addRemoveOjHasMessagesClass(e),this._timeoutId&&clearTimeout(this._timeoutId);var n,o=this.GetComponent();if(o&&o._NotifyMessagingStrategyQueueAction)this._notifyQueueActionPromise||(this._notifyQueueActionPromise=new Promise((function(e){n=e})),this._notifyQueueActionPromiseResolve=function(){this._notifyQueueActionPromise=null,this._notifyQueueActionPromiseResolve=null,n()}.bind(this)),o._NotifyMessagingStrategyQueueAction(this._notifyQueueActionPromise);this._timeoutId=setTimeout((function(){if(t._timeoutId=null,i&&i[0]){var n=t._determineAnimation(i,e),o=n.action,s=n.effect;"noanimation"===o?(i[0].innerHTML=e,t._addRemoveOjHasMessagesClass(e),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve()):("close"===o?i[0].setAttribute("aria-live","off"):i[0].setAttribute("aria-live","polite"),"open"===o&&(i[0].innerHTML=e),t._inInlineMessagingAnimation=!0,E.startAnimation(i[0],"inline-"+o,s,t.GetComponent()).then((function(){var n;t._inInlineMessagingAnimation=!1,"close"===o&&(i[0].setAttribute("aria-live","polite"),i[0].innerHTML=e),null!==t._currentContentToShow?(n=t._currentContentToShow,t._currentContentToShow=null,t._queueAction(n)):(""===e&&t._addRemoveOjHasMessagesClass(e),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve())})))}else t._addRemoveOjHasMessagesClass(""),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve()}),0)}},P.prototype._addRemoveOjHasMessagesClass=function(e){this._parentElement&&(e?this._parentElement.classList.add("oj-has-messages"):(this._parentElement.classList.remove("oj-has-messages"),this._removeMessagingContentRootDom()))},P.prototype._updateInlineMessage=function(){var e;e=this._buildInlineHtml();var t=this._isMessagingContentRootDomInDocument();e&&!t&&this._createInlineMessage(),this.$messagingContentRoot&&this.$messagingContentRoot[0]&&(this.GetComponent()._IsCustomElement()?this._queueAction(e):this.$messagingContentRoot[0].innerHTML=e)},P.prototype._createInlineMessage=function(){this.$messagingContentRoot=n(this._getInlineContentHtml()),this.AddAriaDescribedByForInlineMessaging(this.$messagingContentRoot[0]),this._addAriaLive(this.$messagingContentRoot),this._parentElement?this._parentElement.appendChild(this.$messagingContentRoot[0]):this.GetComponent().widget()[0].appendChild(this.$messagingContentRoot[0])},P.prototype._getInlineContentHtml=function(){return"<div class='oj-messaging-inline-container'></div>"},P.prototype._removeMessagingContentRootDom=function(){if(this._isMessagingContentRootDomInDocument()){this.RemoveAriaDescribedByForInlineMessaging(this.$messagingContentRoot[0]);let e=this.$messagingContentRoot[0].parentNode;e&&e.removeChild(this.$messagingContentRoot[0])}this.$messagingContentRoot=null},P.prototype._addAriaLive=function(e){t.Assert.assertPrototype(e,n),e[0].setAttribute("aria-live","polite")},P.prototype._buildInlineHtml=function(){var e;return this.ShowMessages()?(e=this.GetComponent().document[0],this._buildMessagesHtml(e)):""},P.prototype._buildMessagesHtml=function(e){var t,i,n="";return this.HasMessages()&&(i=this.GetMessages(),t=this.GetMaxSeverity(),n=D.buildMessagesHtml(e,i,t,!0)),n},P.prototype._isMessagingContentRootDomInDocument=function(){var e;if(!this.$messagingContentRoot)return!1;{let t=this.$messagingContentRoot[0].id;e=document.getElementById(t)}return null!==e};const M=function(e,t){this.Init(e),this._parentElement=t};t.Object.createSubclass(M,t.MessagingStrategy,"InlineRequiredStrategy"),M.prototype.activate=function(e){M.superclass.activate.call(this,e),null==this.containerRoot&&this._createOrUpdateInlineRequired()},M.prototype.reactivate=function(e,t){M.superclass.reactivate.call(this,e),this._parentElement=t,this._isContainerRootDomInDocument()||this._createOrUpdateInlineRequired()},M.prototype.shouldUpdate=function(e){return!(!e||!("hasNoValueToggled"in e))},M.prototype.update=function(){this._createOrUpdateInlineRequired(),M.superclass.update.call(this)},M.prototype.deactivate=function(){this._removeInlineRequired();var e=this.GetComponent()._getRootElement();e.removeEventListener("requiredChanged",this._requiredChangedCallback),delete this._requiredChangedCallback,e.removeEventListener("focusout",this._focusoutCallback),delete this._focusoutCallback,this._parentElement=null,M.superclass.deactivate.call(this)},M.prototype._createOrUpdateInlineRequired=function(){var e=this.GetComponent();const t=e.options,i=e._getRootElement(),o=i.classList.contains("oj-has-no-value"),s=this._getRequiredInlineContainer();if(t.required&&o&&!s){this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-required-inline-container");let t=h.getTranslatedString("oj-ojEditableValue.requiredText");this.containerRoot.textContent=t,n(this.containerRoot).uniqueId(),this._parentElement.appendChild(this.containerRoot),e._AriaRequiredUnsupported()&&this.AddDescribedByToElement(i,this.containerRoot.id),this._focusoutCallback=this._focusoutHandler.bind(this,e),i.addEventListener("focusout",this._focusoutCallback)}t.required&&!o&&s&&this._removeInlineRequired(),this._requiredChangedCallback||(this._requiredChangedCallback=this._requiredChangedHandler.bind(this,e),i.addEventListener("requiredChanged",this._requiredChangedCallback))},M.prototype._removeInlineRequired=function(){const e=this.GetComponent();let t=this._getRequiredInlineContainer();t&&e._AriaRequiredUnsupported()&&this.RemoveDescribedByFromElement(e._getRootElement(),t.id),t&&this._parentElement&&(this._parentElement.removeChild(t),this.containerRoot=null)},M.prototype._getRequiredInlineContainer=function(){return this._parentElement.querySelector(".oj-required-inline-container")},M.prototype._requiredChangedHandler=function(e,t){let i=t.detail.value,n=this._getRequiredInlineContainer();const o=e._getRootElement().classList.contains("oj-has-no-value");i&&o&&null===n?this._createOrUpdateInlineRequired():i||null===n||this._removeInlineRequired()},M.prototype._focusoutHandler=function(e){const t=this._getRequiredInlineContainer(),i=e._getRootElement(),n=e.options.required,o=i.classList.contains("oj-has-no-value");if(n&&!o&&null!==t){let e="close",t=this._getDefaultAnimation().close;this._setBusyState();let i=this;E.startAnimation(this.containerRoot,"inline-required-"+e,t,this.GetComponent()).then((()=>{this._removeInlineRequired(),i._clearBusyState()}))}},M.prototype._isContainerRootDomInDocument=function(){let e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},M.prototype._getDefaultAnimation=function(){return M._defaultAnimation||(M._defaultAnimation={open:{effect:"fadeIn",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"},close:{effect:"fadeOut",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"}}),M._defaultAnimation},M.prototype._setBusyState=function(){if(!this._resolveBusyState){let e=this.GetComponent()._getRootElement(),t=r.getContext(e).getBusyContext(),i="The page is waiting for inline required ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to open/close",this._resolveBusyState=t.addBusyState({description:i})}},M.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)};var B=function(e){this.Init(e),this._displayOptions=e};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,B),t.Object.createSubclass(B,t.MessagingStrategy,"InlineUserAssistanceStrategy"),B.prototype.activate=function(e){B.superclass.activate.call(this,e),this._componentMessaging=e;const t=this.GetComponent(),i=t.options,n=t._getRootElement();this._readonlyChangedCallback=this._readonlyChangedHandler.bind(this,t),n.addEventListener("readonlyChanged",this._readonlyChangedCallback),this._disabledChangedCallback=this._disabledChangedHandler.bind(this,t),n.addEventListener("disabledChanged",this._disabledChangedCallback),this._userAssistanceDensityChangedCallback=this._userAssistanceDensityChangedHandler.bind(this,t),n.addEventListener("userAssistanceDensityChanged",this._userAssistanceDensityChangedCallback),null==this.containerRoot&&this._createInlineContainer(),this._isDisabledOrReadonly()||this._activateContainerStrategies(e,i)},B.prototype.reactivate=function(e){B.superclass.reactivate.call(this,e);const t=this.GetComponent().options;this._isDisabledOrReadonly(t)||(this._isContainerRootDomInDocument()||this._createInlineContainer(),this._inlineMessagingStrategy?(this._inlineMessagingStrategy.reactivate(e,this.containerRoot),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.reactivate(e,this.containerRoot),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.reactivate(e,this.containerRoot)):this._activateContainerStrategies(this._componentMessaging,t))},B.prototype.shouldUpdate=function(e){return!this._isDisabledOrReadonly()&&(this._shouldUpdateContent=e,!0)},B.prototype.update=function(){B.superclass.update.call(this),this._inlineMessagingStrategy&&(this._isDisabledOrReadonly()||(this._inlineMessagingStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineMessagingStrategy.update(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineRequiredStrategy.update(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineHelpHintsStrategy.update()))},B.prototype.deactivate=function(){this._inlineMessagingStrategy.deactivate(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.deactivate(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.deactivate(),this._removeContainerRootDom(),delete this._inlineMessagingStrategy,delete this._inlineRequiredStrategy,delete this._inlineHelpHintsStrategy;const e=this.GetComponent()._getRootElement();e.removeEventListener("readonlyChanged",this._readonlyChangedCallback),delete this._readonlyChangedCallback,e.removeEventListener("disabledChanged",this._disabledChangedCallback),delete this._disabledChangedCallback,e.removeEventListener("userAssistanceDensityChanged",this._userAssistanceDensityChangedCallback),delete this._userAssistanceDensityChangedCallback,B.superclass.deactivate.call(this)},B.prototype._createInlineContainer=function(){this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-user-assistance-inline-container");const e=this.GetComponent(),t=e.options.userAssistanceDensity;"efficient"===t?this.containerRoot.classList.add("oj-efficient"):"reflow"===t&&this.containerRoot.classList.add("oj-reflow"),n(this.containerRoot).uniqueId(),e.widget()[0].appendChild(this.containerRoot)},B.prototype._removeContainerRootDom=function(){if(this._isContainerRootDomInDocument()){let e=this.containerRoot.parentNode;e&&e.removeChild(this.containerRoot)}this.containerRoot=null},B.prototype._isContainerRootDomInDocument=function(){var e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},B.prototype._activateContainerStrategies=function(e,t){void 0===this._inlineMessagingStrategy&&(this._inlineMessagingStrategy=new P(this._displayOptions,this.containerRoot),this._inlineMessagingStrategy.activate(e)),void 0!==t.required&&void 0===this._inlineRequiredStrategy&&(this._inlineRequiredStrategy=new M(this._displayOptions,this.containerRoot),this._inlineRequiredStrategy.activate(e)),void 0===this._inlineHelpHintsStrategy&&(this._inlineHelpHintsStrategy=new w(this._displayOptions,this.containerRoot),this._inlineHelpHintsStrategy.activate(e))},B.prototype._userAssistanceDensityChangedHandler=function(e,t){let i=t.detail.value;const n="oj-reflow",o="oj-efficient";"efficient"===i?(this.containerRoot.classList.add(o),this.containerRoot.classList.remove(n)):"reflow"===i?(this.containerRoot.classList.add(n),this.containerRoot.classList.remove(o)):(this.containerRoot.classList.remove(o),this.containerRoot.classList.remove(n))},B.prototype._readonlyChangedHandler=function(e,t){if(t.detail.value)this._deactivateContainerStrategies();else{const t=e.options;this._activateContainerStrategies(this._componentMessaging,t)}},B.prototype._disabledChangedHandler=function(e,t){if(t.detail.value)this._deactivateContainerStrategies();else{const t=e.options;this._activateContainerStrategies(this._componentMessaging,t)}},B.prototype._deactivateContainerStrategies=function(){this._inlineMessagingStrategy&&this._inlineMessagingStrategy.deactivate(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.deactivate(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.deactivate(),delete this._inlineMessagingStrategy,delete this._inlineRequiredStrategy,delete this._inlineHelpHintsStrategy},B.prototype._isDisabledOrReadonly=function(e=this.GetComponent().options){var t=e.disabled||!1,i=e.readOnly||!1;return t||i};const x=function(e){this.Init(e)};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,x),t.Object.createSubclass(x,C,"InsideFormControlLabelStrategy"),x.prototype.activate=function(e){x.superclass.activate.call(this,e),this._CreateLabel()},x.prototype.reactivate=function(e){x.superclass.reactivate.call(this,e),this._DestroyLabel(),this._CreateLabel()},x.prototype.shouldUpdate=function(){return!1},x.prototype.update=function(){x.superclass.update.call(this)},x.prototype.deactivate=function(){this._DestroyLabel(),x.superclass.deactivate.call(this)},x.prototype._GetFormControlLabelStyleClass=function(){return"oj-form-control-label-inside"},x.prototype._InsertOjLabel=function(e,t,i){let n=i._getRootElement();n.insertBefore(e,n.firstElementChild)},x.prototype._CreateEventHandlers=function(e,t,i,n){x.superclass._CreateEventHandlers.call(this,e,t,i,n)},x._labelHintChangedHandler=function(e,t){e.textContent=t.detail.value};const F=function(e){this.Init(e)};t.Object.createSubclass(F,t.MessagingStrategy,"oj.InsideLabelPlaceholderStrategy"),F.prototype.activate=function(e){F.superclass.activate.call(this,e),this._createPlaceholderToggle()},F.prototype.reactivate=function(e){F.superclass.reactivate.call(this,e),this._destroyPlaceholderToggle(),this._createPlaceholderToggle()},F.prototype.deactivate=function(){this._destroyPlaceholderToggle(),F.superclass.deactivate.call(this)},F.prototype.shouldUpdate=function(e){return e&&void 0!==e.converterHint||this.GetComponent().options.placeholder},F.prototype.update=function(){F.superclass.update.call(this),this._placeholderChanged()},F.prototype._destroyPlaceholderToggle=function(){var e=this.GetComponent(),t=e._GetContentElement()[0],i=e._getRootElement();this._blurCallback(),t.removeEventListener("focusout",this._blurCallback,!1),delete this._blurCallback,t.removeEventListener("focusin",this._focusCallback,!1),delete this._focusCallback,i.removeEventListener("placeholderChanged",this._placeholderChangedCallback,!1),delete this._placeholderChangedCallback,e._HasPlaceholderSet()&&(e._SetPlaceholder(e.options.placeholder),e._customPlaceholderSet=!0)},F.prototype._createPlaceholderToggle=function(){var e=this.GetComponent(),t=e._GetContentElement()[0],i=e._getRootElement();e._customPlaceholderSet=!0,this._blurCallback=F._blurHandler.bind(this,t),t.addEventListener("focusout",this._blurCallback,!1),this._focusCallback=F._focusHandler.bind(this),t.addEventListener("focusin",this._focusCallback,!1),this._placeholderChangedCallback=this._placeholderChanged.bind(this),i.addEventListener("placeholderChanged",this._placeholderChangedCallback,!1),this._placeholderChanged()},F.prototype._placeholderChanged=function(){var e,t=this.GetComponent()._GetContentElement()[0];e=a.containsFocus(t)?this._focusCallback:this._blurCallback,Promise.resolve(!0).then((function(){e()}))},F.ShowConverterHintAsPlaceholder=function(e){var t=e.options.displayOptions;if(!t||"displayOptions"!==e._getResolvedUserAssistance())return!1;var i=t.converterHint;return i instanceof Array?"placeholder"===i[0]:"placeholder"===i},F._focusHandler=function(){var e,t=this.GetComponent();if(F.ShowConverterHintAsPlaceholder(t)){var i=this.GetConverterHint();e=i.length>0?i[0]:null}e||(e=t.options.placeholder),t._SetPlaceholder(e)},F._blurHandler=function(e){if(e.hasAttribute("aria-haspopup")){var t=e.getAttribute("aria-owns"),i=document.getElementById(t);if(a.containsFocus(i))return}var n,o=this.GetComponent();if(F.ShowConverterHintAsPlaceholder(o)){var s=this.GetConverterHint();n=s.length>0?s[0]:null}n||(n=o.options.placeholder),null==n?o._SetPlaceholder(null):o._SetPlaceholder("")};const H=function(e){this.Init(e),this._displayOptions=e};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE,H),t.Object.createSubclass(H,C,"oj.InsideLabelStrategy"),H.prototype.activate=function(e){H.superclass.activate.call(this,e),this._componentMessaging=e;const t=this.GetComponent()._getRootElement();this._placeholderChangedCallback=this._placeholderChangedHandler.bind(this),t.addEventListener("placeholderChanged",this._placeholderChangedCallback),this._activatePlaceholderStrategyIfNeeded(e),this._CreateLabel()},H.prototype.reactivate=function(e){H.superclass.reactivate.call(this,e),this._DestroyLabel(),this._CreateLabel(),this._placeholderStrategy?this._placeholderStrategy.reactivate(e):this._activatePlaceholderStrategyIfNeeded(this._componentMessaging)},H.prototype.shouldUpdate=function(e){return!!this._placeholderStrategy&&this._placeholderStrategy.shouldUpdate(e)},H.prototype.update=function(){this._placeholderStrategy&&this._placeholderStrategy.update()},H.prototype.deactivate=function(){this._placeholderStrategy&&(this._placeholderStrategy.deactivate(),delete this._placeholderStrategy),this.GetComponent()._getRootElement().removeEventListener("placeholderChanged",this._placeholderChangedCallback),delete this._placeholderChangedCallback,this._DestroyLabel(),H.superclass.deactivate.call(this)},H.prototype._activatePlaceholderStrategyIfNeeded=function(e){if(void 0===this._placeholderStrategy){let t=()=>{let t=F;this._placeholderStrategy=new t(this._displayOptions),this._placeholderStrategy.activate(e)};const i=this.GetComponent();(i.options.placeholder||"displayOptions"===i._getResolvedUserAssistance()&&F.ShowConverterHintAsPlaceholder(i))&&t()}},H.prototype._placeholderChangedHandler=function(){this._activatePlaceholderStrategyIfNeeded(this._componentMessaging)},H.prototype._GetContainer=function(e){let t=e._GetFormControlContainer();if(!t)return null;let i="_GetContentWrapper";return e[i]&&(t=e[i]()),t},H.prototype._GetFormControlLabelStyleClass=function(){return[H._BASE_STYLE_CLASS,"label","inside".toLowerCase()].join("-")},H.prototype._InsertOjLabel=function(e,t){t.insertBefore(e,t.firstElementChild)},H._BASE_STYLE_CLASS="oj-text-field",e.EditableValueUtils=T,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n),void 0===o||(e.exports=o)},3330:(e,t,i)=>{var n,o;n=[i(7006),i(9755),i(9093),i(537),i(2889),i(857),i(3215),i(9279),i(9831),i(5819),i(496)],void 0===(o=function(e,t,i,n,o,s,a,r,l,_,u){"use strict";var h,d;function c(){return new u.IntlNumberConverter(null)}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,_=_&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_,(h={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"number"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"number"},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string",value:""},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},step:{type:"number"},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{numberRange:{type:"object",properties:{hint:{type:"object",properties:{exact:{type:"string"},inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"object",properties:{exact:{type:"string"},rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},tooltipDecrement:{type:"string"},tooltipIncrement:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"number",writeback:!0},virtualKeyboard:{type:"string",enumValues:["auto","number","text"],value:"auto"}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},stepDown:{},stepUp:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}}).extension._WIDGET_NAME="ojInputNumber",h.extension._ALIASED_PROPS={readonly:"readOnly"},h.extension._INNER_ELEM="input",h.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],e.CustomElementBridge.register("oj-input-number",{metadata:e.CollectionUtils.mergeDeep(h,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})}),e.__registerWidget("oj.ojInputNumber",t.oj.editableValue,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ALLOWED_TYPES:["number","text"],options:{asyncValidators:[],autocomplete:void 0,autofocus:!1,converter:null,labelledBy:null,max:null,min:null,name:"",placeholder:"",rawValue:void 0,readOnly:!1,required:!1,step:1,transientValue:null,validators:[],value:null,virtualKeyboard:"auto"},getNodeBySubId:function(e){var t,i=this._superApply(arguments);return i||("oj-inputnumber-up"===(t=e.subId)&&(i=this.widget()[0].querySelector(".oj-inputnumber-up")),"oj-inputnumber-down"===t&&(i=this.widget()[0].querySelector(".oj-inputnumber-down")),"oj-inputnumber-input"===t&&(i=this.widget()[0].querySelector(".oj-inputnumber-input"))),i||null},getSubIdByNode:function(e){var t=null;return null!=e&&(e===this.widget()[0].querySelector(".oj-inputnumber-up")?t={subId:"oj-inputnumber-up"}:e===this.widget()[0].querySelector(".oj-inputnumber-down")?t={subId:"oj-inputnumber-down"}:e===this.widget()[0].querySelector(".oj-inputnumber-input")&&(t={subId:"oj-inputnumber-input"})),t||this._superApply(arguments)},refresh:function(){this._super(),this._setup()},stepDown:function(e){var t=this.options.step;if(0!==t){var i=(null!=e?e:1)*t*-1;this._step(i)}},stepUp:function(e){var t=this.options.step;if(0!==t){var i=(null!=e?e:1)*t;this._step(i)}},widget:function(){return t(this.uiInputNumber)},_InitOptions:function(e,t){var i=this.options,n=this;if(this._superApply(arguments),this._IsCustomElement()||o.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"value"},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"},{attribute:"min"},{attribute:"max"},{attribute:"step"}],t,this,(function(e){for(var t=["value","step","min","max"],o=0;o<t.length;o++){var s=t[o],a=s in e?e[s]:i[s];null!=a&&(e[s]="step"===s?n._parseStep(a):n._parse(s,a))}})),this._IsCustomElement()&&n._parseStep(i.step),this.initialValue=i.value,null!=i.min&&null!=i.max&&i.max<i.min)throw new Error("ojInputNumber's max must not be less than min")},_ComponentCreate:function(){this._super(),this._draw(),this._inputNumberDefaultValidators={},this._setup(),this._registerEvents(),this._focusable({element:t(this.uiInputNumber),applyHighlight:!0})},_AfterCreate:function(){if(this._super(),this.option({transientValue:this.options.value},{_context:{writeback:!0,internalSet:!0,readOnly:!0}}),this._refreshAriaMinMax(),this.stepQueue=[],this._blurEnterSetValueCounter=0,this._IsCustomElement()){let e=this.options.labelledBy;this._initInputIdLabelForConnection(this._GetContentElement()[0],this.widget()[0].id,e)}this.options.readOnly&&this._createOrUpdateReadonlyDiv(this.element[0])},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"min":case"max":this._Refresh(e,this.options[e]);break;case"readOnly":this._AfterSetOptionDisabledReadOnly(e,o.EditableValueUtils.readOnlyOptionOptions);break;case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e);break;case"asyncValidators":this._AfterSetOptionAsyncValidators(e);break;case"converter":this._AfterSetOptionConverter(e);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_TYPES)}},_CanSetValue:function(){return!!this._super()&&!this.options.readOnly},_AfterSetOptionValue:function(e,t){this._superApply(arguments);var i,n,o=t?t._context:null;o&&(i=!!o.originalEvent,n=o.doNotClearMessages||!1),i||n||(this.initialValue=this.options.value)},_SetDisplayValue:function(e){if(this._superApply(arguments),this.options.readOnly){let t=this._getReadonlyDiv();t&&(t.textContent=e)}},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:o.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:o.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionAsyncValidators:o.EditableValueUtils._AfterSetOptionAsyncValidators,_AfterSetOptionConverter:o.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:o.EditableValueUtils._ResetConverter,_ResetAllValidators:function(){this._inputNumberDefaultValidators={},this._superApply(arguments)},_GetConverter:function(){return this.options.converter?this._getConverter():c()},_GetNormalizedValidatorsFromOption:o.EditableValueUtils._GetNormalizedValidatorsFromOption,_GetNormalizedAsyncValidatorsFromOption:o.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption,_AriaRequiredUnsupported:function(){return!1},_setOption:function(e,t,i){var n;if(this._IsCustomElement()||"value"!==e&&"max"!==e&&"min"!==e)if("step"===e)n=this._parseStep(t);else{if("transientValue"===e)return void l.error(e+" option cannot be set");n=t}else n=this._parse(e,t);if(this._super(e,n,i),"value"===e&&this.option({transientValue:this.options.value},{_context:{writeback:!0,internalSet:!0,readOnly:!0}}),"max"!==e&&"min"!==e||this._AfterSetOptionValidators(),"disabled"===e&&(this.element[0].disabled=!!t),"readOnly"===e&&(this._createOrDestroyOjButtonset(),this.element[0].readOnly=!!t,t&&this._createOrUpdateReadonlyDiv(this.element[0]),this._refreshStateTheming("readOnly",this.options.readOnly)),"step"===e&&this._createOrDestroyOjButtonset(),"labelledBy"===e){let e=this.options.labelledBy;if(e){var o=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(e,o)}}},_destroy:function(){var e=this._super();return this.buttonSet&&this._destroyOjButtonset(),this.initialValue=null,this.element.off("blur keydown keyup compositionstart compositionend input"),a.unwrap(this.element,t(this.uiInputNumber)),clearTimeout(this.timer),e},validate:o.EditableValueUtils.validate,_Refresh:function(e,t,i){var n;switch(this._superApply(arguments),e){case"value":n=this.options.value||0,this._updateButtonsAria(n);break;case"disabled":n=this.options.value||0,this._updateButtons(n);break;case"max":case"min":this._refreshAriaMinMax(),n=this._getDisplayValueParsed(),this._updateButtons(n);break;case"converter":n=this.options.value,this._refreshAriaText(n);break;case"required":this._refreshRequired(t)}},_labelledByUpdatedForInputComp:o.EditableValueUtils._labelledByUpdatedForInputComp,_initInputIdLabelForConnection:o.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:o.EditableValueUtils._linkLabelForInputComp,_refreshRequired:o.EditableValueUtils._refreshRequired,_GetImplicitValidators:function(){var e=this._superApply(arguments);return null==this.options.min&&null==this.options.max||(this._inputNumberDefaultValidators.numberrange=this._getImplicitNumberRangeValidator()),Object.assign(this._inputNumberDefaultValidators,e)},_GetDefaultStyleClass:function(){return"oj-inputnumber"},_SetLoading:function(){this._super(),this.element[0].readOnly=!0,this._refreshRoleSpinbutton(!1)},_ClearLoading:function(){this._super();var e=this.options.readOnly;this.element[0].readOnly=e},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){if(this._IsCustomElement())return this._getRootElement().querySelector(".oj-text-field-middle")},_GetAriaLabelElement:function(){return this.element[0]},_BUNDLE_KEY:{_TOOLTIP_DECREMENT:"tooltipDecrement",_TOOLTIP_INCREMENT:"tooltipIncrement"},_OPTION_TO_CSS_MAPPING:{readOnly:"oj-read-only"},_getImplicitNumberRangeValidator:function(){var e=this._createRangeValidatorOptions();return new _(e)},_setup:function(){var e=this._needsButtonset();if(e){var t=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_INCREMENT),i=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_DECREMENT);this.upButton.ojButton({label:t}),this.downButton.ojButton({label:i})}"boolean"==typeof this.options.readOnly&&(this.element[0].readOnly=this.options.readOnly),this._refreshStateTheming("readOnly",this.options.readOnly),this._refreshRoleSpinbutton(e),this._refreshRequired(this.options.required)},_markInternalComponents:function(){this.upButton[0].setAttribute("data-oj-internal",""),this.downButton[0].setAttribute("data-oj-internal",""),this.buttonSet[0].setAttribute("data-oj-internal","")},_createOjButtonset:function(){var e=this._createButtonset();this.inputNumberWrapper.appendChild(e.buttonSet);for(var i=this.uiInputNumber.querySelectorAll(".oj-inputnumber-button"),n=i.length,o=0;o<n;o++)i[o].setAttribute("tabindex","-1"),i[o].setAttribute("aria-hidden","true");const s=r.getCachedCSSVarValues(["--oj-private-input-number-button-global-chroming-default"])[0]||"solid";var a=e.upButton.parentNode;this.upButton=t(e.upButton).ojButton({display:"icons",chroming:s,label:this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_INCREMENT),icons:{start:"oj-component-icon oj-inputnumber-up-icon"}}),this.downButton=t(e.downButton).ojButton({display:"icons",chroming:s,label:this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_DECREMENT),icons:{start:"oj-component-icon oj-inputnumber-down-icon"}}),this.buttonSet=t(a).ojButtonset({focusManagement:"none",chroming:s}),this._markInternalComponents()},_destroyOjButtonset:function(){this.buttonSet.ojButtonset("destroy"),this.buttonSet.remove(),this.upButton=null,this.downButton=null,this.buttonSet=null},_createOrDestroyOjButtonset:function(){let e=this._needsButtonset();e&&null==this.buttonSet?(this._createOjButtonset(),this._updateButtons(this.options.value||0),this.uiInputNumber.classList.add("oj-has-buttons")):!e&&this.buttonSet&&(this._destroyOjButtonset(),this.uiInputNumber.classList.remove("oj-has-buttons")),this._refreshRoleSpinbutton(e)},_draw:function(){var e=this.element[0];e.classList.add("oj-inputnumber-input"),e.classList.add("oj-text-field-input");var t=document.createElement("span");t.className="oj-inputnumber-wrapper",this.inputNumberWrapper=t,this.uiInputNumber=t;var i=document.createElement("div");if(i.className="oj-text-field-container",i.setAttribute("role","presentation"),this.OuterWrapper){i.appendChild(t);var n=this._CreateMiddleWrapper();t.appendChild(n),n.appendChild(e),this.OuterWrapper.appendChild(i),this.uiInputNumber=this.OuterWrapper,this.uiInputNumber.classList.add("oj-inputnumber"),this.uiInputNumber.classList.add("oj-component")}else{var o=document.createElement("div");o.className="oj-inputnumber oj-component",e.parentNode.insertBefore(o,e),o.appendChild(i),i.appendChild(t),t.appendChild(e),this.uiInputNumber=o}this.saveType=e.type,this._SetInputType(this._ALLOWED_TYPES),this._needsButtonset()&&(this._createOjButtonset(),this.uiInputNumber.classList.add("oj-has-buttons"))},_needsButtonset:function(){return!0!==this.options.readOnly&&this.options.step>0},_createButtonset:function(){var e=document.createElement("div");e.className="oj-buttonset-width-auto";var t=document.createElement("button");t.setAttribute("type","button"),t.className="oj-inputnumber-button oj-inputnumber-down",e.appendChild(t);var i=document.createElement("button");return i.setAttribute("type","button"),i.className="oj-inputnumber-button oj-inputnumber-up",e.appendChild(i),{buttonSet:e,downButton:t,upButton:i}},_start:function(){return this.spinning=!0,!0},_repeat:function(t,i,n,o){var s,a=!1,r=this,l=this.options.step;i>0?this.upButton[0].classList.contains("oj-disabled")&&(a=!0):this.downButton[0].classList.contains("oj-disabled")&&(a=!0),t=t||500,clearTimeout(this.timer),this.timer=setTimeout((function(){a||r._repeat(40,i,n,!0)}),t),o?(s=this.element[0],e.Context.getContext(s).getBusyContext().isReady()&&(this.stepQueue=[],this._spin(i*l,n,!0))):this._stepNoStartStop(i*l,n)},_spin:function(e,t,i){var n,o=this._GetDisplayValue()||0,s=this._ParseValueShowErrors(o);return void 0!==s?(n=this._adjustParsedValueOnSpinAndUpdateDisplay(s,e),this._valuePending=i,this._SetValue(n,t,{validationMode:this._VALIDATION_MODE.VALIDATORS_ONLY,targetOptions:i?["transientValue"]:["transientValue","value"]})):(this._updateButtonsAria(s),!1)},_adjustParsedValueOnSpinAndUpdateDisplay:function(e,t){var i,n,o=this.options,s=o.min,a=o.max,r=o.step,l=this.initialValue;return i=this._precision(s,r,l),n=this._adjustValue(e,t,s,a,r,i,l),this._CanSetValue()&&void 0!==this._UpdateElementDisplayValue(n,!0)&&this._updateButtonsAria(n),n},_precision:function(e,t,i){var n=this._precisionOf(t);return null!=e&&(n=Math.max(n,this._precisionOf(e))),null!=i&&(n=Math.max(n,this._precisionOf(i))),n},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e,t,i,n,o,s,a){var r,_,u;if(s>0)return this._adjustValueForFractions(e,t,i,n,o,s,a);null==(_=null!=i?i:a)&&(_=0);try{e=parseFloat(e.toFixed(s))}catch(t){t instanceof TypeError&&(l.warn("inputNumber's value after conversion is not a number. \nThe converter must convert the value to a Number. coercing using +"),e=+e)}u=e-_;var h=Math.round(u/o)*o;if(r=(h=parseFloat(h.toFixed(s)))===u?e+t:_+(u=t<0?Math.ceil(u/o)*o:Math.floor(u/o)*o)+t,r=parseFloat(r.toFixed(s)),null!=i&&r<i)return i;if(null!=n&&r>n){var d=Math.floor((n-_)/o)*o+_;return parseFloat(d.toFixed(s))}return r},_adjustValueForFractions:function(t,i,n,o,s,a,r){e.Assert.assert(a>0);var l=Math.pow(10,a),_=null!=n?Math.round(n*l):n,u=null!=o?Math.round(o*l):o,h=Math.round(s*l);return this._adjustValue(Math.round(t*l),Math.round(i*l),_,u,h,0,Math.round(r*l))/l},_stop:function(e){if(this.spinning){if(this._valuePending){var t={originalEvent:e,internalSet:!0};this.option({value:this.options.transientValue},{_context:t}),this._valuePending=!1}clearTimeout(this.timer),this.spinning=!1}},_isRealMouseEvent:function(){return!a.recentTouchEnd()},_updateButtons:function(e){var t,i,n=this.options,o=n.max,s=n.min,a=this.downButton,r=this.upButton,l=null!=o,_=null!=s;(a||r)&&(t=a[0].classList.contains("oj-disabled"),i=r[0].classList.contains("oj-disabled"),n.disabled||void 0===e||l&&_&&o===s&&e===o?(t||a.ojButton("disable"),i||r.ojButton("disable")):l&&e>=o?(t&&a.ojButton("enable"),i||r.ojButton("disable")):_&&e<=s?(t||a.ojButton("disable"),i&&r.ojButton("enable")):(t&&a.ojButton("enable"),i&&r.ojButton("enable")))},_getConverter:o.EditableValueUtils._GetConverter,_createOrUpdateReadonlyDiv:o.EditableValueUtils._createOrUpdateReadonlyDiv,_getDisplayValueParsed:function(){var e,t;try{t=this._GetDisplayValue()||0,e=this._parseValue(t)}catch(t){e=void 0}return e},_blurEnterSetValue:function(e){var t,i,n,o=this.element.val(),s=this;this._stop(e),this.stepQueue=[],this._blurEnterSetValueCounter+=1,n=this._blurEnterSetValueCounter,this._valuePending=!1,(i=this._SetValue(o,e,{targetOptions:["transientValue","value"]}))instanceof Promise?i.then((function(e){n===s._blurEnterSetValueCounter&&(e||(t=s._getDisplayValueParsed(),s._updateButtonsAria(t)))})):(t=i?this.options.value:this._getDisplayValueParsed(),this._updateButtonsAria(t))},_updateButtonsAria:function(e){this._refreshAriaValueNowText(e),this._updateButtons(e)},_createRangeValidatorOptions:function(){var e,t,i,n,o,s,a,r,l,_=this.options,u=_.min,h=_.max,d=null!=u?u:void 0,c=null!=h?h:void 0,p=_.translations,S=p&&p.numberRange||{},g=S.hint||{},m=S.messageDetail||{},f=S.messageSummary||{};return null!==g&&(e=g.min||null,t=g.max||null,i=g.inRange||null,n=g.exact||null),null!==m&&(o=m.rangeOverflow||null,s=m.rangeUnderflow||null,a=m.exact||null),null!==f&&(r=f.rangeOverflow||null,l=f.rangeUnderflow||null),{min:d,max:c,hint:{min:e||null,max:t||null,inRange:i||null,exact:n||null},messageDetail:{rangeOverflow:o||null,rangeUnderflow:s||null,exact:a||null},messageSummary:{rangeOverflow:r||null,rangeUnderflow:l||null},converter:this._GetConverter()}},_parse:function(e,t){var i;if(i=null!==t?+t:t,isNaN(i))throw new Error("ojInputNumber's "+e+" option is not a number");return i},_parseStep:function(e){var t;if(null===e)return 1;if(""===e)throw new Error("Invalid step for ojInputNumber; step must be a number 0 or greater.");if((t=this._parse("step",e))<0)throw new Error("Invalid step for ojInputNumber; step must be 0 or greater.");return t},_refreshStateTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&(t?this.widget()[0].classList.add(this._OPTION_TO_CSS_MAPPING[e]):this.widget()[0].classList.remove(this._OPTION_TO_CSS_MAPPING[e]))},_refreshRoleSpinbutton:function(e){e?this.element[0].setAttribute("role","spinbutton"):this.element[0].removeAttribute("role")},_refreshAriaMinMax:function(){this._setAttr("aria-valuemin",this.options.min),this._setAttr("aria-valuemax",this.options.max)},_refreshAriaValueNowText:function(e){this._setAttr("aria-valuenow",e),this._refreshAriaText(e)},_refreshAriaText:function(e){var t=this.element.val();""===t||this._CompareOptionValues("value",""+e,t)?this._setAttr("aria-valuetext",null):this._setAttr("aria-valuetext",t)},_setAttr:function(e,t){void 0!==t&&(null===t?this.element[0].removeAttribute(e):this.element[0].setAttribute(e,t))},_stepNoStartStop:function(e,t){var i,n,o,s,a=this;if(void 0===e){if(0===this.stepQueue.length)return;n=(i=this.stepQueue.shift()).step,o=i.event}else{if(this.stepQueue.length>=1)return void this.stepQueue.push({step:e,event:t});n=e,o=t}(s=this._spin(n,o,!1))instanceof Promise&&(this.stepQueue.push({step:n,event:o}),s.then((function(){a.stepQueue.shift(),a._stepNoStartStop(void 0,o)})))},_step:function(e,t){this._start(),this._stepNoStartStop(e,t),this._stop(t)},_SetInputType:o.EditableValueUtils._SetInputType,_regularEventsAndListeners:{compositionstart:function(){this._isComposing=!0},compositionend:function(e){this._isComposing=!1,this._SetRawValue(this.element.val(),e)},input:function(e){this._isComposing||this._SetRawValue(this.element.val(),e)},keydown:function(e){var i=t.ui.keyCode;switch(e.keyCode){case i.ENTER:this._blurEnterSetValue(e),e.preventDefault();break;case i.UP:this._needsButtonset()&&(this.spinning||(this._start(),this._repeat(null,1,e))),e.preventDefault();break;case i.DOWN:this._needsButtonset()&&(this.spinning||(this._start(),this._repeat(null,-1,e))),e.preventDefault()}},keyup:function(e){var i=t.ui.keyCode;switch(e.keyCode){case i.UP:case i.DOWN:}this._stop(e)},blur:function(e){this._blurEnterSetValue(e)},"touchend .oj-inputnumber-button":function(e){this._stop(e)},"touchcancel .oj-inputnumber-button":function(e){this._stop(e)},"mousedown .oj-inputnumber-button.oj-enabled":function(e){this._isRealMouseEvent(e)&&(this._start(),this._repeat(null,e.currentTarget.classList.contains("oj-inputnumber-up")?1:-1,e))},"mouseup .oj-inputnumber-button":function(e){this._isRealMouseEvent(e)&&this._stop(e)},"mouseenter .oj-inputnumber-button.oj-enabled":function(e){e.currentTarget.classList.contains("oj-active")&&this._isRealMouseEvent(e)&&(this._start(),this._repeat(null,e.currentTarget.classList.contains("oj-inputnumber-up")?1:-1,e))},"mouseleave .oj-inputnumber-button":function(e){this._isRealMouseEvent(e)&&this._stop(e)}},_passiveEventsAndListeners:{"touchstart .oj-inputnumber-button.oj-enabled":function(e){this._start(),this._repeat(null,e.currentTarget.classList.contains("oj-inputnumber-up")?1:-1,e)}},_registerEvents:function(){this._on(this._regularEventsAndListeners),this._on(this._passiveEventsAndListeners)}}),s.setDefaultOptions({ojInputNumber:{step:s.createDynamicPropertyGetter((function(){return r.getCachedCSSVarValues(["--oj-private-input-number-global-step-default"])[0]})),converter:s.createDynamicPropertyGetter((function(){return null==d&&(d=c()),d}))}})}.apply(t,n))||(e.exports=o)},8536:(e,t,i)=>{var n,o;n=[i(7006),i(998),i(7399)],void 0===(o=function(e,t,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;class n{constructor(e,i){var o;this.dataProvider=e,this.options=i,this._noFilterSupport=!1,this.AsyncIterable=(o=class{constructor(e,t){this._parent=e,this._asyncIterator=t,this[Symbol.asyncIterator]=()=>this._asyncIterator}},Symbol.asyncIterator,o),this.AsyncIterator=class{constructor(e,t,i){this._parent=e,this._nextFunc=t,this._params=i}next(){const e=this._params?.signal;if(e&&e.aborted){const t=e.reason;return Promise.reject(new DOMException(t,"AbortError"))}return new Promise(((t,i)=>{if(e){const t=e.reason;e.addEventListener("abort",(e=>i(new DOMException(t,"AbortError"))))}return t(this._nextFunc(this._params))}))}},this.AsyncIteratorYieldResult=class{constructor(e,t){this._parent=e,this.value=t,this[n._VALUE]=t,this[n._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(e,t){this._parent=e,this.value=t,this[n._VALUE]=t,this[n._DONE]=!0}},this.FetchListResult=class{constructor(e,t,i,o,s){this._parent=e,this.fetchParameters=t,this.data=i,this.metadata=o,this.totalFilteredRowCount=s,this[n._FETCHPARAMETERS]=t,this[n._DATA]=i,this[n._METADATA]=o,t&&"enabled"===t.includeFilteredRowCount&&(this[n._TOTALFILTEREDROWCOUNR]=s)}},this.Item=class{constructor(e,t,i){this._parent=e,this.metadata=t,this.data=i,this[n._METADATA]=t,this[n._DATA]=i}},this.ItemMetadata=class{constructor(e,t){this._parent=e,this.key=t,this[n._KEY]=t}},this.FetchListParameters=class{constructor(e,t,i,o,s,a,r){this._parent=e,this.params=t,this.size=i,this.sortCriteria=o,this.filterCriterion=s,this.attributes=a,this.signal=r,t&&Object.keys(t).forEach((e=>{this[e]=t[e]})),this[n._SIZE]=i,o&&(this[n._SORTCRITERIA]=o),s&&(this[n._FILTERCRITERION]=s),a&&(this[n._FETCHATTRIBUTES]=a),r&&(this[n._SIGNAL]=r)}},this.FetchByKeysParameters=class{constructor(e,t,i,o){this._parent=e,this.keys=t,this.params=i,this.attributes=o,i&&Object.keys(i).forEach((e=>{this[e]=i[e]})),t&&(this[n._KEYS]=t),o&&(this[n._FETCHATTRIBUTES]=o)}},this.FetchByOffsetParameters=class{constructor(e,t,i,o,s,a,r,l){this._parent=e,this.offset=t,this.params=i,this.size=o,this.sortCriteria=s,this.filterCriterion=a,this.attributes=r,this.signal=l,i&&Object.keys(i).forEach((e=>{this[e]=i[e]})),o&&(this[n._SIZE]=o),s&&(this[n._SORTCRITERIA]=s),t&&(this[n._OFFSET]=t),a&&(this[n._FILTERCRITERION]=a),r&&(this[n._FETCHATTRIBUTES]=r),l&&(this[n._SIGNAL]=l)}},this.FetchByKeysResults=class{constructor(e,t,i){this._parent=e,this.fetchParameters=t,this.results=i,this[n._FETCHPARAMETERS]=t,this[n._RESULTS]=i}},this.ContainsKeysResults=class{constructor(e,t,i){this._parent=e,this.containsParameters=t,this.results=i,this[n._CONTAINSPARAMETERS]=t,this[n._RESULTS]=i}},this.FetchByOffsetResults=class{constructor(e,t,i,o,s){this._parent=e,this.fetchParameters=t,this.results=i,this.done=o,this.totalFilteredRowCount=s,this[n._FETCHPARAMETERS]=t,this[n._RESULTS]=i,this[n._DONE]=o,t&&"enabled"===t.includeFilteredRowCount&&(this[n._TOTALFILTEREDROWCOUNR]=s)}},this[n._INTERNAL_FROM]=null==this.options?null:this.options[n._FROM],this[n._INTERNAL_OFFSET]=null==this.options?0:this.options[n._OFFSET]>0?this.options[n._OFFSET]:0,this[n._INTERNAL_SORTCRITERIA]=null==this.options?null:this.options[n._SORTCRITERIA],this[n._INTERNAL_DATAMAPPING]=null==this.options?null:this.options[n._DATAMAPPING],this[n._INTERNAL_FETCHATTRIBUTES]=null==this.options?null:this.options[n._FETCHATTRIBUTES],this[n._INTERNAL_FILTERCRITERION]=null==this.options?null:this.options[n._FILTERCRITERION],this._addEventListeners(e),e.getCapability&&!e.getCapability("filter")&&(this._noFilterSupport=!0),Object.defineProperty(this,"from",{set(e){this[n._INTERNAL_FROM]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[n._INTERNAL_FROM]},enumerable:!0}),Object.defineProperty(this,"offset",{set(e){this[n._INTERNAL_OFFSET]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[n._INTERNAL_OFFSET]},enumerable:!0}),Object.defineProperty(this,"sortCriteria",{set(e){this[n._INTERNAL_SORTCRITERIA]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[n._INTERNAL_SORTCRITERIA]},enumerable:!0}),Object.defineProperty(this,"dataMapping",{set(e){this[n._INTERNAL_DATAMAPPING]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[n._INTERNAL_DATAMAPPING]},enumerable:!0}),Object.defineProperty(this,"attributes",{set(e){this[n._INTERNAL_FETCHATTRIBUTES]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[n._INTERNAL_FETCHATTRIBUTES]},enumerable:!0}),Object.defineProperty(this,"filterCriterion",{set(e){this[n._INTERNAL_FILTERCRITERION]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[n._INTERNAL_FILTERCRITERION]},enumerable:!0})}containsKeys(e){return this.dataProvider[n._CONTAINSKEYS]?this.dataProvider[n._CONTAINSKEYS](e):this.fetchByKeys(e).then((t=>{const i=new Set;return e[n._KEYS].forEach((e=>{null!=t[n._RESULTS].get(e)&&i.add(e)})),Promise.resolve(new this.ContainsKeysResults(this,e,i))}))}fetchByKeys(e){const t=null!=e?e[n._KEYS]:null;let i=null!=e?e[n._FETCHATTRIBUTES]:null;null==i&&(i=this[n._INTERNAL_FETCHATTRIBUTES]);const o=e?.signal;if(o&&o.aborted){const e=o.reason;return Promise.reject(new DOMException(e,"AbortError"))}return new Promise(((s,a)=>{if(o){const e=o.reason;o.addEventListener("abort",(t=>a(new DOMException(e,"AbortError"))))}const r=new this.FetchByKeysParameters(this,t,e,i);if(this.dataProvider[n._FETCHBYKEYS])return s(this.dataProvider[n._FETCHBYKEYS](r).then((e=>{const t=e[n._RESULTS],i=new Map;return t.forEach(((e,t)=>{const n=this._getMappedItems([e]);i.set(t,n[0])})),new this.FetchByKeysResults(this,r,i)})));{const t=new this.FetchListParameters(this,null,n._DEFAULT_SIZE,null,null,i),o=new Map,a=this.dataProvider[n._FETCHFIRST](t)[Symbol.asyncIterator]();return s(this._fetchNextSet(e,a,o).then((e=>{const t=new Map;return e.forEach(((e,i)=>{const n=this._getMappedItems([e]);t.set(i,n[0])})),new this.FetchByKeysResults(this,r,t)})))}}))}fetchByOffset(e){const t=null!=e?e[n._OFFSET]:null,i=null!=e?e[n._SIZE]:null;let o=null!=e?e[n._FETCHATTRIBUTES]:null;null==o&&(o=this[n._INTERNAL_FETCHATTRIBUTES]);let s=null!=e?e[n._SORTCRITERIA]:null;null==s&&(s=this[n._INTERNAL_SORTCRITERIA]);const a=this._getMappedSortCriteria(s),r=this._combineFilters(e),l=e?.signal;if(l&&l.aborted){const e=l.reason;return Promise.reject(new DOMException(e,"AbortError"))}return new Promise(((s,_)=>{if(l){const e=l.reason;l.addEventListener("abort",(t=>_(new DOMException(e,"AbortError"))))}const u=this._getMappedFilterCriterion(r),h=new this.FetchByOffsetParameters(this,t,e,i,a,u,o);return s(this.dataProvider[n._FETCHBYOFFSET](h).then((e=>{const t=e[n._RESULTS],i=e[n._DONE],o=e[n._TOTALFILTEREDROWCOUNR],s=new Array;return t.forEach((e=>{const t=this._getMappedItems([e]);s.push(t[0])})),new this.FetchByOffsetResults(this,h,s,i,o)})))}))}fetchFirst(e){const t={};t[n._ITEMS]=[],t[n._DONE]=!1,t[n._STARTINDEX]=0,t[n._LASTDONEHASDATA]=!1;const i=null!=e?e[n._SIZE]:null,o=e?.signal;let s=null!=e?e[n._SORTCRITERIA]:null;null==s&&(s=this[n._INTERNAL_SORTCRITERIA]);const a=this._getMappedSortCriteria(s),r=this._combineFilters(e),l=this._getMappedFilterCriterion(r);let _=null!=e?e[n._FETCHATTRIBUTES]:null;if(null==_&&(_=this[n._INTERNAL_FETCHATTRIBUTES]),null==this[n._INTERNAL_FROM]&&this[n._INTERNAL_OFFSET]>0){let s=this[n._INTERNAL_OFFSET];return new this.AsyncIterable(this,new this.AsyncIterator(this,(e=>()=>{const t=new this.FetchByOffsetParameters(this,s,null,i,a,l,_,o);return this.dataProvider[n._FETCHBYOFFSET](t).then((t=>{const o=t.results;s+=o.length;const a=this._getMappedItems(o);this._cacheResult(e,a),e[n._DONE]=t[n._DONE];const r=a.map((e=>e[n._DATA])),l=a.map((e=>e[n._METADATA])),_=t[n._FETCHPARAMETERS],u=null!=_?_[n._SORTCRITERIA]:null,h=null!=_?_[n._FILTERCRITERION]:null,d=this._getUnmappedSortCriteria(u),c=this._getUnmappedFilterCriterion(h),p=new this.FetchByOffsetParameters(this,this[n._INTERNAL_OFFSET],null,i,d,c);return e[n._DONE]?Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,p,r,l))):Promise.resolve(new this.AsyncIteratorYieldResult(this,new this.FetchListResult(this,p,r,l)))}))})(t),e))}{const s=new this.FetchListParameters(this,e,i,a,l,_,o),r=this.dataProvider[n._FETCHFIRST](s)[Symbol.asyncIterator]();return new this.AsyncIterable(this,new this.AsyncIterator(this,((t,i)=>()=>t[n._LASTDONEHASDATA]?(t[n._LASTDONEHASDATA]=!1,Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,e,[],[],this._totalFilteredRowCount)))):i.next().then((o=>{let s=o[n._VALUE];s||(s={data:[],metadata:[],fetchParameters:null});const a=s[n._DATA],r=s.totalFilteredRowCount,_=s[n._METADATA],u=a.map(((e,t)=>new this.Item(this,_[t],a[t])));this._noFilterSupport&&this._filterResult(l,u),this._totalFilteredRowCount=r;const h=this._getMappedItems(u);this._cacheResult(t,h),t[n._DONE]=o[n._DONE];const d=null!=e?e[n._SIZE]:null,c=(null!=e&&e[n._OFFSET],s[n._FETCHPARAMETERS]),p=null!=c?c[n._SORTCRITERIA]:null,S=null!=c?c[n._FILTERCRITERION]:null,g=this._getUnmappedSortCriteria(p),m=this._getUnmappedFilterCriterion(S),f=new this.FetchListParameters(this,e,d,g,m);return this._fetchUntilKey(f,this[n._INTERNAL_FROM],t,i).then((()=>this._fetchUntilOffset(f,this[n._INTERNAL_OFFSET]+t[n._STARTINDEX],a.length,t,i,r)))})))(t,r),e))}}getCapability(e){return this.dataProvider.getCapability(e)}getTotalSize(){return this.dataProvider.getTotalSize()}isEmpty(){return this.dataProvider.isEmpty()}_fetchNextSet(t,i,o){return i.next().then((s=>{let a=s[n._VALUE];a||(a={data:[],metadata:[],fetchParameters:null});const r=a[n._DATA],l=a[n._METADATA],_=l.map((e=>e[n._KEY]));let u=!0;return t[n._KEYS].forEach((t=>{o.has(t)||_.map(((i,n)=>{e.Object.compareValues(i,t)&&o.set(t,new this.Item(this,l[n],r[n]))})),o.has(t)||(u=!1)})),u||s[n._DONE]?o:this._fetchNextSet(t,i,o)}))}_fetchUntilKey(t,i,o,s){if(null!=i){const t=o[n._ITEMS].filter((t=>{if(e.KeyUtils.equals(t[n._METADATA][n._KEY],i))return!0}));if(t.length>0){const e=o[n._ITEMS].indexOf(t[0]);o[n._ITEMS]=o[n._ITEMS].slice(e,o[n._ITEMS].length)}else{if(!o[n._DONE])return s.next().then((e=>{let t=e[n._VALUE];t||(t={data:[],metadata:[],fetchParameters:null});const i=t[n._DATA],a=t[n._METADATA],r=i.map(((e,t)=>new this.Item(this,a[t],i[t]))),l=this._getMappedItems(r);return this._cacheResult(o,l),o[n._DONE]=e[n._DONE],this._fetchUntilKey(e[n._FETCHPARAMETERS],l[n._KEYS],o,s)}));o[n._ITEMS]=[]}}return Promise.resolve(null)}_fetchUntilOffset(e,t,i,o,s,a){const r=null!=e&&e[n._SIZE]>0?e[n._SIZE]:i;t=t>0?t:0;const l=o[n._ITEMS].slice(t,t+r);if(this._noFilterSupport){const t=this._getMappedFilterCriterion(e[n._FILTERCRITERION]);this._filterResult(t,l)}return e&&e[n._SIZE]>0&&l.length<r&&!o[n._DONE]?s.next().then((i=>{let r=i[n._VALUE];r||(r={data:[],metadata:[],fetchParameters:null});const l=r[n._DATA],_=r[n._METADATA],u=l.map(((e,t)=>new this.Item(this,_[t],l[t])));if(this._noFilterSupport){const t=this._getMappedFilterCriterion(e[n._FILTERCRITERION]);this._filterResult(t,u)}i.done&&u.length>0&&(o[n._LASTDONEHASDATA]=!0);const h=this._getMappedItems(u);return this._cacheResult(o,h),o[n._DONE]=i[n._DONE],this._fetchUntilOffset(e,t,l.length,o,s,a)})):this._createResultPromise(e,o,l,a)}_createResultPromise(e,t,i,o){t[n._STARTINDEX]=t[n._STARTINDEX]+i.length;const s=i.map((e=>e[n._DATA])),a=i.map((e=>e[n._METADATA]));let r=!1;return t[n._DONE]&&0===s.length&&(r=!0),r?Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,e,s,a,o))):Promise.resolve(new this.AsyncIteratorYieldResult(this,new this.FetchListResult(this,e,s,a,o)))}_cacheResult(e,t){t.forEach((t=>{e[n._ITEMS].push(t)}))}_filterResult(e,i){if(e){e.filter||(e=t.FilterFactory.getFilter({filterDef:e}));let o=i.length-1;for(;o>=0;)e.filter(i[o][n._DATA])||i.splice(o,1),o--}}_getMappedItems(e){if(null!=this[n._INTERNAL_DATAMAPPING]){const t=this[n._INTERNAL_DATAMAPPING][n._MAPFIELDS];if(null!=t&&null!=e&&e.length>0)return e.map((e=>t.bind(this)(e)))}return e}_combineFilters(e){const i=[];let o,s=0;return null!=e&&null!=e[n._FILTERCRITERION]&&(i[s]=e[n._FILTERCRITERION],s++),null!=this[n._INTERNAL_FILTERCRITERION]&&(i[s]=this[n._INTERNAL_FILTERCRITERION]),o=0==i.length?null:1==i.length?i[0]:t.FilterFactory.getFilter({filterDef:{op:"$and",criteria:i}}),o}_getMappedFilterCriterion(e){if(null!=this[n._INTERNAL_DATAMAPPING]){const t=this[n._INTERNAL_DATAMAPPING][n._MAPFILTERCRITERION];if(null!=t&&null!=e)return t(e)}return e}_getMappedSortCriteria(e){if(null!=this[n._INTERNAL_DATAMAPPING]){const t=this[n._INTERNAL_DATAMAPPING][n._MAPSORTCRITERIA];if(null!=t&&null!=e&&e.length>0)return t(e)}return e}_getUnmappedSortCriteria(e){if(null!=this[n._INTERNAL_DATAMAPPING]){const t=this[n._INTERNAL_DATAMAPPING][n._UNMAPSORTCRITERIA];if(null!=t&&null!=e&&e.length>0)return t(e)}return e}_getUnmappedFilterCriterion(e){if(null!=this[n._INTERNAL_DATAMAPPING]){const t=this[n._INTERNAL_DATAMAPPING][n._UNMAPFILTERCRITERION];if(null!=t&&null!=e)return t(e)}return e}_addEventListeners(e){e[n._ADDEVENTLISTENER](n._REFRESH,(e=>{this.dispatchEvent(e)})),e[n._ADDEVENTLISTENER](n._MUTATE,(e=>{this.dispatchEvent(e)}))}}return n._KEY="key",n._KEYS="keys",n._DATA="data",n._STARTINDEX="startIndex",n._SORT="sort",n._INTERNAL_SORTCRITERIA="_sortCriteria",n._SORTCRITERIA="sortCriteria",n._INTERNAL_FILTERCRITERION="_filterCriterion",n._FILTERCRITERION="filterCriterion",n._METADATA="metadata",n._ITEMS="items",n._INTERNAL_FROM="_from",n._INTERNAL_OFFSET="_offset",n._FROM="from",n._OFFSET="offset",n._REFRESH="refresh",n._MUTATE="mutate",n._SIZE="size",n._FETCHPARAMETERS="fetchParameters",n._VALUE="value",n._DONE="done",n._LASTDONEHASDATA="lastDoneHasData",n._INTERNAL_DATAMAPPING="_dataMapping",n._DATAMAPPING="dataMapping",n._MAPFIELDS="mapFields",n._MAPSORTCRITERIA="mapSortCriteria",n._MAPFILTERCRITERION="mapFilterCriterion",n._UNMAPSORTCRITERIA="unmapSortCriteria",n._UNMAPFILTERCRITERION="unmapFilterCriterion",n._RESULTS="results",n._CONTAINSPARAMETERS="containsParameters",n._DEFAULT_SIZE=25,n._CONTAINSKEYS="containsKeys",n._FETCHBYKEYS="fetchByKeys",n._FETCHBYOFFSET="fetchByOffset",n._FETCHFIRST="fetchFirst",n._ADDEVENTLISTENER="addEventListener",n._INTERNAL_FETCHATTRIBUTES="_attributes",n._FETCHATTRIBUTES="attributes",n._TOTALFILTEREDROWCOUNR="totalFilteredRowCount",n._SIGNAL="signal",i.EventTargetMixin.applyMixin(n),e._registerLegacyNamespaceProp("ListDataProviderView",n),n}.apply(t,n))||(e.exports=o)},2027:(e,t,i)=>{var n,o;n=[t,i(7006),i(8819),i(7551),i(6137)],o=function(e,t,i,n,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var s=n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const a={};t._registerLegacyNamespaceProp("LocaleData",a),a.setBundle=function(e){a._bundle=e},a.getFirstDayOfWeek=function(){return a._getWeekData("firstDay")},a.getWeekendStart=function(){return a._getWeekData("weekendStart")},a.getWeekendEnd=function(){return a._getWeekData("weekendEnd")},a.getDayNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=a._getCalendarData().days["stand-alone"][e];return[t.sun,t.mon,t.tue,t.wed,t.thu,t.fri,t.sat]},a.getMonthNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=a._getCalendarData().months["stand-alone"][e];return[t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12]]},a.isMonthPriorToYear=function(){var e=i.getLocale(),t=new Date,n=new Intl.DateTimeFormat(e,{dateStyle:"long"}).formatToParts(t);return n.findIndex((e=>"month"===e.type))<n.findIndex((e=>"year"===e.type))},a._getWeekData=function(e){var t=a.__getBundle(),i=a._getRegion()||"001",n=t.supplemental.weekData[e],o=n[i];return void 0===o&&(o=n["001"]),o},a._getCalendarData=function(){var e=i.getLocale();return o.CalendarUtils.getCalendar(e,"gregory")},a._getRegion=function(){var e=i.getLocale();if(e){var t=e.toUpperCase().split(/-|_/);if(t.length>=2){var n=t[1];if(4!==n.length)return n;if(t.length>=3)return t[2]}}return a.__getBundle().supplemental.defaultRegion[e]},a.__getBundle=function(){return a._bundle||s},a.__updateBundle=function(e){s=e};const r=a.getDayNames,l=a.getFirstDayOfWeek,_=a.getMonthNames,u=a.getWeekendEnd,h=a.getWeekendStart,d=a.isMonthPriorToYear,c=a.setBundle,p=a.__getBundle,S=a._getCalendarData;e.__getBundle=p,e._getCalendarData=S,e.getDayNames=r,e.getFirstDayOfWeek=l,e.getMonthNames=_,e.getWeekendEnd=u,e.getWeekendStart=h,e.isMonthPriorToYear=d,e.setBundle=c,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n),void 0===o||(e.exports=o)},9340:(e,t,i)=>{var n,o;n=[t,i(6584),i(7516),i(8854),i(6400),i(3215)],o=function(e,t,i,n,o,s){"use strict";e.Selector=class extends o.Component{constructor(e){super(e),this._handleFocusin=e=>{this.setState({focus:!0})},this._handleFocusout=e=>{this.setState({focus:!1})},this._checkboxListener=e=>{const{selectedKeys:t,rowKey:i,selectionMode:n}=this.props;let o;null!=t&&(e.target.checked?"multiple"===n?o=t.add([i]):"all"===n?o=t.addAll():"single"!==n||t.has(i)||(o=t.clear().add([i])):o="all"===n?t.clear():t.delete([i]),this.props.onSelectedKeysChanged?.(o),this.props.onIndeterminateChanged?.(!1))},this.state={focus:!1}}render(e,o){const{rowKey:a,indeterminate:r}=e,l=this._isSelected(a);let _="oj-selector-wrapper oj-component-icon";r?_+=" oj-indeterminate":l&&(_+=" oj-selected"),o.focus&&!s.recentPointer()&&(_+=" oj-focus-highlight");const u=e["aria-labelledby"]||null,h=null==e["aria-label"]||""==e["aria-label"]?.trim()?null:e["aria-label"]+(l?i.getTranslatedString("oj-ojSelector.checkboxAriaLabelSelected"):i.getTranslatedString("oj-ojSelector.checkboxAriaLabelUnselected"));return t.jsx(n.Root,{class:"oj-selector",children:t.jsx("span",{class:_,children:t.jsx("input",{type:"checkbox",class:"oj-selectorbox","data-oj-clickthrough":"disabled","aria-label":h,"aria-labelledby":u,checked:l,onfocusin:this._handleFocusin,onfocusout:this._handleFocusout,onClick:this._checkboxListener})})})}_isSelected(e){const{selectedKeys:t,selectionMode:i}=this.props;return!!t&&("all"===i?t.isAddAll():t.has(e))}},e.Selector.defaultProps={rowKey:null,indeterminate:!1,selectedKeys:null,selectionMode:"multiple"},e.Selector._metadata={properties:{rowKey:{type:"any"},indeterminate:{type:"boolean",writeback:!0},selectedKeys:{type:"object",writeback:!0},selectionMode:{type:"string",enumValues:["all","multiple","single"]}},extension:{_WRITEBACK_PROPS:["selectedKeys","indeterminate"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["aria-label","aria-labelledby"]}},e.Selector=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}([n.customElement("oj-selector")],e.Selector),Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n),void 0===o||(e.exports=o)},6567:(e,t,i)=>{var n,o;n=[i(4256),i(4250),i(2889),i(3330),i(9767),i(9954),i(296),i(537),i(1348),i(2327),i(8536),i(9340),i(7006),i(9755),i(3215),i(9831),i(9093),i(8819),i(7516),i(9279),i(857),i(1755),i(7609),i(3714),i(7509),i(2523),i(4070),i(2936),i(675)],void 0===(o=function(e,t,i,n,o,s,a,r,l,_,u,h,d,c,p,S,g,m,f,E,C,T,y,b,A,v,R,L,O){"use strict";var I;u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,g=g&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g,b=b&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b,L=L&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L,(I={properties:{accessibility:{type:"object",properties:{rowHeader:{type:"string|Array<string>"}}},addRowDisplay:{type:"string",enumValues:["hidden","top"],value:"top"},as:{type:"string",value:""},columns:{type:"Array<Object>",writeback:!0},columnsDefault:{type:"object",properties:{className:{type:"string"},field:{type:"string"},footerClassName:{type:"string"},footerRenderer:{type:"function"},footerStyle:{type:"string"},footerTemplate:{type:"string"},headerClassName:{type:"string"},headerRenderer:{type:"function"},headerStyle:{type:"string"},headerTemplate:{type:"string"},headerText:{type:"string"},maxWidth:{type:"string|number"},minWidth:{type:"string|number",value:"auto"},renderer:{type:"function"},resizable:{type:"string",enumValues:["disabled","enabled"],value:"disabled"},showRequired:{type:"boolean",value:!1},sortProperty:{type:"string"},sortable:{type:"string",enumValues:["auto","disabled","enabled"],value:"auto"},style:{type:"string"},template:{type:"string"},weight:{type:"number",value:1},width:{type:"string|number"}}},currentRow:{type:"object",writeback:!0},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"unsupported",since:"13.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},display:{type:"string",enumValues:["grid","list"],value:"list"},dnd:{type:"object",properties:{drag:{type:"object",properties:{rows:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}}}},drop:{type:"object",properties:{columns:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},rows:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}}}},reorder:{type:"object",properties:{columns:{type:"string",enumValues:["disabled","enabled"],value:"disabled"}}}}},editMode:{type:"string",enumValues:["none","rowEdit"],value:"none"},editRow:{type:"object",writeback:!0,value:{rowKey:null,rowIndex:-1}},firstSelectedRow:{type:"object",writeback:!0,readOnly:!0,value:{key:null,data:null},properties:{data:{type:"any"},key:{type:"any"}}},horizontalGridVisible:{type:"string",enumValues:["auto","disabled","enabled"],value:"auto"},layout:{type:"string",enumValues:["contents","fixed"],value:"contents"},row:{type:"object",properties:{editable:{type:"function"},selectable:{type:"function"},sticky:{type:"function"}}},rowRenderer:{type:"function"},scrollPolicy:{type:"string",enumValues:["auto","loadAll","loadMoreOnScroll"],value:"auto"},scrollPolicyOptions:{type:"object",properties:{fetchSize:{type:"number",value:25},maxCount:{type:"number",value:500},scroller:{type:"string"},scrollerOffsetBottom:{type:"number"},scrollerOffsetEnd:{type:"number"},scrollerOffsetStart:{type:"number"},scrollerOffsetTop:{type:"number"}}},scrollPosition:{type:"object",writeback:!0,value:{x:0,y:0},properties:{columnIndex:{type:"number"},columnKey:{type:"any"},offsetX:{type:"number"},offsetY:{type:"number"},rowIndex:{type:"number"},rowKey:{type:"any"},x:{type:"number"},y:{type:"number"}}},scrollToKey:{type:"string",enumValues:["always","auto","capability","never"],value:"auto"},selectAllControl:{type:"string",enumValues:["hidden","visible"],value:"visible"},selected:{type:"object",writeback:!0,properties:{column:{type:"KeySet",writeback:!0},row:{type:"KeySet",writeback:!0}}},selection:{type:"Array<Object>",writeback:!0,value:[]},selectionMode:{type:"Object<string, string>",properties:{column:{type:"string",enumValues:["multiple","none","single"]},row:{type:"string",enumValues:["multiple","none","single"]}}},selectionRequired:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{accessibleAddRow:{type:"string"},accessibleColumnContext:{type:"string"},accessibleColumnFooterContext:{type:"string"},accessibleColumnHeaderContext:{type:"string"},accessibleColumnsSpan:{type:"string"},accessibleContainsControls:{type:"string"},accessibleRowContext:{type:"string"},accessibleSortAscending:{type:"string"},accessibleSortDescending:{type:"string"},accessibleSortable:{type:"string"},accessibleStateSelected:{type:"string"},accessibleStateUnselected:{type:"string"},accessibleSummaryEstimate:{type:"string"},accessibleSummaryExact:{type:"string"},editableSummary:{type:"string"},labelAccSelectionAffordanceBottom:{type:"string"},labelAccSelectionAffordanceTop:{type:"string"},labelColumnWidth:{type:"string"},labelDisableNonContiguousSelection:{type:"string"},labelEditRow:{type:"string"},labelEnableNonContiguousSelection:{type:"string"},labelResize:{type:"string"},labelResizeColumn:{type:"string"},labelResizeColumnDialog:{type:"string"},labelResizeDialogApply:{type:"string"},labelResizePopupCancel:{type:"string"},labelResizePopupSpinner:{type:"string"},labelResizePopupSubmit:{type:"string"},labelSelectAllRows:{type:"string"},labelSelectAndEditRow:{type:"string"},labelSelectColum:{type:"string"},labelSelectRow:{type:"string"},labelSort:{type:"string"},labelSortAsc:{type:"string"},labelSortDsc:{type:"string"},msgColumnResizeWidthValidation:{type:"string"},msgFetchingData:{type:"string"},msgInitializing:{type:"string"},msgNoData:{type:"string"},msgScrollPolicyMaxCountDetail:{type:"string"},msgScrollPolicyMaxCountSummary:{type:"string"},msgStatusSortAscending:{type:"string"},msgStatusSortDescending:{type:"string"},tooltipRequired:{type:"string"}}},verticalGridVisible:{type:"string",enumValues:["auto","disabled","enabled"],value:"auto"}},methods:{getContextByNode:{},getDataForVisibleRow:{},getProperty:{},refresh:{},refreshRow:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeCurrentRow:{},ojBeforeRowAddEnd:{},ojBeforeRowEdit:{},ojBeforeRowEditEnd:{},ojRowAction:{},ojSort:{}},extension:{}}).extension._WIDGET_NAME="ojTable",I.extension._INNER_ELEM="table",d.CustomElementBridge.register("oj-table",{metadata:d.CollectionUtils.mergeDeep(I,{properties:{userAssistanceDensity:{binding:{provide:[{name:"containerUserAssistanceDensity",default:"compact"},{name:"userAssistanceDensity",default:"compact"}]}}}})});const D=function(){};D._BUNDLE_KEY={_MSG_FETCHING_DATA:"msgFetchingData",_MSG_NO_DATA:"msgNoData",_MSG_INITIALIZING:"msgInitializing",_MSG_STATUS_SORT_ASC:"msgStatusSortAscending",_MSG_STATUS_SORT_DSC:"msgStatusSortDescending",_LABEL_SELECT_COLUMN:"labelSelectColumn",_LABEL_SELECT_ALL_ROWS:"labelSelectAllRows",_LABEL_SELECT_ROW:"labelSelectRow",_LABEL_EDIT_ROW:"labelEditRow",_LABEL_SELECT_AND_EDIT_ROW:"labelSelectAndEditRow"},D._LOGGER_MSG={_ERR_PRECURRENTROW_ERROR_SUMMARY:"Did not change current row due to error.",_ERR_PRECURRENTROW_ERROR_DETAIL:"Error detail: {error}.",_ERR_CURRENTROW_UNAVAILABLE_INDEX_SUMMARY:"Did not change current row due to unavailable row index.",_ERR_CURRENTROW_UNAVAILABLE_INDEX_DETAIL:"Unavailable row index: {rowIdx}.",_ERR_REFRESHROW_INVALID_INDEX_SUMMARY:"Invalid row index value.",_ERR_REFRESHROW_INVALID_INDEX_DETAIL:"Row index: {rowIdx}.",_ERR_DATA_INVALID_TYPE_SUMMARY:"Invalid data type.",_ERR_DATA_INVALID_TYPE_DETAIL:"Please specify the appropriate data type.",_ERR_ELEMENT_INVALID_TYPE_SUMMARY:"Invalid element type.",_ERR_ELEMENT_INVALID_TYPE_DETAIL:"Only a <table> element can be specified for ojTable."},D._UPDATE={_ADD_ROW_DISPLAY:"addRowDisplay",_ATTACHED:"attached",_DATA_REFRESH:"dataRefresh",_DATA_SORT:"dataSort",_RESIZE:"resize",_REFRESH:"refresh",_COL_REORDER:"colReorder",_COL_RESIZE:"colResize",_ROW_REFRESH:"rowRefresh",_ROWS_ADDED:"rowsAdded",_ROWS_REMOVED:"rowsRemoved",_SHOWN:"shown"},D._SUB_ID={_TABLE_CELL:"oj-table-cell",_TABLE_HEADER:"oj-table-header",_TABLE_FOOTER:"oj-table-footer",_TABLE_SORT_ASCENDING:"oj-table-sort-ascending",_TABLE_SORT_DESCENDING:"oj-table-sort-descending"},D._POSITION={_START_TOP:"start top",_START_BOTTOM:"start bottom"},D._FIELD_ID="id",D._CONST_ATTRIBUTE="attribute",D._CONST_DATA="data",D._CONST_METADATA="metadata",D._CONST_INDEXES="indexes",D._CONST_INDEX="index",D._CONST_KEY="key",D._CONST_KEYS="keys",D._CONST_AFTERKEYS="afterKeys",D._CONST_ADDBEFOREKEYS="addBeforeKeys",D._CONST_CLIENTID="clientId",D._CONST_SIGNAL="signal",D._CONST_STARTINDEX="startIndex",D._CONST_ENDINDEX="endIndex",D._CONST_PAGESIZE="size",D._CONST_OFFSET="offset",D._CONST_SILENT="silent",D._CONST_COLUMN="column",D._CONST_ROW="row",D._CONST_VALUE="value",D._CONST_SORTCRITERIA="sortCriteria",D._CONST_ON="on",D._CONST_OFF="off",D._COLUMN_HEADER_ID="_headerColumn",D._COLUMN_HEADER_TEXT_ID="_headerColumnText",D._COLUMN_HEADER_ASC_ID="_headerColumnAsc",D._COLUMN_HEADER_DSC_ID="_headerColumnDsc",D._COLUMN_HEADER_ID_PREFIX="_hdrCol",D._COLUMN_HEADER_ROW_SELECT_ID="_hdrColRowSel",D._FOCUS_CALLED="_focusedCalled",D._ROW_TEMPLATE="rowTemplate",D._CELL_TEMPLATE="template",D._HEADER_TEMPLATE="headerTemplate",D._FOOTER_TEMPLATE="footerTemplate",D._OPTION_AUTO="auto",D._OPTION_ENABLED="enabled",D._OPTION_DISABLED="disabled",D._OPTION_DISPLAY={_LIST:"list",_GRID:"grid"},D._OPTION_EDIT_MODE={_NONE:"none",_ROW_EDIT:"rowEdit"},D._OPTION_FROZEN_EDGE={_END:"end",_START:"start"},D._OPTION_SELECTION_MODES={_SINGLE:"single",_MULTIPLE:"multiple",_NONE:"none"},D._OPTION_SCROLL_POLICY={_AUTO:"auto",_LOADMORE_ON_SCROLL:"loadMoreOnScroll",_LOAD_ALL:"loadAll"},D._COLUMN_SORT_ORDER={_ASCENDING:"ascending",_DESCENDING:"descending"},D._DND_REORDER_TABLE_ID_DATA_KEY="oj-table-dnd-reorder-table-id",D._CURRENT_ROW_STATUS={_UPDATED:"updated",_IGNORED:"ignored",_VETOED:"vetoed",_ERROR:"error"},D._ROW_ITEM_EXPANDO="oj-table-oj-row-item",D._DATA_OJ_COMMAND="data-oj-command",D._DATA_OJ_EDITABLE="data-oj-editable",D._DATA_OJ_SELECTABLE="data-oj-selectable",D._DATA_OJ_COLUMNIDX="data-oj-columnIdx",D._VALIDATOR_PATTERN="^[1-9][0-9]*$",D._DATA_OJ_BINDING_PROVIDER="data-oj-binding-provider",D._BATCH_PROCESS_SIZE_WHEN_IDLE=5,D.RESIZE_OFFSET=10,D.SIZING_ERROR_MARGIN=.05,D.CONTENT_FLICKER_TIMEOUT=20,D._SELECTOR_OFF_COLSPAN_OFFSET=1,D._CSS_Vars={enableSticky:"--oj-private-table-global-sticky-default",enableSelector:"--oj-private-table-global-enable-selector-default",showIndicatorDelay:"--oj-private-core-global-loading-indicator-delay-duration",loadIndicator:"--oj-private-table-global-load-indicator-default",horizontalGridVisible:"--oj-private-table-global-display-list-horizontal-grid-visible-default",addAnimation:"--oj-private-table-global-add-animation",removeAnimation:"--oj-private-table-global-remove-animation",updateAnimation:"--oj-private-table-global-update-animation"},D.prototype._isStickyLayoutEnabled=function(){return"true"===this._getDefaultOptions().enableSticky},D.prototype._isStickyRowsEnabled=function(){return!(!this._isStickyLayoutEnabled()||null==this.options.row)&&"function"==typeof this.options.row.sticky},D.prototype._isFixedLayoutEnabled=function(){return"fixed"===this.options.layout},D.prototype._isTableStretchEnabled=function(){return this._getTableContainer().classList.contains(D.CSS_CLASSES._TABLE_STRETCH_CLASS)},D.prototype._isExternalScrollEnabled=function(){if(this._isStickyLayoutEnabled()){var e=this.options.scrollPolicyOptions;if(null!=e)return null!=e.scroller}return!1},D.prototype._invokeRowSelectableCallback=function(e){return this._invokeActionCallback(e,"selectable",D._CONST_ON)},D.prototype._invokeRowEditableCallback=function(e){return this._invokeActionCallback(e,"editable",D._CONST_ON)},D.prototype._invokeRowStickyCallback=function(e){return this._invokeActionCallback(e,"sticky",D._CONST_OFF)},D.prototype._invokeActionCallback=function(e,t,i){const n=this.options.row[t];return"function"==typeof n?n(e):i},D.prototype._isNodeEditable=function(e){return this._isNodeType(e,/^INPUT|TEXTAREA/)},D.prototype._isNodeClickable=function(e){return this._isNodeType(e,/SELECT|OPTION|BUTTON|^A\b/)},D.prototype._isNodeDraggable=function(e){return null!=this._getFirstAncestor(e,"[draggable='true']",!0)},D.prototype._isNodeType=function(e,t){for(var i=this._getTable();null!=e&&e!==i;){var n=e.nodeName;if(n===D.DOM_ELEMENT._TD||n===D.DOM_ELEMENT._TH)break;if(3!==e.nodeType&&n.match(t)&&-1!==e.getAttribute(D.DOM_ATTR._TABINDEX))return!0;e=e.parentNode}return!1},D.prototype._setDataWaitingState=function(e){!1!==e&&(this._isExternalScrollEnabled()||this._clearScrollBuffer(),this._showStatusMessage(),this._hideNoDataMessage()),this._dataFetching=!0,this._dataResolveFunc||(this._dataResolveFunc=this._addComponentBusyState("is waiting for data."))},D.prototype._checkViewportRejected=function(){this._animateOnFetch=!1,this._clearDataWaitingState()},D.prototype._clearDataWaitingState=function(e){this._pendingFetchStale?(this._pendingFetchStale=!1,this._queueTask(function(){return this._getLayoutManager().notifyTableUpdate(D._UPDATE._DATA_REFRESH),this._beforeDataRefresh(),this._invokeDataFetchRows(this._pendingFetchOptions)}.bind(this))):(e||this._hideStatusMessage(),this._dataFetching=!1,this._pendingFetchStale=!1,this._pendingFetchOptions=null,this._dataResolveFunc&&(this._dataResolveFunc(),this._dataResolveFunc=null))},D.prototype._setComponentNotReady=function(){this._readyResolveFunc||(this._readyResolveFunc=this._addComponentBusyState("is being loaded."))},D.prototype._setComponentReady=function(){this._readyResolveFunc&&(this._readyResolveFunc(),this._readyResolveFunc=null)},D.prototype._addComponentBusyState=function(e){var t=g.getContext(this.element[0]).getBusyContext(),i={description:"The component identified by '"+this._getTableId()+"' "+e};return t.addBusyState(i)},D.prototype._createComponentBusyState=function(e){var t=this._addComponentBusyState(e);return null==this._busyStateStack&&(this._busyStateStack=[]),this._busyStateStack.push(t),t},D.prototype._clearComponentBusyState=function(e){if(this._busyStateStack){var t=this._busyStateStack.indexOf(e);-1!==t&&(e(),this._busyStateStack.splice(t,1))}},D.prototype._clearBusyStateStack=function(){if(this._busyStateStack){for(var e=0;e<this._busyStateStack.length;e++)this._busyStateStack[e]();this._busyStateStack=null}},D.prototype._setFocusoutBusyState=function(){this._focusoutResolveFunc||(this._focusoutResolveFunc=this._addComponentBusyState("is handling focusout."))},D.prototype._clearFocusoutBusyState=function(){this._focusoutResolveFunc&&(this._focusoutResolveFunc(),this._focusoutResolveFunc=null)},D.prototype._setIdleRenderBusyState=function(){this._idleRenderResolveFunc||(this._idleRenderResolveFunc=this._addComponentBusyState("is waiting for idle rendering."))},D.prototype._clearIdleRenderBusyState=function(){this._idleRenderResolveFunc&&(this._idleRenderResolveFunc(),this._idleRenderResolveFunc=null)},D.prototype._setScrollPosBusyState=function(){this._scrollPosResolveFunc||(this._scrollPosResolveFunc=this._addComponentBusyState("is handling scroll position."))},D.prototype._clearScrollPosBusyState=function(){this._scrollPosResolveFunc&&(this._scrollPosResolveFunc(),this._scrollPosResolveFunc=null)},D.prototype._clearAllComponentBusyStates=function(){this._clearBusyStateStack(),this._pendingFetchStale=!1,this._clearDataWaitingState(),this._clearFocusoutBusyState(),this._clearIdleRenderBusyState(),this._clearScrollPosBusyState(),this._setComponentReady()},D.prototype._cleanComponent=function(e){this._animateOnFetch=null,this._isEditPending=null,this._active=null,this._isTableTab=null,this._dataFetching=null,this._controller=null,this._isAddRowRendered=!1,this._isRowRemovalRequired=null,this._renderedTableHeaderColumns=!1,this._clearAllComponentTimeouts(),this._clearAllComponentBusyStates(),this._clearOpenPopupListeners(),this._clearIdleCallback(),this._unregisterDomScroller(),this._clearLayoutManager(),this._cleanAccStatus(),e?(c(this._getTableBody()).removeAttr(C._OJ_CONTAINER_ATTR),c(this._getTableBody()).removeAttr(g._OJ_CONTEXT_ATTRIBUTE),this.element.children().remove("."+D.CSS_CLASSES._TABLE_HEADER_CLASS),this.element.children().remove("."+D.CSS_CLASSES._TABLE_BODY_CLASS),this.element.children().remove("."+D.CSS_CLASSES._TABLE_FOOTER_CLASS),this.element.children().remove("."+D.CSS_CLASSES._TABLE_STATUS_MESSAGE_CLASS),this.element.children().remove("."+D.CSS_CLASSES._TABLE_BODY_MESSAGE_ROW_CLASS),p.unwrap(this.element,c(this._getTableContainer())),this.element[0].classList.remove(D.CSS_CLASSES._TABLE_CLASS),this._data instanceof d.TableDataSourceAdapter&&this._data.destroy(),this._componentDestroyed=!0):(this._unregisterDataSourceEventListeners(),this._unregisterResizeListener()),(this._hasHeaderTemplate||this._hasCellTemplate||this._hasFooterTemplate||this._hasRowTemplate||this._hasAddRowTemplate||this._hasNoDataTemplate)&&this._cleanTemplateNodes(this.element[0])},D.prototype._clearAllComponentTimeouts=function(){this._clearFocusoutTimeout(),this._clearShowStatusTimeout(),this._clearTableBodyHideTimeout(),this._clearTableFooterHideTimeout(),this._clearNotifyAttachedTimeout(),this._clearBrowserAutoScrollTimeout()},D.prototype._clearFocusoutTimeout=function(){this._focusoutTimeout&&(clearTimeout(this._focusoutTimeout),this._focusoutTimeout=null)},D.prototype._clearShowStatusTimeout=function(){this._showStatusTimeout&&(clearTimeout(this._showStatusTimeout),this._showStatusTimeout=null)},D.prototype._initializeTableBodyHide=function(e){this._clearTableBodyHideTimeout(),this._bodyVisibilityTimeout=setTimeout(function(){e.style[D.CSS_PROP._VISIBILITY]=D.CSS_VAL._HIDDEN,this._bodyVisibilityTimeout=null}.bind(this),D.CONTENT_FLICKER_TIMEOUT)},D.prototype._clearTableBodyHideTimeout=function(){null!=this._bodyVisibilityTimeout&&(clearTimeout(this._bodyVisibilityTimeout),this._bodyVisibilityTimeout=null)},D.prototype._initializeTableFooterHide=function(e){this._clearTableFooterHideTimeout(),this._footerVisibilityTimeout=setTimeout(function(){e.style[D.CSS_PROP._VISIBILITY]=D.CSS_VAL._HIDDEN,this._footerVisibilityTimeout=null}.bind(this),D.CONTENT_FLICKER_TIMEOUT)},D.prototype._clearTableFooterHideTimeout=function(){null!=this._footerVisibilityTimeout&&(clearTimeout(this._footerVisibilityTimeout),this._footerVisibilityTimeout=null)},D.prototype._clearBrowserAutoScrollTimeout=function(){null!=this._browserAutoScrollTimeout&&(clearTimeout(this._browserAutoScrollTimeout),this._browserAutoScrollTimeout=null,this._browserAutoScrollInitPos=null)},D.prototype._setFinalTask=function(e){this._finalTask=e?e.bind(this):void 0},D.prototype._hasPendingTasks=function(){return this._taskCount>0},D.prototype._hasAdditionalPendingTasks=function(){return this._taskCount>1},D.prototype._queueTask=function(e){return this._pendingTasks||(this._taskCount=0,this._pendingTasks=Promise.resolve(),this._setComponentNotReady()),this._taskCount+=1,this._pendingTasks=this._pendingTasks.then(function(){if(!this._componentDestroyed)return e.bind(this)()}.bind(this)).then(function(e){if(this._taskCount-=1,0===this._taskCount){this._pendingTasks=null;try{this._componentDestroyed||(this._finalTask&&this._finalTask(),this._trigger("ready"))}catch(e){S.error(e)}this._setComponentReady()}return e}.bind(this),function(e){return this._taskCount-=1,0===this._taskCount&&(this._pendingTasks=null,S.error(e),this._setComponentReady()),Promise.reject(e)}.bind(this)),this._pendingTasks},D.prototype._draw=function(){if(this._setFinalTask(function(){this._syncTableSizing(),this._initialSelectionStateValidated?this._syncSelectionState():this._validateInitialSelectionState(),this._resetAriaLabel&&this._updateAccStatusInfo(),this._resetAriaLabel=!1}.bind(this)),!this.element.is("table")){var e=D._LOGGER_MSG._ERR_ELEMENT_INVALID_TYPE_SUMMARY,t=D._LOGGER_MSG._ERR_ELEMENT_INVALID_TYPE_DETAIL;throw new RangeError(e+"\n"+t)}this.element[0].classList.add(D.CSS_CLASSES._TABLE_ELEMENT_CLASS),this.element[0].setAttribute(D.DOM_ATTR._ROLE,"application"),this._createInitialTable(this._isTableHeaderless(),this._isTableFooterless()),this._styleInitialTable(),this._queueTask(function(){this._getLayoutManager().notifyTableUpdate(D._UPDATE._REFRESH),this._processSlottedChildren()}.bind(this)),this.options.disabled&&this.disable()},D.prototype._refresh=function(){this._dataFetching&&this._controller&&this._controller.abort();var e=!1;this._active=null,this._pendingFetchOptions=null,this._dataOption!==this.options[D._CONST_DATA]&&(this._clearCachedDataMetadata(),null==this._data&&(e=!0));var t=this._GetContextMenu();return null!=t&&t!==this._getContextMenuElement()&&this._createContextMenuContainer(),this._isAddRowRendered=!1,this._clearLayoutManager(),this._clearCachedDom(),this._clearCachedStyling(),this._refreshContextMenu(),this._statusMessageShown&&this._isSkeletonSupport()||this._refreshTableStatusMessage(),this._clearIdleCallback(),this._hasEditableRow()&&this._setTableEditable(!1,!0),e?this._initFetch():this._queueTask(function(){return this._getLayoutManager().notifyTableUpdate(D._UPDATE._REFRESH),this._invokeDataFetchRows()}.bind(this))},D.prototype._refreshAll=function(e,t){var i=[];if((this._isColumnMetadataUpdated()||!this._isTableHeaderColumnsRendered())&&(this._clearCachedMetadata(),i.push(this._refreshTableHeader()),null!=this._sortColumn)){for(var n=!1,o=this._getColumnDefs(),s=o.length,a=0;a<s;a++){var r=o[a];if(d.Object.compareValues(r,this._sortColumn)){n=!0;break}}n||this._initFetch(null,!0)}return i.push(this._refreshTableFooter()),i.push(this._refreshTableBody(e,t)),Promise.all(i)},D.prototype._refreshTableHeader=function(){try{var e,t=this,i=this._getColumnDefs(),n=i.length,o=this._getTableColGroup();if(null!=o){var s=this._getTableBody();null!=s&&(s.style[D.CSS_PROP._VISIBILITY]=D.CSS_VAL._HIDDEN);var a=this._getTableFooter();if(null!=a&&(a.style[D.CSS_PROP._VISIBILITY]=D.CSS_VAL._HIDDEN),c(o).empty(),this._isGutterStartColumnEnabled()){let e=this._createTableGutterCol();o.appendChild(e)}if(this._isDefaultSelectorEnabled()){var r=this._createTableSelectorCol();o.appendChild(r)}for(e=0;e<n;e++){var l=this._createTableCol();o.appendChild(l)}if(this._isGutterEndColumnEnabled()){let e=this._createTableGutterCol();o.appendChild(e)}}var _=this._getTableBodyLegacyWidthBuffer();if(null!=_)for(c(_).empty(),e=0;e<n;e++){var u=this._createTableBodyCell();u.classList.add(D.CSS_CLASSES._TABLE_LEGACY_WIDTH_BUFFER_CELL_CLASS),_.appendChild(u)}var h=this._getTableHeader();if(!h){if(this._isTableHeaderless())return Promise.resolve();h=this._createTableHeader(),this._styleTableHeader(h)}var d=this._getTableHeaderRow();for(this._unregisterChildStateListeners(d),this._hasHeaderTemplate&&(this._cleanTemplateNodes(d),this._hasHeaderTemplate=!1),c(d).empty(),e=0;e<n;e++){var p=null,S=i[e],g=this._getColumnRenderer(e,"header");if(g){p=this._createTableHeaderColumn(e);var m=this._getRendererContextObject(p,{}),f={headerContext:m,columnIndex:e,data:S.headerText,componentElement:m.componentElement,parentElement:m.parentElement};S.sortable===D._OPTION_ENABLED?f.columnHeaderSortableIconRenderer=function(e,i){t._columnHeaderSortableIconRenderer(this,i)}:f.columnHeaderDefaultRenderer=function(e,i){t._columnHeaderDefaultRenderer(this,i)};var E=g(f);null!=E&&c(p).empty(),T.applyRendererContent(p,E)||(p=c(d).children()[e],this._setTableHeaderColumnAttributes(e,p),this._styleTableHeaderColumn(e,p,!1)),p.classList.add(D.CSS_CLASSES._COLUMN_CUSTOM_HEADER_CLASS)}else{var C=this._getSlotTemplate(S[D._HEADER_TEMPLATE]);if(null==C&&this._isDefaultHeaderTemplateSlotValid()&&(C=this._getSlotTemplate("headerTemplate")),C){var y=this._getRootElement(),b=this._getTemplateEngine();if(null!=b){(p=this._createTableHeaderColumn(e,!0)).classList.add(D.CSS_CLASSES._COLUMN_CUSTOM_HEADER_CLASS);var A=this._getHeaderSlotTemplateContextObject(S.headerText,e),R=b.execute(y,C,A,this.options.as,p,new Map([[v.FormVariantContext,"embedded"]]));R instanceof Array||(R=[R]),R.map((function(e){p.appendChild(e)})),this._hasHeaderTemplate=!0}}}p||this._createTableHeaderColumn(e)}if(this._isGutterEndColumnEnabled()){let e=this._createTableGutterCell("header","end");d.appendChild(e)}if(this._isDefaultSelectorEnabled()){var L=this._createTableHeaderSelectorColumn();d.insertBefore(L,d.firstChild)}if(this._isGutterStartColumnEnabled()){let e=this._createTableGutterCell("header","start");d.insertBefore(e,d.firstChild)}return this._renderedTableHeaderColumns=!0,this._getLayoutManager().optimizeInitialColumnWidths(),this._finalizeNonBodyRowRendering([d])}catch(e){return Promise.reject(e)}},D.prototype._refreshTableFooter=function(){try{var e=this._getColumnDefs(),t=this._getTableFooter();if(!t){if(this._isTableFooterless())return Promise.resolve();t=this._createTableFooter(),this._styleTableFooter(t)}this._initializeTableFooterHide(t);var i=this._getTableFooterRow();if(this._hasFooterTemplate&&(this._cleanTemplateNodes(i),this._hasFooterTemplate=!1),c(i).empty(),e.length>0){for(var n=this._isDefaultFooterTemplateSlotValid(),o=e.length,s=0;s<o;s++){var a=e[s],r=this._getColumnRenderer(s,"footer"),l=this._createTableFooterCell();if(this._styleTableFooterCell(s,l),this._insertTableFooterCell(s,l),r){var _=this._getRendererContextObject(l,{}),u={footerContext:_,columnIndex:s,componentElement:_.componentElement,parentElement:_.parentElement};T.applyRendererContent(l,r(u))||(l=c(i).children()[s],this._setTableFooterColumnAttributes(s,l),this._styleTableFooterCell(s,l))}else{var h=this._getSlotTemplate(a[D._FOOTER_TEMPLATE]);if(null==h&&n&&(h=this._getSlotTemplate("footerTemplate")),h){var d=this._getRootElement(),p=this._getTemplateEngine();if(null!=p){var S=this._getFooterSlotTemplateContextObject(s),g=p.execute(d,h,S,this.options.as,l,new Map([[v.FormVariantContext,"embedded"]]));g instanceof Array||(g=[g]),g.map((function(e){l.appendChild(e)})),this._hasFooterTemplate=!0}}}}if(this._isGutterEndColumnEnabled()){let e=this._createTableGutterCell("footer","end");i.appendChild(e)}if(this._isDefaultSelectorEnabled()){var m=this._createTableFooterSelectorCell();i.insertBefore(m,i.firstChild)}if(this._isGutterStartColumnEnabled()){let e=this._createTableGutterCell("footer","start");i.insertBefore(e,i.firstChild)}}return this._finalizeNonBodyRowRendering([i])}catch(e){return Promise.reject(e)}},D.prototype._refreshTableBody=function(e,t,i){var n=this._getTableBody();if(null==n)return Promise.resolve();this._scrollLeft=void 0===this._scrollLeft?0:this._scrollLeft,this._scrollTop=void 0===this._scrollTop?0:this._scrollTop;var o=[];return o.push(this._refreshAddNewRowPlaceholder(!0)),o.push(this._finalizeTableBody(e,t,n,i)),Promise.all(o)},D.prototype._finalizeTableBody=function(e,t,i,n){var o,s,a=this._getRowIdxRowArray(e,t);if(0===a.length&&(0===t||0===this._getTableBodyRows().length))return s=this._clearTableBodyRowsFromIndex(t),this._showNoDataMessage(),s&&this._getTable().focus(),this._finalizeNonBodyRowRendering([i]);const r=document.createDocumentFragment();if(t>0&&this._isLoadMoreOnScroll()&&!this._isLastRowInViewport()&&!this._fetchBySyncScroll)return new Promise(function(n,o){this._setIdleRenderBusyState(),this._renderRowsWhenIdle(a.slice(0),i,r,[],t,n,o,e.isMouseWheel)}.bind(this));var l=[],_=a.length,u=[];for(o=0;o<_;o++)l.push(a[o].rowIdx),u.push(this._renderRow(a[o],r,t));var h=this._animateOnFetch&&this._IsCustomElement();return this._animateOnFetch=!1,Promise.all(u).then(function(e){return s=this._clearTableBodyRowsFromIndex(t),n||this._initializeTableBodyHide(i),this._getLayoutManager().handleAfterRowsProcessed(r),this._appendElementToTableBody(r,i),s&&this._getTable().focus(),h?this._animateVisibleRows(e,l,"add").then(function(){return this._afterRowsRendered(i)}.bind(this)):this._afterRowsRendered(i)}.bind(this),(function(e){return Promise.reject(e)}))},D.prototype._clearTableBodyRowsFromIndex=function(e){var t=this._getTableBody().contains(document.activeElement),i=!1;if(0===e)t&&(i=!0),this._removeAllTableBodyRows();else{var n=this._getTableBodyRows().length;if(n>0)for(var o=n-1;o>=e;o--){if(t){var s=this._getTableBodyRow(o);null!=s&&s.contains(document.activeElement)&&(i=!0,t=!1)}this._removeTableBodyRow(o)}}return this._clearCachedDomRowData(),this._hideNoDataMessage(),this._isRowRemovalRequired=!1,i},D.prototype._isDefaultSelectorEnabled=function(){return"true"===this._getDefaultOptions().enableSelector&&this._getRowSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE},D.prototype._refreshTableBodyRow=function(e,t,i,n,o,s){try{var a=this._getRowRenderer();if((isNaN(e)||e<0)&&S.error("Error: Invalid rowIdx value: "+e),null==i){if(!(i=this._getTableBodyRow(e)))return Promise.resolve(null);(this._hasCellTemplate||this._hasRowTemplate)&&this._cleanTemplateNodes(i),c(i).empty()}var r=this._getCurrentRow();r=r||{};var l=this._getRendererContextObject(i,{row:t,isCurrentRow:r.rowIndex===e});l.editable=this._invokeRowEditableCallback(i[D._ROW_ITEM_EXPANDO]);const T=this._invokeRowSelectableCallback(i[D._ROW_ITEM_EXPANDO]);var _={rowContext:l,row:t[D._CONST_DATA],componentElement:l.componentElement,parentElement:l.parentElement,data:t[D._CONST_DATA]},u=!1,h=this._getTableBody();if(null!=a||this._isDefaultRowTemplateSlotValid()&&null!==this._getSlotTemplate("rowTemplate")){if(null!=a){var d=a(_);null!=d?i.appendChild(d):null==n?i=this._getRawTableBodyRow(e):(o=null==o?0:o,i=n.children?n.children[e-o]:c(n).children()[e-o])}else{var p=this._getSlotTemplate("rowTemplate"),g=this._getRootElement(),m=this._getTemplateEngine();if(null!=m){var f=this._getRowSlotTemplateContextObject(_),E=m.execute(g,p,f,this.options.as,h,new Map([[v.FormVariantContext,"embedded"]]));for(let e=0;e<E.length;e++){var C=E[e];if("TR"===C.tagName){i.parentNode.replaceChild(C,i),i=C,u=!1;break}i.appendChild(C),u=!0}this._hasRowTemplate=!0}}return i._ojReportBusy=h,this._waitForAllElementsToResolve([i]).then(function(){if(u){var n=i.children;for(let e=0;e<n.length;e++){var o=n[e];if("TR"===o.tagName){i.parentNode.replaceChild(o,i),(i=o)._ojReportBusy=h;break}}}this._setTableBodyRowAttributes(t,i),this._clearCachedDomRowData(),this._styleTableBodyRow(i,!1);var a,r=this._getTableElementsByTagName(i,D.DOM_ELEMENT._TD),_=r.length;for(let i=0;i<_;i++)a=r[i],this._setTableBodyCellAttributes(e,t[D._CONST_KEY],i,a),this._styleTableBodyCell(i,a,!1);if(null!=this._columnsDestMap)for(let e=0;e<this._columnsDestMap.length;e++){var d=r[this._columnsDestMap[e]];d.parentNode.appendChild(d)}return this._finalizeTableBodyCellsRefresh(i,t,e,l.editable,T,s)}.bind(this))}return this._setTableBodyRowAttributes(t,i),this._tableBodyRowDefaultRenderer(e,t,_),this._finalizeTableBodyCellsRefresh(i,t,e,l.editable,T,s)}catch(e){return Promise.reject(e)}},D.prototype._finalizeTableBodyCellsRefresh=function(e,t,i,n,o,s){var a=this._getColumnDefs();if(a.length>0){if(this._isDefaultSelectorEnabled()&&o!==D._CONST_OFF&&this._createTableBodyDefaultSelector(t.key,e),this._isGutterStartColumnEnabled()){let t=this._createTableGutterCell("body","start");e.insertBefore(t,e.firstChild)}if(this._isGutterEndColumnEnabled()){let t=this._createTableGutterCell("body","end");e.appendChild(t)}}return o===D._CONST_OFF&&a.length>0&&this._isDefaultSelectorEnabled()&&(this._getTableBodyCells(i,e)[0].colSpan+=D._SELECTOR_OFF_COLSPAN_OFFSET),this._getLayoutManager().handleRowRefresh(i,e,s),e[D._DATA_OJ_EDITABLE]=n,e[D._DATA_OJ_SELECTABLE]=o,Promise.resolve(e)},D.prototype._refreshAddNewRowPlaceholder=function(e){let t=this._getPlaceHolderRow();if(!this._isAddNewRowEnabled()){if(null!=t){if(this._hasActiveAddRow())if(this._isTableHeaderless())this._getTableBodyRows().length>0?this._setActiveRow(0,null,!0):this._setActiveNoData();else{var i=this._getFirstVisibleColumnIndex(0,!0);this._setActiveHeader(i)}this._cleanTemplateNodes(t),c(t).remove(),this._hasAddRowTemplate=!1,this._setTableActionableMode(!1)}return this._isAddRowRendered=!1,Promise.resolve(!1)}if(!this._isAddRowRendered){const i=this._getTemplateEngine(),_=this._getSlotTemplate("addRowTemplate"),u=this._getSlotTemplate("addRowCellTemplate");if(null!==i){let h,d=function(e){this._handleAddRow(e,null)}.bind(this);const p=this._getRootElement(),S=this._getTableBody();var n;null!=t&&(this._cleanTemplateNodes(t),c(t).empty()),null==t&&(t=this._createTableBodyRow()),S.insertBefore(t,S.firstChild);var o=!1;if(null!=_&&this._isDefaultAddRowTemplateSlotValid()){h=this._getRowSlotTemplateContextObject({},!0),h.submitAddRow=d;const n=i.execute(p,_,h,this.options.as,S);for(let e=0;e<n.length;e++){var s=n[e];if("TR"===s.tagName){t.parentNode.replaceChild(s,t),t=s,t._ojReportBusy=S,o=!1;break}t.appendChild(s),o=!0}return this._waitForAllElementsToResolve([t]).then(function(){if(o){var i=t.children;for(let e=0;e<i.length;e++){var n=i[e];if("TR"===n.tagName){t.parentNode.replaceChild(n,t),t=n,t._ojReportBusy=S;break}}}if(null!=this._columnsDestMap){var s=this._getPlaceHolderRowCells(t);for(let e=0;e<this._columnsDestMap.length;e++){var a=s[this._columnsDestMap[e]];a.parentNode.appendChild(a)}}return this._finalizePlaceHolderRowSetup(t,e)}.bind(this))}if(null!==u&&this._isDefaultAddRowCellTemplateSlotValid()){for(var a=this._getColumnDefs().length,r=0;r<a;r++){n=this._createTableBodyCell(),t.appendChild(n),h=this._getCellSlotTemplateContextObject({columnIndex:r},!0),h.submitAddRow=d;var l=i.execute(p,u,h,this.options.as,S);l instanceof Array||(l=[l]);for(let e=0;e<l.length;e++)n.appendChild(l[e])}return this._finalizePlaceHolderRowSetup(t,e)}}}return Promise.resolve(!1)},D.prototype._finalizePlaceHolderRowSetup=function(e,t){let i;e.classList.add(D.CSS_CLASSES._TABLE_ADD_ROW_PLACEHOLDER_CLASS);let n=this._getPlaceHolderRowCells(e);for(let e=0;e<n.length;e++)i=n[e],this._styleTableAddRowCell(e,i);if(this._isAddRowRendered=!0,this._hasAddRowTemplate=!0,this._isDefaultSelectorEnabled()&&(i=document.createElement(D.DOM_ELEMENT._TD),e.insertBefore(i,e.firstChild),i.classList.add(D.CSS_CLASSES._TABLE_FROZEN_START),this._isVerticalGridEnabled()&&i.classList.add(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS)),this._isGutterStartColumnEnabled()){let t=this._createTableGutterCell("body","start");e.insertBefore(t,e.firstChild)}if(this._isGutterEndColumnEnabled()){let t=this._createTableGutterCell("body","end");e.appendChild(t)}return t||this._getLayoutManager()._updateStickyRowTops(),this._finalizeNonBodyRowRendering([e])},D.prototype._finalizeBodyRowRendering=function(e){var t=this._getTableBody();return this._waitForAllElementsToResolve([t]).then(function(){var t=this._hasEditableRow()?this._getEditableRowKey():null,i=this._isTableActionableMode()&&this._active?this._active.key:null;return e.forEach(function(e){if(null!=e){var n=this._getRowKey(e);null!=t&&d.KeyUtils.equals(n,t)||null!=i&&d.KeyUtils.equals(n,i)||T.disableAllFocusableElements(e,null,!0)}}.bind(this)),Promise.resolve(!0)}.bind(this))},D.prototype._finalizeNonBodyRowRendering=function(e){return this._waitForAllElementsToResolve(e).then((function(){return e.forEach((function(e){T.disableAllFocusableElements(e,null,!0)})),Promise.resolve(!0)}))},D.prototype._waitForAllElementsToResolve=function(e){var t=[];return e.forEach((function(e){e&&t.push(g.getContext(e).getBusyContext().whenReady())})),Promise.all(t)},D.prototype._refreshRow=function(e,t,i,n,o){var s=this._getData(),a=this._getTableBodyRow(e);if(!i){if(!s)return Promise.resolve(!1);if(!a){var r=D._LOGGER_MSG._ERR_REFRESHROW_INVALID_INDEX_SUMMARY,l=f.applyParameters(D._LOGGER_MSG._ERR_REFRESHROW_INVALID_INDEX_DETAIL,{rowIdx:e.toString()});throw new RangeError(r+"\n"+l)}}var _,u=this._getRowKeyForRowIdx(e);if(this._getLayoutManager().notifyTableUpdate(D._UPDATE._ROW_REFRESH),n){var h=new Map;null==o&&(o={data:a[D._ROW_ITEM_EXPANDO].data,metadata:a[D._ROW_ITEM_EXPANDO].metadata}),h.set(u,o),_=Promise.resolve({results:h})}else _=s.fetchByKeys({keys:new Set([u])});return _.then(function(i){if(null==i||null==i.results||0===i.results.size)return Promise.resolve(!1);t=t&&a.contains(document.activeElement);var n=i.results.get(u);return this._refreshTableBodyRow(e,{data:n.data,metadata:n.metadata,index:e,key:u},null,null,null,!0).then(function(e){return t&&this._getTable().focus(),null==e?Promise.resolve(!0):this._finalizeBodyRowRendering([e])}.bind(this))}.bind(this))},D.prototype._refreshTableStatusMessage=function(){var e=this._getTableStatusMessage();null!=e&&c(e).remove(),this._createTableStatusMessage()},D.prototype._showStatusMessage=function(){if(!this._showStatusTimeout&&!this._statusMessageShown){var e=this._getTableTempSkeletonRow();if(null!=e&&this._getTableBody().removeChild(e),this._isSkeletonSupport()){var t=this._getData();if(t instanceof d.TableDataSourceAdapter){var i=t._startIndex;if(null!=i&&i>0)return}this._isExternalScrollEnabled()&&this._bufferScrollerForLastRow(),this._isRowRemovalRequired=!0}this._showStatusTimeout=setTimeout(function(){var e=!1;this._isSkeletonSupport()&&this._isRowRemovalRequired&&(e=this._clearTableBodyRowsFromIndex(0)),this._refreshTableStatusPosition(!0),e&&this._getTable().focus(),this._showStatusTimeout=null}.bind(this),this._getShowStatusDelay())}},D.prototype._showProgressiveLoading=function(){var e=this._getTableBodyRows(),t=this._getTableTempSkeletonRow();if(null!=e&&e.length>0&&!t){(t=this._createTableBodyRow()).classList.add(D.CSS_CLASSES._TABLE_FETCH_SKELETON_ROW_CLASS);var i=this._createTableBodyCell(),n=this._getColumnDefs().length;this._isGutterStartColumnEnabled()&&(n+=1),this._isGutterEndColumnEnabled()&&(n+=1),i.colSpan=this._isDefaultSelectorEnabled()?n+1:n,i.classList.add(D.CSS_CLASSES._TABLE_SKELETON_CELL_CLASS);for(var o=0;o<3;o++)i.appendChild(this._createSkeletonRow());t.appendChild(i),this._appendElementToTableBody(t,this._getTableBody()),this._skeletonHWMSFadeInEndListener=function(){t.classList.remove(D.CSS_CLASSES._ANIMATION_SKELETON_FADE_IN_CLASS),t.querySelectorAll(".oj-table-skeleton").forEach((function(e){e.classList.add("oj-animation-skeleton")})),t.removeEventListener("animationend",this._skeletonHWMSFadeInEndListener)}.bind(this),t.addEventListener("animationend",this._skeletonHWMSFadeInEndListener),t.classList.add(D.CSS_CLASSES._ANIMATION_SKELETON_FADE_IN_CLASS)}},D.prototype._insertSkeletonRow=function(e,t){var i;if(this._isSkeletonSupport()&&null!=(i=null!=e?e:-1===t?this._getPlaceHolderRow():this._getTableBodyRow(t))){for(var n=i.children,o=0;o<n.length;o++)n[o].classList.add(D.CSS_CLASSES._TABLE_HIDDEN_CELL_CLASS);var s=this._createTableBodyCell(),a=this._getColumnDefs().length;this._isGutterStartColumnEnabled()&&(a+=1),this._isGutterEndColumnEnabled()&&(a+=1),s.colSpan=this._isDefaultSelectorEnabled()?a+1:a,s.classList.add(D.CSS_CLASSES._TABLE_SKELETON_CELL_CLASS),-1===t&&(s.style[D.CSS_PROP._TOP]=n[0].style.top);var r=this._createSkeletonRow();s.appendChild(r),i.insertBefore(s,i.firstChild),this._skeletonHWMSFadeInEndListener=function(){r.classList.remove(D.CSS_CLASSES._ANIMATION_SKELETON_FADE_IN_CLASS),r.querySelectorAll(".oj-table-skeleton").forEach((function(e){e.classList.add("oj-animation-skeleton")})),r.removeEventListener("animationend",this._skeletonHWMSFadeInEndListener)}.bind(this),r.addEventListener("animationend",this._skeletonHWMSFadeInEndListener),r.classList.add(D.CSS_CLASSES._ANIMATION_SKELETON_FADE_IN_CLASS)}},D.prototype._removeSkeletonRow=function(e,t){var i;if(this._isSkeletonSupport()&&null!=(i=null!=e?e:-1===t?this._getPlaceHolderRow():this._getTableBodyRow(t))){var n=i.children[0];if(null!=n&&n.classList.contains(D.CSS_CLASSES._TABLE_SKELETON_CELL_CLASS)){var o=n.children[0];null!=o&&(o.classList.remove(D.CSS_CLASSES._ANIMATION_SKELETON_FADE_IN_CLASS),o.removeEventListener("animationend",this._skeletonHWMSFadeInEndListener)),i.removeChild(n)}for(var s=i.children,a=0;a<s.length;a++)s[a].classList.remove(D.CSS_CLASSES._TABLE_HIDDEN_CELL_CLASS)}},D.prototype._hideStatusMessage=function(){this._clearShowStatusTimeout();var e=this._getTableTempSkeletonRow();if(this._statusMessageShown||e){var t=this._getTableStatusMessage();if(t.style[D.CSS_PROP._DISPLAY]=D.CSS_VAL._NONE,this._isSkeletonSupport())if(e)this._getTableBody().removeChild(e);else for(var i=t.childNodes,n=i.length;n>0;n--)t.removeChild(i[n-1]);this._statusMessageShown=!1}},D.prototype._isStatusMessageShown=function(){return this._statusMessageShown},D.prototype._getDefaultOptions=function(){if(null==this._defaultOptions){this._defaultOptions={};const e=Object.keys(D._CSS_Vars),t=e.map((e=>D._CSS_Vars[e])),i=E.getCachedCSSVarValues(t);e.forEach(((e,t)=>{this._defaultOptions[e]=i[t]}))}return this._defaultOptions},D.prototype._getShowStatusDelay=function(){return p.getCSSTimeUnitAsMillis(this._getDefaultOptions().showIndicatorDelay)},D.prototype._isSkeletonSupport=function(){return"skeleton"===this._getDefaultOptions().loadIndicator},D.prototype._showNoDataMessage=function(){if(!this._noDataMessageShown){var e=this._getTableBodyMessageRow(),t=this._getData(),i=this._getSlotTemplate("noData");if(this._isDefaultTemplateSlotValid("noData")&&null!==i){var n=this._getTable(),o=this._getTableBody();n.classList.add(D.CSS_CLASSES._TABLE_NO_DATA_CONTAINER_CLASS);var s=document.createElement(D.DOM_ELEMENT._TR);if(s.id=this.createSubId("noData"),s.classList.add(D.CSS_CLASSES._TABLE_NO_DATA_ROW_CLASS),this._appendElementToTableBody(s,o),this._isGutterStartColumnEnabled()){let e=this._createTableGutterCell("body","start");s.appendChild(e)}var a=document.createElement(D.DOM_ELEMENT._TD),r=this._getColumnDefs().length;if(this._isDefaultSelectorEnabled()&&(r+=1),a.setAttribute(D.DOM_ATTR._COLSPAN,r),s.appendChild(a),this._isGutterEndColumnEnabled()){let e=this._createTableGutterCell("body","end");s.appendChild(e)}var l=this._getTemplateEngine();null!=l&&(l.execute(this._getRootElement(),i,{},null,o).forEach((function(e){a.appendChild(e)})),this._hasNoDataTemplate=!0)}else{var _;_=null!=this.options.emptyText?this.options.emptyText:this.getTranslatedString(D._BUNDLE_KEY._MSG_NO_DATA);var u=null!=t?_:this.getTranslatedString(D._BUNDLE_KEY._MSG_INITIALIZING);null==e?this._createTableBodyMessageRow(this._getColumnDefs().length,u):this._setTableBodyMessage(u)}this._noDataMessageShown=!0}},D.prototype._hideNoDataMessage=function(){if(this._noDataMessageShown){var e=this._getTableBodyMessageRow();if(null!=e)c(e).remove();else{var t=this._getTable();if(t.classList.contains(D.CSS_CLASSES._TABLE_NO_DATA_CONTAINER_CLASS)){t.classList.remove(D.CSS_CLASSES._TABLE_NO_DATA_CONTAINER_CLASS);var i=this._getTableNoDataRow();null!=i&&(this._cleanTemplateNodes(i),c(i).remove(),this._hasNoDataTemplate=!1)}}this._noDataMessageShown=!1}},D.prototype._handleContextMenuResizePopup=function(){let e,t;if("redwood"===E.parseJSONFromFontFamily("oj-theme-json").behavior){let i=document.getElementById(this._getTableUID()+"_resize_column_width_input"),n=this._getContextMenuResizeDialog();if(e=parseInt(n.getAttribute(D._DATA_OJ_COLUMNIDX),10),this._IsCustomElement()&&"valid"===i.valid)t=i.value,n.close();else{if(this._IsCustomElement()||"valid"!==c(i).ojInputNumber("option","valid"))return;t=c(i).ojInputNumber("option","value"),c(n).ojDialog("close")}}else{let i=document.getElementById(this._getTableUID()+"_resize_popup_spinner"),n=this._getContextMenuResizePopup();if(e=parseInt(n.getAttribute(D._DATA_OJ_COLUMNIDX),10),this._IsCustomElement()&&"valid"===i.valid)t=i.value,n.close();else{if(this._IsCustomElement()||"valid"!==c(i).ojInputNumber("option","valid"))return;t=c(i).ojInputNumber("option","value"),c(n).ojPopup("close")}}for(var i=[],n=this.options.columns.length,o=0;o<n;o++)i[o]=c.extend({},{},this.options.columns[o]);var s=this._getLayoutManager().getMinimumForcedOffsetWidth(e);i[e].width=Math.max(t,s),this.option("columns",i,{_context:{writeback:!0,internalSet:!0}}),this._clearCachedMetadata(),this._queueTask(function(){this._getLayoutManager().notifyTableUpdate(D._UPDATE._COL_RESIZE),setTimeout(function(){this._getTable().focus()}.bind(this),0)}.bind(this))},D.prototype._handleContextMenuSelect=function(e,t){var i,n=(i=t?t.item:c(e.target)).attr(D._DATA_OJ_COMMAND),o=this._getFirstAncestor(this._contextMenuEvent.target,"."+D.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS,!0);o=null==o?this._contextMenuEventHeaderColumn:o;var s=this._getFirstAncestor(this._contextMenuEvent.target,"."+D.CSS_CLASSES._TABLE_DATA_CELL_CLASS,!0),a=null;if(null!=o?a=this._getElementColumnIdx(o):null!=s&&(a=this._getElementColumnIdx(s)),null!==a)if("oj-table-sortAsc"===n)this._handleSortTableHeaderColumn(a,!0,e);else if("oj-table-sortDsc"===n)this._handleSortTableHeaderColumn(a,!1,e);else if("oj-table-enableNonContiguousSelection"===n)this._nonContiguousSelection=!0,this._removeTableBodyRowTouchSelectionAffordance(),i.attr(D._DATA_OJ_COMMAND,"oj-table-disableNonContiguousSelection"),i.children().first().text(this.getTranslatedString("labelDisableNonContiguousSelection"));else if("oj-table-disableNonContiguousSelection"===n)this._nonContiguousSelection=!1,i.attr(D._DATA_OJ_COMMAND,"oj-table-enableNonContiguousSelection"),i.children().first().text(this.getTranslatedString("labelEnableNonContiguousSelection"));else if("oj-table-resize"===n){var r=o||s,l=this._getLayoutManager().getColumnWidthProperty(r),_=null!=o?o:s;if("redwood"===E.parseJSONFromFontFamily("oj-theme-json").behavior){let e=this._getContextMenuResizeDialog();e.setAttribute(D._DATA_OJ_COLUMNIDX,a);let t=document.getElementById(this._getTableUID()+"_resize_column_width_input");this._IsCustomElement()?(t.value=Math.round(l),e.open(_)):(c(t).ojInputNumber("option","value",Math.round(l)),c(e).ojDialog("open",_))}else{let e=this._getContextMenuResizePopup();e.setAttribute(D._DATA_OJ_COLUMNIDX,a);let t=document.getElementById(this._getTableUID()+"_resize_popup_spinner");this._IsCustomElement()?(t.value=Math.round(l),e.open(_)):(c(t).ojInputNumber("option","value",Math.round(l)),c(e).ojPopup("open",_))}}},D.prototype._registerResizeListener=function(){var e=this._getTableContainer();this._resizeListener||(this._resizeListener=function(){var e=this._getLayoutManager(),t=window.getComputedStyle(this._getTableContainer());e.isSizingRefreshRequired(e.getExactOffsetWidth(t),e.getExactOffsetHeight(t))&&(e.notifyTableUpdate(D._UPDATE._RESIZE),this._hasPendingTasks()||this._syncTableSizing(!0))}.bind(this)),this._isResizeListenerAdded||(p.addResizeListener(e,this._resizeListener,50,!0),this._isResizeListenerAdded=!0)},D.prototype._unregisterResizeListener=function(){var e=this._getTableContainer();p.removeResizeListener(e,this._resizeListener),this._isResizeListenerAdded=!1},D.prototype._unregisterChildStateListeners=function(e){for(var t=e.querySelectorAll("*"),i=0;i<t.length;i++)this._UnregisterChildNode(t[i])},D.prototype._isLoadMoreOnScroll=function(){return this.options.scrollPolicy===D._OPTION_SCROLL_POLICY._AUTO?!(this._data instanceof d.TableDataSourceAdapter):this.options.scrollPolicy!==D._OPTION_SCROLL_POLICY._LOAD_ALL},D.prototype._isTableHeaderless=function(){for(var e=this._getColumnDefs(),t=e.length,i=0;i<t;i++){var n=this._getSlotTemplate(e[i][D._HEADER_TEMPLATE]);if(null!=e[i].headerText||null!=e[i].headerStyle||null!=e[i].sortable&&e[i].sortable!==D._OPTION_DISABLED||null!=e[i].sortProperty||null!=e[i].headerRenderer||null!=n)return!1}return!this._isDefaultHeaderTemplateSlotValid()||null==this._getSlotTemplate("headerTemplate")},D.prototype._isTableFooterless=function(){for(var e=this._getColumnDefs(),t=e.length,i=0;i<t;i++){var n=this._getColumnRenderer(i,"footer"),o=this._getSlotTemplate(e[i][D._FOOTER_TEMPLATE]);if(null!=n)return!1;if(null!=o)return!1}return!this._isDefaultFooterTemplateSlotValid()||null==this._getSlotTemplate("footerTemplate")},D.prototype._isTableHeaderColumnsRendered=function(){return!0===this._renderedTableHeaderColumns},D.prototype._isTableRefreshNeeded=function(e,t,i){var n,o=this.options;return"contextMenu"===e&&t==="#"+this._getTableUID()+"_contextmenu"||"columns"===e&&!this._isColumnMetadataUpdated(t)||"scrollToKey"===e||"addRowDisplay"===e||"scrollPosition"===e||"selection"===e||"selected"===e||"currentRow"===e||"editRow"===e||"scrollPolicyOptions"===e&&this._isStickyLayoutEnabled()&&null!=i&&("scrollerOffsetTop"===i.subkey||"scrollerOffsetBottom"===i.subkey||"scrollerOffsetStart"===i.subkey||"scrollerOffsetEnd"===i.subkey)||d.Object.compareValues(t,o[e])?n=!1:("verticalGridVisible"!==e&&"display"!==e||(this._renderedTableHeaderColumns=!1),n=!0),n},D.prototype._isTableSortable=function(){for(var e=this._getColumnDefs(),t=e.length,i=0;i<t;i++)if(e[i].sortable===D._OPTION_ENABLED)return!0;return!1},D.prototype._isTableColumnsResizable=function(){for(var e=this._getColumnDefs(),t=e.length,i=0;i<t;i++)if(e[i].resizable===D._OPTION_ENABLED)return!0;return!1},D.prototype._isTouchDevice=function(){return null==this._isTouch&&(this._isTouch=T.isMobileTouchDevice()),this._isTouch},D.prototype._processSlottedChildren=function(){var e=this._getTableBottomSlot();null!=e&&c(e).remove();for(var t=A.CustomElementUtils.getSlotMap(this._getRootElement()),i=Object.keys(t),n=0;n<i.length;n++){var o=i[n];if("bottom"===o){var s=t[o];if(null!=s){e=this._createTableBottomSlot();for(var a=0;a<s.length;a++)e.appendChild(s[a])}}}},D.prototype._handleSortTableHeaderColumn=function(e,t,i){this._clearSortedHeaderColumn(e);var n=this._getColumnDefs()[e],o=null==n.sortProperty?n.field:n.sortProperty;this._invokeDataSort(o,t,i),this._sortColumn=n,this._refreshSortTableHeaderColumn(o,t)},D.prototype._processFetchSort=function(e){try{var t=e.fetchParameters[D._CONST_SORTCRITERIA];if(null!=t&&t.length>0){var i=t[0].attribute,n=t[0].direction===D._COLUMN_SORT_ORDER._ASCENDING;this._refreshSortTableHeaderColumn(i,n),this._setCurrentRow(this.options.currentRow)}else this._clearSortedHeaderColumn()}catch(e){S.error(e)}},D.prototype._handleMouseEnterColumnHeader=function(e){if(e){this._isColumnSelectionEnabled()&&e.classList.add(D.MARKER_STYLE_CLASSES._HOVER);var t=this._getElementColumnIdx(e);(e.classList.contains(D.CSS_CLASSES._COLUMN_HEADER_ASC_ICON_CLASS)||e.classList.contains(D.CSS_CLASSES._COLUMN_HEADER_DSC_ICON_CLASS)||e.classList.contains(D.CSS_CLASSES._COLUMN_HEADER_DEFAULT_SORT_ICON_CLASS))&&e.classList.add(D.MARKER_STYLE_CLASSES._HOVER),this._showTableHeaderColumnSortIcon(t)}},D.prototype._handleMouseLeaveColumnHeader=function(e){if(e){e.classList.remove(D.MARKER_STYLE_CLASSES._HOVER);var t=this._getElementColumnIdx(e);this._hideTableHeaderColumnSortIcon(t)}},D.prototype._showTableHeaderColumnSortIcon=function(e){if(this._getColumnDefs()[e].sortable===D._OPTION_ENABLED){var t=this._getTableHeaderColumn(e);if(!t)return;if(null==c(t).data("sorted")){var i=this._getSortIconContainer(t),n=this._getSortIcon(t);null!=i&&null!=n&&(n.classList.remove(D.MARKER_STYLE_CLASSES._DISABLED),n.classList.add(D.MARKER_STYLE_CLASSES._ENABLED),n.classList.add(D.MARKER_STYLE_CLASSES._DEFAULT))}}},D.prototype._hideTableHeaderColumnSortIcon=function(e){if(this._getColumnDefs()[e].sortable===D._OPTION_ENABLED){var t=this._getTableHeaderColumn(e);if(null==c(t).data("sorted")){var i=this._getSortIconContainer(t),n=this._getSortIcon(t);null!=i&&null!=n&&(i.setAttribute(D.DOM_ATTR._TITLE,this.getTranslatedString("labelSortAsc")),n.classList.remove(D.CSS_CLASSES._COLUMN_HEADER_DSC_ICON_CLASS),n.classList.remove(D.CSS_CLASSES._COLUMN_HEADER_ASC_ICON_CLASS),n.classList.add(D.CSS_CLASSES._COLUMN_HEADER_DEFAULT_SORT_ICON_CLASS),n.classList.add(D.MARKER_STYLE_CLASSES._DISABLED),n.classList.remove(D.MARKER_STYLE_CLASSES._ENABLED),n.classList.remove(D.MARKER_STYLE_CLASSES._DEFAULT))}}},D.prototype._refreshSortTableHeaderColumn=function(e,t){for(var i,n=this._getColumnDefs(),o=null,s=n.length,a=0;a<s;a++){var r=n[a];if(e===(null==r.sortProperty?r.field:r.sortProperty)){o=a;break}}if(null!=o){this._clearSortedHeaderColumn(o);var l=this._getTableHeaderColumn(o);if(null!=l){var _=c(l).data("sorted"),u=this._getSortIconContainer(l);null!=(i=this._getSortIcon(l))&&(i.classList.add(D.MARKER_STYLE_CLASSES._DEFAULT),i.classList.remove(D.MARKER_STYLE_CLASSES._DISABLED)),t&&_!==D._COLUMN_SORT_ORDER._ASCENDING?(c(l).data("sorted",D._COLUMN_SORT_ORDER._ASCENDING),null!=i&&(u.setAttribute(D.DOM_ATTR._TITLE,this.getTranslatedString("labelSortDsc")),i.classList.remove(D.CSS_CLASSES._COLUMN_HEADER_DEFAULT_SORT_ICON_CLASS),i.classList.remove(D.CSS_CLASSES._COLUMN_HEADER_DSC_ICON_CLASS),i.classList.add(D.CSS_CLASSES._COLUMN_HEADER_ASC_ICON_CLASS))):t||_===D._COLUMN_SORT_ORDER._DESCENDING||(c(l).data("sorted",D._COLUMN_SORT_ORDER._DESCENDING),null!=i&&(u.setAttribute(D.DOM_ATTR._TITLE,this.getTranslatedString("labelSortAsc")),i.classList.remove(D.CSS_CLASSES._COLUMN_HEADER_DEFAULT_SORT_ICON_CLASS),i.classList.remove(D.CSS_CLASSES._COLUMN_HEADER_ASC_ICON_CLASS),i.classList.add(D.CSS_CLASSES._COLUMN_HEADER_DSC_ICON_CLASS)))}}},D.prototype._getSortedTableHeaderColumnIdx=function(){for(var e=this._getTableHeaderColumns(),t=0;t<e.length;t++)if(null!=c(e[t]).data("sorted"))return t;return null},D.prototype._clearSortedHeaderColumn=function(e){var t=this._getSortedTableHeaderColumnIdx();if(null!=t){var i=this._getTableHeaderColumn(t);if(c(i).data("sorted",null),null==e||t!==e)this._hideTableHeaderColumnSortIcon(t);else{var n=this._getSortIcon(i);null!=n&&n.classList.remove(D.MARKER_STYLE_CLASSES._SELECTED)}}},D.prototype._getColumnDefs=function(){return this._columnDefArray||(this._columnDefArray=this._getColumnMetadata()),this._columnDefArray},D.prototype._getColumnMetadata=function(e){var t,i=null!=e?e:this.options.columns,n=this.options.columnsDefault;if((0===i.length||1===i.length&&null==i[0].id&&null==i[0].headerText&&null==i[0].field)&&null==n.headerText&&null==n.field)return[];var o=[],s=i.length;for(t=0;t<s;t++)o[t]=c.extend({},n,i[t]);var a=[],r=o.length;for(t=0;t<r;t++)a.push(o[t]);var l=this._getData(),_=!1;for(null!=l&&null!=l.getCapability("sort")&&(_=!0),t=0;t<r;t++)null==a[t][D._FIELD_ID]&&(a[t][D._FIELD_ID]=D._COLUMN_HEADER_ID_PREFIX+t),!_||null!=a[t].sortable&&a[t].sortable!==D._OPTION_AUTO||(a[t].sortable=D._OPTION_ENABLED);return a},D.prototype._getColumnRenderer=function(e,t){var i=this._getColumnDefs()[e],n=null;return"cell"===t?n=i.renderer:"footer"===t?n=i.footerRenderer:"header"===t&&(n=i.headerRenderer),this._WrapCustomElementRenderer(n)},D.prototype._getRowRenderer=function(){return this._WrapCustomElementRenderer(this.options.rowRenderer)},D.prototype._isLastRowInViewport=function(){var e=this._getTableBodyRows(),t=e[e.length-1];return this._getLayoutManager().getVerticalOverflowDiff(t).bottom-t.offsetHeight<=0},D.prototype._registerDomScroller=function(){this._unregisterDomScroller();var e=this._controller,t=this._getLayoutManager();this._domScrollerSuccessFunc=function(e){if(this._clearDataWaitingState(!this._animateOnFetch),null!=e){if(T.isFetchAborted(e))return this._hideStatusMessage(),void this._clearScrollBuffer();this._noMoreData=!1,e.maxCountLimit&&(this._noMoreData=!0,this._handleScrollerMaxRowCount());var i=e[D._CONST_VALUE];if(null!=i){var n=i[D._CONST_DATA],o=i.metadata.map((function(e){return e[D._CONST_KEY]})),s=i[D._CONST_METADATA];if(n.length>0)return null!=this._domScroller&&this._domScroller.pauseScrollTracking(),void this._queueTask(function(){var i;for(i=o.length-1;i>=0;i--)null!==this._getRowIdxForRowKey(o[i])&&(n.splice(i,1),o.splice(i,1),s.splice(i,1));if(n.length>0){t.notifyTableUpdate(D._UPDATE._ROWS_ADDED);var a=this._getTableBodyRows().length,r=[];for(i=0;i<n.length;i++)r[i]=a+i;return this._refreshTableBody({isMouseWheel:e.isMouseWheel,data:n,keys:o,metadata:s,indexes:r},a,!0).then(function(){null!=this._domScroller&&this._domScroller.resumeScrollTracking(),this._hideStatusMessage(),t.clearCachedDimensions(),e.done?(this._noMoreData=!0,this._syncScrollPosition()):this._syncScrollPosition(null,null!=this._scrollPosition)}.bind(this),function(e){this._hideStatusMessage()}.bind(this))}return null!=this._domScroller&&this._domScroller.resumeScrollTracking(),this._hideStatusMessage(),Promise.resolve()}.bind(this))}this._hideStatusMessage(),e.done?(this._noMoreData=!0,this._clearScrollBuffer(),this._syncScrollPosition()):(this._clearScrollBuffer(),this._syncScrollPosition(null,null!=this._scrollPosition))}else this._hideStatusMessage(),this._clearScrollBuffer(),this._syncScrollPosition()}.bind(this),this._domScrollerErrorFunc=function(t){e&&e.signal.aborted&&this._pendingFetchStale&&this._clearDataWaitingState(),this._clearScrollBuffer()}.bind(this);var i=this._getTableBodyRows().length;this._requiresDomScrollerRefresh=!1,this._domScroller=new b(t.getScroller(),this._getData(),{asyncIterator:this._dataProviderAsyncIterator,contentElement:t.getContentElement(),fetchSize:this.options.scrollPolicyOptions.fetchSize,maxCount:this.options.scrollPolicyOptions.maxCount,initialRowCount:i,controller:e,success:this._domScrollerSuccessFunc.bind(this),error:this._domScrollerErrorFunc.bind(this),localKeyValidator:function(e){return null!==this._findRowElementByKey(e)}.bind(this),beforeFetch:function(e){return null==this._idleCallback&&(this._fetchBySyncScroll=Math.abs(this._scrollY-e)<=1,this._setDataWaitingState(!1),this._isSkeletonSupport()?this._showProgressiveLoading():this._showStatusMessage(),!0)}.bind(this),beforeScroll:this._clearScrollPosBusyState.bind(this),fetchTrigger:4})},D.prototype._unregisterDomScroller=function(){null!=this._domScroller&&(this._domScroller.destroy(),this._domScroller=null)},D.prototype._updateHeaderTop=function(e){if(this._isDefaultSelectorEnabled()){var t=this._getTableSelectorColumn();null!=t&&(t.style[D.CSS_PROP._TOP]=e+"px")}for(var i=this._getTableHeaderColumns(),n=0;n<i.length;n++)i[n].style[D.CSS_PROP._TOP]=e+"px"},D.prototype._updateFooterBottom=function(e){if(this._isDefaultSelectorEnabled()){var t=this._getTableFooterSelectorCell();null!=t&&(t.style[D.CSS_PROP._BOTTOM]=e+"px")}for(var i=this._getTableFooterCells(),n=0;n<i.length;n++)i[n].style[D.CSS_PROP._BOTTOM]=e+"px"},D.prototype._handleScrollerMaxRowCount=function(){var e=this.getTranslatedString("msgScrollPolicyMaxCountSummary"),t=this.getTranslatedString("msgScrollPolicyMaxCountDetail");S.info(e+"\n"+t)},D.prototype._clearIdleCallback=function(){null!=this._idleCallback&&(T.isRequestIdleCallbackSupported()?(window.cancelIdleCallback(this._idleCallback),window.cancelAnimationFrame(this._idleCallback)):window.cancelAnimationFrame(this._idleCallback),this._idleCallback=null)},D.prototype._requestIdleCallback=function(e,t){if(T.isRequestIdleCallbackSupported()){var i,n=window.setTimeout((function(){this._idleCallback=window.requestAnimationFrame((function(){t()})),n=null}),250);e&&T.isBlink()&&(i={timeout:100}),this._idleCallback=window.requestIdleCallback((function(e){null!=n&&(window.clearTimeout(n),t(e))}),i)}else this._idleCallback=window.requestAnimationFrame((function(){t()}))},D.prototype._renderRowsWhenIdle=function(e,t,i,n,o,s,a,r){var l=this;if(0===e.length)return this._idleCallback=null,void Promise.all(n).then((function(){var e=l._clearTableBodyRowsFromIndex(o);l._getLayoutManager().handleAfterRowsProcessed(i),l._appendElementToTableBody(i,t),e&&l._getTable().focus(),l._afterRowsRendered(t).then((function(e){s(e)}),(function(e){a(e)}))}),(function(e){a(e)}));var _=0;function u(){window.requestAnimationFrame((function(){l._renderRowsWhenIdle(e,t,i,n,o,s,a,r),r&&T.isFirefox()&&t.scrollTop!==l._scrollTop&&(t.scrollTop=l._scrollTop)}))}try{this._requestIdleCallback(r,(function(s){void 0===s?function(){for(var s=0;s<D._BATCH_PROCESS_SIZE_WHEN_IDLE&&0!==e.length;s++)0!==_||l._getLayoutManager().isTableWidthConstrained()||(t.style[D.CSS_PROP._OVERFLOW_X]="hidden"),n.push(l._renderRow(e.shift(),i,o)),_+=1;u()}():function(s){for(var a=s.timeRemaining(),r=0;(a>r||s.didTimeout)&&0!==e.length;)0!==_||l._getLayoutManager().isTableWidthConstrained()||(t.style[D.CSS_PROP._OVERFLOW_X]="hidden"),n.push(l._renderRow(e.shift(),i,o)),_+=1,r=a-s.timeRemaining(),a=s.timeRemaining();u()}(s)}))}catch(e){a(e)}},D.prototype._renderRow=function(e,t,i){var n=e.row,o=e.rowIdx;if(null!=n){var s=this._createTableBodyRow();return this._setTableBodyRowAttributes(n,s),this._styleTableBodyRow(s,!0),this._insertTableBodyRow(o,s,t),this._refreshTableBodyRow(o,n,s,t,i)}return Promise.resolve(null)},D.prototype._afterRowsRendered=function(e){this._clearCachedDomRowData(),this._clearIdleRenderBusyState(),this._hasRowOrCellRendererOrTemplate()&&C.subtreeAttached(e);var t=this._getTableBodyRows();return t.length>0?this._finalizeBodyRowRendering(t):Promise.resolve(!0)},D.prototype._getRowIdxsForElementsWithStyleClass=function(e){var t=this._tableQuerySelectorAll(this._getTable(),e),i=[];if(t&&t.length>0)for(var n=t.length,o=0;o<n;o++){for(var s=this._getElementRowIdx(t[o]),a=!1,r=i.length,l=0;l<r;l++)i[l]===s&&(a=!0);a||i.push(s)}return i},D.prototype._getColumnIdxsForElementsWithStyleClass=function(e){var t=this._tableQuerySelectorAll(this._getTable(),e),i=[];if(t&&t.length>0)for(var n=t.length,o=0;o<n;o++){var s=this._getElementColumnIdx(t[o]),a=!1;null===s&&(t[o].classList.contains(D.CSS_CLASSES._COLUMN_HEADER_SELECTOR_CELL_CLASS)||t[o].classList.contains(D.CSS_CLASSES._TABLE_FOOTER_SELECTOR_CELL_CLASS))&&(s=-1);for(var r=i.length,l=0;l<r;l++)i[l]===s&&(a=!0);a||i.push(s)}return i},D.prototype._syncTableSizing=function(e){var t=this._getLayoutManager();t.isTableLayoutRefreshRequired()&&(e||t.isSizingRefreshRequired())&&t.refreshTableDimensions();var i=this._updateScrollBufferHeight();this._isLoadMoreOnScroll()&&!this._dataFetching&&this._domScroller?(this._setDataWaitingState(!1),this._domScroller.checkViewport(i>0||this._noDataMessageShown).then(this._domScrollerSuccessFunc,this._checkViewportRejected.bind(this))):(this._clearScrollBuffer(),this._syncScrollPosition())},D.prototype._updateScrollBufferHeight=function(){var e=0,t=this._getLayoutManager(),i=this._getTableBodyScrollBuffer();if(null!=i&&(e=i.offsetHeight)>0){var n=t.getVerticalOverflowDiff(i).bottom,o=Math.min(Math.max(0,e-n),e);o!==e&&(e=o,i.style[D.CSS_PROP._HEIGHT]=e+D.CSS_VAL._PX)}return e},D.prototype._clearScrollBuffer=function(){var e=this._getTableBodyScrollBuffer();if(null!=e){var t=e.offsetHeight;if(t>0){var i=this._getLayoutManager(),n=i.getVerticalOverflowDiff(e).bottom,o=Math.max(0,t-n);if(o>0){var s=c(i.getScroller());s.scrollTop(s.scrollTop()-o),this._skipScrollUpdate=!1,i.updateCurrentScrollState()}}this._getTableBody().removeChild(e),this._clearDomCache(D.CSS_CLASSES._TABLE_BUFFER_ROW_CLASS)}},D.prototype._animateVisibleRows=function(e,t,i){if(i=null==this._animationActionOverride?i:this._animationActionOverride,!this._hasAdditionalPendingTasks()){var n;this._animationActionOverride=null;var o=this._getVisibleRowIdxs(),s=[];for(n=e.length-1;n>=0;n--)null==e[n]&&(e.splice(n,1),t.splice(n,1));for(n=0;n<t.length;n++)-1===o.indexOf(t[n])&&s.push(t[n]);for(s.sort((function(e,t){return e-t})),n=s.length-1;n>=0;n--)e.splice(s[n],1);return this._unregisterResizeListener(),this._animateTableBodyRows(e,i).then(function(){this._registerResizeListener()}.bind(this))}return this._animationActionOverride="update",Promise.resolve()},D.prototype._cleanTemplateNodes=function(e){var t=this._getTemplateEngine();null!=t&&t.clean(e,this._getRootElement())},D.prototype._clearCachedMetadata=function(){this._columnDefArray=null,this._setTableActionableMode(!1)},D.prototype._getSlotTemplate=function(e){if(this._IsCustomElement()&&e){var t=A.CustomElementUtils.getSlotMap(this._getRootElement())[e];if(t&&t.length>0&&"template"===t[0].tagName.toLowerCase())return t[0]}return null},D.prototype._isDefaultCellTemplateSlotValid=function(){return this._isDefaultTemplateSlotValid("cellTemplate")},D.prototype._isDefaultRowTemplateSlotValid=function(){return this._isDefaultTemplateSlotValid("rowTemplate")},D.prototype._isDefaultHeaderTemplateSlotValid=function(){return this._isDefaultTemplateSlotValid("headerTemplate")},D.prototype._isDefaultFooterTemplateSlotValid=function(){return this._isDefaultTemplateSlotValid("footerTemplate")},D.prototype._isDefaultAddRowTemplateSlotValid=function(){return this._isDefaultTemplateSlotValid("addRowTemplate")},D.prototype._isDefaultAddRowCellTemplateSlotValid=function(){return this._isDefaultTemplateSlotValid("addRowCellTemplate")},D.prototype._isDefaultTemplateSlotValid=function(e){for(var t=this._getColumnDefs(),i=t.length,n=0;n<i;n++){var o=t[n][D._CELL_TEMPLATE],s=t[n][D._HEADER_TEMPLATE],a=t[n][D._FOOTER_TEMPLATE];if(e===o||e===s||e===a)return!1}return!0},D.prototype._getTemplateEngine=function(){return this._templateEngine},D.prototype._getVisibleRowIdxs=function(){var e,t=[],i=this._getTableBody(),n=this._getTableBodyRows();if(n.length>0&&i.offsetHeight>0){var o=c(window).height(),s=this._getLayoutManager().getScroller().getBoundingClientRect();if(s.top>o)return t;var a,r,l,_=s.left>=0?s.left+1:s.right-1,u=s.top>=0?s.top:0,h=this._filterTableOwnedElements(document.elementsFromPoint(_,u));for(e=0;e<h.length;e++)if(h[e].nodeName===D.DOM_ELEMENT._TD){a=this._getElementRowIdx(h[e]);break}if(null==a&&(a=0),s.bottom>o)r=o-1;else{var d=parseInt(window.getComputedStyle(i).borderBottomWidth,10)||0;r=s.bottom>=0?s.bottom-d-1:0}var p=document.elementsFromPoint(_,r);for(e=0;e<p.length;e++)if(p[e].nodeName===D.DOM_ELEMENT._TD){l=this._getElementRowIdx(p[e]);break}for(null==l&&(l=n.length-1),e=a;e<=l;e++)t.push(e)}return t},D.prototype._hasRowOrCellRendererOrTemplate=function(e){if(null!=this._getRowRenderer())return!0;var t=null,i=null,n=this._getColumnDefs();if(null!=e)t=this._getColumnRenderer(e,"cell"),i=this._getSlotTemplate(n[e][D._CELL_TEMPLATE]);else for(var o=n.length,s=0;s<o&&null==(t=this._getColumnRenderer(s,"cell"))&&null==(i=this._getSlotTemplate(n[s][D._CELL_TEMPLATE]));s++);return null!=t||null!=i||(!(!this._isDefaultRowTemplateSlotValid()||null==this._getSlotTemplate("rowTemplate"))||!(!this._isDefaultCellTemplateSlotValid()||null==this._getSlotTemplate("cellTemplate")))},D.prototype._initFetch=function(e,t){var i=e||{},n=this._getData(),o=this._getLayoutManager();return null==n||!d.DataProviderFeatureChecker.isDataProvider(n)||this._isPagingModelDataProvider()&&!t?null==n?this._queueTask((function(){o.notifyTableUpdate(D._UPDATE._REFRESH);var e=[];return e.push(this._refreshTableHeader()),e.push(this._refreshTableBody()),e.push(this._refreshTableFooter()),Promise.all(e)})):void 0:this._queueTask(function(){return o.notifyTableUpdate(t?D._UPDATE._DATA_SORT:D._UPDATE._REFRESH),this._isExternalScrollEnabled()||(this._scrollTop=0,o.getScroller().scrollTop=0),n instanceof d.TableDataSourceAdapter&&(i.fetchType="init",this._isLoadMoreOnScroll()&&(i[D._CONST_OFFSET]=0)),this._invokeDataFetchRows(i)}.bind(this))},D.prototype._initTemplateEngine=function(){this._queueTask(function(){var e;try{const t={customElement:this._GetCustomElement()};e=m.__getTemplateEngine(t).then(function(e){this._templateEngine=e}.bind(this),(function(e){S.warn(e)}))}catch(t){S.warn(t),e=Promise.resolve(null)}return e}.bind(this))},D.prototype._initializeFetchFirstOptions=function(e){var t=e||{};return this._clientId=this._clientId||Symbol(),this._controller=new AbortController,t[D._CONST_CLIENTID]=this._clientId,t[D._CONST_SIGNAL]=this._controller.signal,!t[D._CONST_PAGESIZE]&&this._isLoadMoreOnScroll()?t[D._CONST_PAGESIZE]=this.options.scrollPolicyOptions.fetchSize:t[D._CONST_PAGESIZE]=-1,t[D._CONST_SILENT]=!0,t},D.prototype._containsKey=function(e,t){for(var i=0;i<t.length;i++)if(d.KeyUtils.equals(t[i].key,e))return!0;return!1},D.prototype._invokeDataFetchRows=function(e){var t=this._initializeFetchFirstOptions(e),i=this._getData();return null!=i?new Promise(function(e){var n=this._controller;this._animateOnFetch=!1,this._noMoreData=!1,this._pendingFetchOptions=t,this._setDataWaitingState(!0),this._hasRefreshInQueue=!1,this._dataProviderAsyncIterator=i.fetchFirst(t)[Symbol.asyncIterator]();var o=function(e,t,n){var s=n;return(null==n||this._containsKey(n,t))&&(s=null),e.done||null==s&&(this._isLoadMoreOnScroll()||"function"==typeof i.getPageCount)?e:this._dataProviderAsyncIterator.next().then((function(t){return T.isFetchAborted(t)?Promise.reject(!0):(e.done=t.done,e.value.data=e.value.data.concat(t.value.data),e.value.metadata=e.value.metadata.concat(t.value.metadata),o(e,t.value.metadata,s))}),(function(e){return Promise.reject(e)}))}.bind(this),s=[];s.push(this._dataProviderAsyncIterator.next()),s.push(this._getScrollToKey()),this._isTableHeaderColumnsRendered()||s.push(this._refreshTableHeader()),Promise.all(s).then((function(e){var t=e[0];if(T.isFetchAborted(t))return Promise.reject(!0);var i=e[1];return o(t,t[D._CONST_VALUE].metadata,i)}),(function(e){return Promise.reject(e)})).then(function(t){var n=t[D._CONST_VALUE],o=n[D._CONST_DATA],s=n.metadata.map((function(e){return e[D._CONST_KEY]})),a=0;i instanceof d.TableDataSourceAdapter&&(a=i[D._CONST_OFFSET]);var r=0;this._isPagingModelDataProvider()&&(r=i.getStartItemIndex());for(var l=[],_=o.length,u=0;u<_;u++)l[u]=a+r+u;var h=n[D._CONST_METADATA];this._unregisterDomScroller(),t.maxCountLimit?(this._noMoreData=!0,this._handleScrollerMaxRowCount()):t.done&&(this._noMoreData=!0),this._refreshAll({data:o,metadata:h,keys:s,indexes:l},a).then(function(){this._clearDataWaitingState(),this._processFetchSort(n),this._isLoadMoreOnScroll()&&this._registerDomScroller(),e(t)}.bind(this),function(t){this._clearDataWaitingState();var i=this._getTableBody();0===this._getTableBodyRows().length?(this._showNoDataMessage(),this._finalizeNonBodyRowRendering([i]).then((function(){e(null)}))):e(null)}.bind(this))}.bind(this),function(t){if(n&&n.signal.aborted)this._clearDataWaitingState(!0),e(null);else{this._clearDataWaitingState();var i=this._getTableBody();0===this._getTableBodyRows().length?(this._showNoDataMessage(),this._finalizeNonBodyRowRendering([i]).then((function(){e(null)}))):e(null)}}.bind(this))}.bind(this)):Promise.resolve(null)},D.prototype._invokeDataSort=function(e,t,i){if(this._resetAriaLabel=!0,this._getData()){this._dataFetching&&this._controller&&this._controller.abort();var n=[],o={};o[D._CONST_ATTRIBUTE]=e,o.direction=t?D._COLUMN_SORT_ORDER._ASCENDING:D._COLUMN_SORT_ORDER._DESCENDING,n.push(o),this._trigger("sort",i,{header:n[0][D._CONST_ATTRIBUTE],direction:n[0].direction}),this._beforeDataRefresh(!0),this._showStatusMessage(),this._initFetch({sortCriteria:n},!0)}},D.prototype._isColumnMetadataUpdated=function(e){if(null!=this._columnDefArray){var t=this._getColumnMetadata(e);if(this._columnDefArray.length!==t.length)return!0;for(var i=t.length,n=0;n<i;n++)for(var o=Object.keys(t[n]),s=0;s<o.length;s++){var a=o[s];if(t[n][a]!==this._columnDefArray[n][a]&&("id"!==a||null==t[n][a]||0!==t[n][a].indexOf(D._COLUMN_HEADER_ID_PREFIX)||null==this._columnDefArray[n][a]||0!==this._columnDefArray[n][a].indexOf(D._COLUMN_HEADER_ID_PREFIX)))return!0}return!1}return!0},D.prototype._getColumnKeys=function(){for(var e=[],t=this._getColumnDefs(),i=0;i<t.length;i++)e.push(t[i][D._FIELD_ID]);return e},D.prototype._getLocalRowKeys=function(){for(var e=[],t=this._getTableBodyRows(),i=0;i<t.length;i++)e.push(t[i][D._ROW_ITEM_EXPANDO].key);return e},D.prototype._hasMoreToFetch=function(){return!!this._isLoadMoreOnScroll()&&!this._noMoreData},D.prototype._clearCachedDataMetadata=function(){null!=this._data&&this._unregisterDataSourceEventListeners(),this._data=null},D.prototype._getColumnIdxForColumnKey=function(e){for(var t=this._getColumnDefs(),i=t.length,n=0;n<i;n++){var o=t[n];if(d.KeyUtils.equals(o.id,e))return n}return null},D.prototype._getColumnKeyForColumnIdx=function(e){var t=this._getColumnDefs();return e<t.length?t[e][D._FIELD_ID]:null},D.prototype._getRowIdxRowArray=function(e,t){var i=[];if(null!=e)for(var n=e[D._CONST_INDEXES].length,o=0;o<n;o++)i.push({row:{data:e[D._CONST_DATA][o],metadata:e[D._CONST_METADATA]?e[D._CONST_METADATA][o]:null,key:e[D._CONST_KEYS][o],index:e[D._CONST_INDEXES][o]},rowIdx:t+o});return i},D.prototype._getRowIdxForRowKey=function(e){var t=this._getTableBodyRows();if(t.length>0)for(var i=t.length,n=0;n<i;n++)if(d.KeyUtils.equals(t[n][D._ROW_ITEM_EXPANDO].key,e))return n;return null},D.prototype._getDataSourceRowIndexForRowKey=function(e){var t=this._getTableBodyRows();if(t.length>0)for(var i=t.length,n=0;n<i;n++)if(d.KeyUtils.equals(t[n][D._ROW_ITEM_EXPANDO].key,e)){var o=this._getData(),s=0;return this._isPagingModelDataProvider()&&(s=o.getStartItemIndex()),n+s}return null},D.prototype._getRowKeyForDataSourceRowIndex=function(e){var t=this._getTableBodyRows();if(t.length>0){var i=this._getData(),n=0;this._isPagingModelDataProvider()&&(n=i.getStartItemIndex());for(var o=t.length,s=0;s<o;s++)if(n+s===e)return t[s][D._ROW_ITEM_EXPANDO].key}return null},D.prototype._getRowKeyForRowIdx=function(e){var t=this._getTableBodyRow(e);return null!=t?t[D._ROW_ITEM_EXPANDO].key:null},D.prototype._getRowKey=function(e,t){return null==e&&(e=this._getTableBodyRow(t)),null!=e?e[D._ROW_ITEM_EXPANDO].key:null},D.prototype._isPagingModelDataProvider=function(){var e=this._getData();return null!=e.getStartItemIndex&&null!==e.getStartItemIndex()&&e.getStartItemIndex()>=0},D.prototype._animateTableBodyRow=function(e,t){return this._isAnimationDisabled(t)?Promise.resolve(!1):new Promise(function(i){this._startAnimation(e,t).then((function(){i(!0)}))}.bind(this))},D.prototype._animateTableBodyRows=function(e,t){if(this._isAnimationDisabled(t))return Promise.resolve(!1);for(var i=[],n=0;n<e.length;n++){var o=e[n];i.push(function(e){return this._animateTableBodyRow(e,t)}.bind(this)(o))}return i.length>0?Promise.all(i):Promise.resolve(!1)},D.prototype._getAnimationEffect=function(e){return null==this.defaultAnimations&&(this.defaultAnimations={}),null==this.defaultAnimations[e]&&(this.defaultAnimations[e]=JSON.parse(this._getDefaultOptions()[`${e}Animation`])),this.defaultAnimations[e]},D.prototype._isAnimationDisabled=function(e){var t=this._getAnimationEffect(e);return null==t||0===t.length},D.prototype._startAnimation=function(e,t,i){return null==i&&(i=this._getAnimationEffect(t)),y.startAnimation(e,t,i,this)},D.prototype._isAddNewRowEnabled=function(){return this._isStickyLayoutEnabled()&&"top"===this.options.addRowDisplay&&(null!=this._getSlotTemplate("addRowTemplate")&&this._isDefaultAddRowTemplateSlotValid()||null!=this._getSlotTemplate("addRowCellTemplate")&&this._isDefaultAddRowCellTemplateSlotValid())},D.prototype._refreshAddRowDisplay=function(){return this._isAddRowRendered=!1,this._refreshAddNewRowPlaceholder().then(function(e){this._getLayoutManager().notifyTableUpdate(D._UPDATE._ADD_ROW_DISPLAY),e&&(this._setActiveAddRow(),this._setTableActionableMode(!0))}.bind(this))};const w=function(e){this.component=e,this.Init()};d._registerLegacyNamespaceProp("TableDndContext",w),d.Object.createSubclass(w,d.Object,"oj.TableDndContext"),w._CSS_CLASSES={_DRAG_SOURCE:"oj-table-drag-source",_DRAG_SOURCE_OPAQUE:"oj-table-drag-source-opaque",_DROP_TARGET_EMPTY:"oj-table-drop-target-empty"},w.prototype.Init=function(){w.superclass.Init.call(this)},w.prototype._addDragMarkerClass=function(e){this.component._getTableHeaderColumn(e).classList.add(w._CSS_CLASSES._DRAG_SOURCE_OPAQUE),this.component._setTableColumnCellsClass(e,!0,w._CSS_CLASSES._DRAG_SOURCE_OPAQUE)},w.prototype._removeDragMarkerClass=function(){var e=this.component._getTableElementsByClassName(this.component._getTableHeader(),w._CSS_CLASSES._DRAG_SOURCE_OPAQUE);if(null!=e&&e.length>0)for(var t=e.length,i=0;i<t;i++)e[i].classList.remove(w._CSS_CLASSES._DRAG_SOURCE_OPAQUE);this.component._setTableColumnCellsClass(null,!1,w._CSS_CLASSES._DRAG_SOURCE_OPAQUE)},w.prototype._cloneTableContainer=function(e){var t=this.component._getTableElementsByTagName(e,D.DOM_ELEMENT._TBODY)[0],i=c(t).scrollLeft(),n=e.cloneNode(),o=this.component._getTableElementsByTagName(e,D.DOM_ELEMENT._TABLE)[0].cloneNode(),s=t.cloneNode(),a=this.component._rowsDragged[0].offsetTop;return this.component._rowsDragged.forEach(function(e){var t=e.querySelectorAll("td"),i=e.cloneNode(!0);if(this.component._isDefaultSelectorEnabled()){var n=this.component._getTableElementsByClassName(i,D.CSS_CLASSES._TABLE_DATA_ROW_SELECTOR_CLASS)[0];n.selectedKeys=this.component.options.selected.row,n.rowKey=this.component._getRowKey(e)}var o=i.querySelectorAll("td");i.style.position=D.CSS_VAL._ABSOLUTE,i.style.top=e.offsetTop-a+D.CSS_VAL._PX,i.style.width=e.offsetWidth+D.CSS_VAL._PX,i.classList.add("oj-table-body-row-drag-image"),i.classList.remove(D.MARKER_STYLE_CLASSES._SELECTED),i.classList.remove(D.MARKER_STYLE_CLASSES._FOCUS),i.classList.remove(D.MARKER_STYLE_CLASSES._FOCUS_HIGHLIGHT),o.forEach((function(e,i){e.style.width=t[i].offsetWidth+D.CSS_VAL._PX,e.classList.remove(D.MARKER_STYLE_CLASSES._SELECTED),e.classList.remove(D.MARKER_STYLE_CLASSES._HOVER)})),s.appendChild(i)}.bind(this)),o.appendChild(s),n.appendChild(o),n.classList.add("oj-table-container-drag-image"),n.style[D.CSS_PROP._HEIGHT]=window.innerHeight+D.CSS_VAL._PX,n.style[D.CSS_PROP._OVERFLOW]=D.CSS_VAL._HIDDEN,n.style[D.CSS_PROP._OVERFLOW_X]=D.CSS_VAL._HIDDEN,n.style[D.CSS_PROP._OVERFLOW_Y]=D.CSS_VAL._HIDDEN,s.style[D.CSS_PROP._OVERFLOW]=D.CSS_VAL._HIDDEN,s.style[D.CSS_PROP._OVERFLOW_X]=D.CSS_VAL._HIDDEN,s.style[D.CSS_PROP._OVERFLOW_Y]=D.CSS_VAL._HIDDEN,s.style[D.CSS_PROP._BACKGROUND_COLOR]=D.CSS_VAL._TRANSPARENT,s.style[D.CSS_PROP._BORDER_COLOR]=D.CSS_VAL._TRANSPARENT,s.style[D.CSS_PROP._WIDTH]=c(t).width()+D.CSS_VAL._PX,s.style[D.CSS_PROP._HEIGHT]=t.scrollHeight+D.CSS_VAL._PX,o.style[D.CSS_PROP._WIDTH]=c(t).width()+D.CSS_VAL._PX,document.body.appendChild(n),c(s).scrollLeft(1*i),n},w.prototype._destroyDragImage=function(){this._dragImage&&(c(this._dragImage).remove(),this._dragImage=null)},w.prototype._getEventColumnIndex=function(e){return this.component._getElementColumnIdx(e.currentTarget)},w.prototype._getOverRowIndex=function(e){var t,i=this.component._getFirstAncestor(e.target,D.DOM_ELEMENT._TR,!0),n=this.component._getFirstAncestor(e.target,"."+D.CSS_CLASSES._TABLE_DATA_CELL_CLASS+", ."+D.CSS_CLASSES._TABLE_SELECTOR_CELL_CLASS,!0);if(null!=n){var o=this.component._getFirstAncestor(n,"."+D.CSS_CLASSES._TABLE_DATA_ROW_CLASS,!0);if(null!=o){t=this.component._getTableBodyRows().indexOf(o);var s=e.target.getBoundingClientRect();e.offsetY>s.height/2&&(t+=1)}}else c(i).hasClass(D.CSS_CLASSES._TABLE_DATA_ROW_DRAG_INDICATOR_CLASS)?t=this._dropRowIndex:0===(t=this.component._getTableBodyRows().length)&&this.component._getTableBody().classList.add(w._CSS_CLASSES._DROP_TARGET_EMPTY);return t},w.prototype.handleColumnDragStart=function(e){if(this._isColumnReorderEnabled())return this._dragStartColumnIdxs=this.component._getSelectedHeaderColumnIdxs(),this._setReorderColumnsDataTransfer(e,this._dragStartColumnIdxs),setTimeout((function(){window.getSelection().removeAllRanges()}),0),this._dragStartColumnIdxs.forEach(function(e){this._addDragMarkerClass(e)}.bind(this)),!0},w.prototype.handleColumnDragEnd=function(e){this._isColumnReorderEnabled()&&(this._dragStartColumnIdxs=null,this.component._removeDragOverIndicatorColumn(),this._destroyDragImage(),this._removeDragMarkerClass())},w.prototype.handleColumnDragEnter=function(e){if(!this._isColumnReordering()){var t=this._getEventColumnIndex(e);return this._invokeDropCallback("columns","dragEnter",e,{columnIndex:t})}},w.prototype.handleColumnReorderDragOver=function(e){var t=this._getDragOverColumnIndex(e);null!=t&&null!=this._dragStartColumnIdxs&&this._dragStartColumnIdxs.length>0&&-1===this._dragStartColumnIdxs.indexOf(t)&&(this._currentDropColumnBefore=this._isDragOverBeforeColumn(e,t),this._currentDropColumnBefore&&this._dragStartColumnIdxs.indexOf(t-1)>-1||!this._currentDropColumnBefore&&this._dragStartColumnIdxs.indexOf(t+1)>-1||this.component._displayDragOverIndicatorColumn(t,this._currentDropColumnBefore),e.preventDefault())},w.prototype._getDragOverColumnIndex=function(e){let t=this.component._getTableHeaderColumns();if(e.originalEvent.clientX<t[0].getBoundingClientRect().left)return 0;for(let i=0;i<t.length;i++){let n=t[i].getBoundingClientRect();if(e.originalEvent.clientX>n.left&&e.originalEvent.clientX<=n.right)return i}return null},w.prototype.handleColumnDragOver=function(e){if(!this._isColumnReordering()){var t=this._getEventColumnIndex(e);this._currentDropColumnBefore=this._isDragOverBeforeColumn(e,t);var i=this._invokeDropCallback("columns","dragOver",e,{columnIndex:t});return(!1===i||e.isDefaultPrevented())&&this.component._displayDragOverIndicatorColumn(t,this._isDragOverBeforeColumn(e,t)),i}},w.prototype.handleColumnDragLeave=function(e){if(!this._isColumnReordering()){this.component._removeDragOverIndicatorColumn();var t=this._getEventColumnIndex(e);return this._invokeDndCallback("drop","columns","dragLeave",e,{columnIndex:t})}},w.prototype.handleColumnReorderDrop=function(e){this.component._removeDragOverIndicatorColumn();var t=this._getDragOverColumnIndex(e);null!=t&&(this._currentDropColumnBefore||(t+=1),-1===this._dragStartColumnIdxs.indexOf(t)&&this.component._moveTableHeaderColumn(this._dragStartColumnIdxs,t,e)),e.preventDefault()},w.prototype.handleColumnDrop=function(e){if(!this._isColumnReordering()){this.component._removeDragOverIndicatorColumn();var t=this._getEventColumnIndex(e);return this._currentDropColumnBefore||(t+=1),this._invokeDropCallback("columns","drop",e,{columnIndex:t})}},w.prototype.handleRowDragStart=function(e){var t=this.component.options.dnd.drag;if(t&&t.rows){var i=this._setDragRowsDataTransfer(e,t.rows.dataTypes,this.component._getSelectedRowIdxs());return!!i&&this._invokeDndCallback("drag","rows","dragStart",e,i)}},w.prototype.handleRowDrag=function(e){return this._invokeDndCallback("drag","rows","drag",e)},w.prototype.handleRowDragEnd=function(e){return this._destroyDragImage(),this.component._rowsDragged&&this.component._rowsDragged.length>0&&this.component._rowsDragged.forEach(function(e){e.classList.remove(w._CSS_CLASSES._DRAG_SOURCE_OPAQUE),e.classList.remove("oj-table-row-drag-source-hide"),e.classList.add(D.MARKER_STYLE_CLASSES._SELECTED),this.component._updateRowStateCellsClass(null,e,{selected:!0})}.bind(this)),this.component._removeDragOverIndicatorRow(),this._invokeDndCallback("drag","rows","dragEnd",e)},w.prototype.handleRowDragEnter=function(e){var t=this._getOverRowIndex(e);return this._invokeDropCallback("rows","dragEnter",e,{rowIndex:t})},w.prototype.handleRowDragOver=function(e){var t=this._getOverRowIndex(e),i=this._invokeDropCallback("rows","dragOver",e,{rowIndex:t});return!1===i||e.isDefaultPrevented()?this._updateDragRowsState(e,t):e.currentTarget.classList.contains(w._CSS_CLASSES._DRAG_SOURCE)&&this.component._rowsDragged.forEach((function(e){e.classList.add(w._CSS_CLASSES._DRAG_SOURCE_OPAQUE)})),i},w.prototype.handleRowDragLeave=function(e){var t=this._invokeDndCallback("drop","rows","dragLeave",e,{rowIndex:this._dropRowIndex});return this._isDndEventInElement(e,e.currentTarget)||(this.component._getTableBody().classList.remove(w._CSS_CLASSES._DROP_TARGET_EMPTY),this.component._removeDragOverIndicatorRow(),this._dropRowIndex=null),t},w.prototype.handleRowDrop=function(e){var t=this._dropRowIndex;return this._destroyDragImage(),this.component._getTableBody().classList.remove(w._CSS_CLASSES._DROP_TARGET_EMPTY),this.component._removeDragOverIndicatorRow(),this._dropRowIndex=null,this._invokeDropCallback("rows","drop",e,{rowIndex:t})},w.prototype._invokeDndCallback=function(e,t,i,n,o){var s,a=this.component.options.dnd[e];if(a&&a[t]){var r=a[t][i];if(r&&"function"==typeof r)try{this.component._IsCustomElement()?(r(n.originalEvent,o),n.originalEvent.defaultPrevented&&n.preventDefault()):(n.dataTransfer=n.originalEvent.dataTransfer,s=r(n,o))}catch(e){S.error("Error: "+e)}}return s},w.prototype._invokeDropCallback=function(e,t,i,n){var o=this._invokeDndCallback("drop",e,t,i,n);return void 0===o&&this._matchDragDataType(i,e)&&i.preventDefault(),o},w.prototype._isColumnReorderEnabled=function(){var e=this.component.options.dnd;return e&&e.reorder&&e.reorder.columns===D._OPTION_ENABLED},w.prototype._isColumnReordering=function(){return null!=this._dragStartColumnIdxs},w.prototype._isDndEventInElement=function(e,t){var i=t.getBoundingClientRect(),n=e.originalEvent;return n.clientX>=Math.ceil(i.left)&&n.clientX<Math.floor(i.right)&&n.clientY>=Math.ceil(i.top)&&n.clientY<Math.floor(i.bottom)},w.prototype._isDragOverBeforeColumn=function(e,t){var i=this.component._getTableHeaderColumn(t).getBoundingClientRect();if(null!=e.originalEvent.clientX){var n=i.right-e.originalEvent.clientX<(i.right-i.left)/2;return"rtl"===p.getReadingDirection()?n:!n}return!1},w.prototype._matchDragDataType=function(e,t){var i=e.originalEvent.dataTransfer.types,n=this.component.options.dnd.drop;if(n&&n[t]&&n[t].dataTypes)for(var o=n[t].dataTypes,s="string"==typeof o?[o]:o,a=0;a<i.length;a++)if(s.indexOf(i[a])>=0)return!0;return!1},w.prototype.setElementDraggable=function(e,t){t?(e.setAttribute(D.DOM_ATTR._DRAGGABLE,!0),e.classList.add(D.MARKER_STYLE_CLASSES._DRAGGABLE)):(e.removeAttribute(D.DOM_ATTR._DRAGGABLE),e.classList.remove(D.MARKER_STYLE_CLASSES._DRAGGABLE))},w.prototype._setDragRowsData=function(e,t,i){if(t){var n=e.dataTransfer,o=JSON.stringify(i);if("string"==typeof t)n.setData(t,o);else for(var s=0;s<t.length;s++)n.setData(t[s],o)}},w.prototype._setDragRowsDataTransfer=function(e,t,i){var n=[];this.component._rowsDragged=[];for(var o=0;o<i.length;o++){var s=this.component.getDataForVisibleRow(i[o]);let e=this.component._getTableBodyRow(i[o]);s&&e&&(n.push(s),this.component._rowsDragged.push(e))}return n.length?(this._setDragRowsData(e.originalEvent,t,n),this._destroyDragImage(),this._dragImage=this._setDragRowsImage(e.originalEvent,this.component._getTableContainer()),{rows:n}):null},w.prototype._setDragRowsImage=function(e,t){var i=this._cloneTableContainer(t),n=this.component._getTableElementsByTagName(t,D.DOM_ELEMENT._TBODY)[0],o=Math.max(0,e.offsetX),s=Math.max(0,e.offsetY);return n.classList.add(w._CSS_CLASSES._DRAG_SOURCE),e.dataTransfer.setDragImage(i,o,s),i},w.prototype._setReorderColumnsDataTransfer=function(e,t){var i=e.originalEvent.dataTransfer,n=this.component._hashCode(this.component._getTableUID());i.setData("Text",D._DND_REORDER_TABLE_ID_DATA_KEY+":"+n+":"+t.join("-")),this._dragImage=this.component._createTableHeaderColumnDragImage(t);try{i.setDragImage(this._dragImage,0,0)}catch(e){}},w.prototype._updateDragRowsState=function(e,t){if(this._dropRowIndex!==t){var i=this.component._getFirstAncestor(e.target,D.DOM_ELEMENT._TR,!0);this._dropRowIndex=t;let n=e.currentTarget.classList.contains(w._CSS_CLASSES._DRAG_SOURCE)||e.currentTarget.classList.contains(w._CSS_CLASSES._DROP_TARGET_EMPTY)?"space":"line";this.component._displayDragOverIndicatorRow(this._dropRowIndex,i,n,e.currentTarget.classList.contains(w._CSS_CLASSES._DRAG_SOURCE))}};const N=function(e){this._table=e,this._tableUpdates=new Set};d.Object.createSubclass(N,d.Object,"TableLayoutManager"),N.prototype.getScroller=function(){},N.prototype.getContentElement=function(){},N.prototype.unregisterListeners=function(){this.unregisterScrollListeners()},N.prototype._getSizingState=function(){return null==this._sizingState&&(this._sizingState={outerWidth:null,outerHeight:null,hasHorizontalOverflow:!1,hasVerticalOverflow:!1}),this._sizingState},N.prototype.notifyTableUpdate=function(e){this._tableUpdates.add(e)},N.prototype._getTableUpdates=function(){return this._tableUpdates},N.prototype._clearTableUpdates=function(){this._tableUpdates.clear()},N.prototype.isTableLayoutRefreshRequired=function(){return this._tableUpdates.size>0},N.prototype.isSizingRefreshRequired=function(e,t){if(null!=e&&null!=t){var i=this._getSizingState();return e>0&&t>0&&(e!==i.outerWidth||t!==i.outerHeight)}return this.hasRenderedSize()},N.prototype.hasRenderedSize=function(){var e=this._table._getTableContainer();return e.offsetWidth>0&&e.offsetHeight>0},N.prototype._enableTableVisibility=function(){this._table._clearTableBodyHideTimeout(),this._table._clearTableFooterHideTimeout();var e=this._table._getTableBody();e&&(e.style[D.CSS_PROP._VISIBILITY]="");var t=this._table._getTableFooter();t&&(t.style[D.CSS_PROP._VISIBILITY]="")},N.prototype.refreshTableDimensions=function(){},N.prototype.optimizeInitialColumnWidths=function(){},N.prototype._restoreCachedScrollPos=function(){var e=null!=this._table._scrollTop&&this._table._scrollTop>0?this._table._scrollTop:null,t=null!=this._table._scrollLeft&&this._table._scrollLeft>0?this._table._scrollLeft:null;if(null!=e){var i=this.getScroller().scrollHeight-this.getScroller().clientHeight,n=e>i?i:e;this._table._isLoadMoreOnScroll()&&i===n&&(n-=1),this.getScroller().scrollTop=n}null!=t&&this._restoreScrollLeft(t)},N.prototype._finalizeTableDimensions=function(){this._restoreCachedScrollPos();var e=this._getSizingState(),t=window.getComputedStyle(this._table._getTableContainer());e.outerWidth=this.getExactOffsetWidth(t),e.outerHeight=this.getExactOffsetHeight(t),this._clearTableUpdates(),this._enableTableVisibility(),this.registerScrollListeners()},N.prototype.handleAfterRowsProcessed=function(){},N.prototype._handleScrollerScrollLeft=function(e){this._table._scrollLeft=e},N.prototype._handleScrollerScrollTop=function(e){if(this._table._domScroller||this._table._clearScrollPosBusyState(),this._table._isExternalScrollEnabled()&&!this._table._hasActiveRow()&&null!=this._table._browserAutoScrollInitPos){var t=this._table._browserAutoScrollInitPos;if(this._table._clearBrowserAutoScrollTimeout(),this._table._getCurrentVerticalScrollPosition(e).rowIndex>0&&e>t)return void this._table._scrollRowIntoViewport(0,!0)}e<0&&(e=0),this._table._scrollTop=e,this._table._scrollY=this._table._skipScrollUpdate?e:null,this._table._moveTableBodyRowTouchSelectionAffordanceTop(),this._table._moveTableBodyRowTouchSelectionAffordanceBottom(),this._table._updateScrollBufferHeight()},N.prototype.registerScrollListeners=function(){var e=this.getScroller();null!=e&&(null==this._scrollEventListener&&(this._scrollEventListener=function(e){var t=this._table._getElementScrollLeft(e.target),i=e.target.scrollTop;t===this._table._scrollLeft&&i===this._table._scrollTop||(this._handleScrollerScrollLeft(t),this._handleScrollerScrollTop(i),this._table._isScrollPositionAdjusted()||(this._table._skipScrollUpdate||this._ticking||(window.requestAnimationFrame(function(){this._table._isScrollPositionAdjusted()||this._table._skipScrollUpdate||this._table.option("scrollPosition",this._table._getCurrentScrollPosition(),{_context:{originalEvent:e,internalSet:!0}}),this._ticking=!1}.bind(this)),this._ticking=!0),this._table._skipScrollUpdate=!1))}.bind(this)),e.removeEventListener("scroll",this._scrollEventListener),e.addEventListener("scroll",this._scrollEventListener,!1))},N.prototype.updateCurrentScrollState=function(){var e=this.getScroller(),t=this._table._getElementScrollLeft(e),i=e.scrollTop;t===this._table._scrollLeft&&i===this._table._scrollTop||(this._handleScrollerScrollLeft(t),this._handleScrollerScrollTop(i),this._table.option("scrollPosition",this._table._getCurrentScrollPosition(),{_context:{internalSet:!0}}))},N.prototype.unregisterScrollListeners=function(){var e=this.getScroller();null!=e&&null!=this._scrollEventListener&&e.removeEventListener("scroll",this._scrollEventListener)},N.prototype._restoreScrollLeft=function(e){p.setScrollLeft(this.getScroller(),e)},N.prototype.getColumnWidthProperty=function(e){var t=window.getComputedStyle(e),i=this._getBoxStyle(t);return T.isIE()?parseFloat(t.width)+i.paddingWidth:parseFloat(t.width)+(i.boxSizing===D.CSS_VAL._BORDER_BOX?-i.borderWidth:i.paddingWidth)},N.prototype.getWidthPropertyFromOffsetWidth=function(e,t){var i=window.getComputedStyle(t);return e-this._getBoxStyle(i).borderWidth},N.prototype.isTableWidthConstrained=function(){return this._getSizingState().hasHorizontalOverflow},N.prototype.isTableHeightConstrained=function(){return this._getSizingState().hasVerticalOverflow},N.prototype.getScrollBarHeight=function(){return this.isTableWidthConstrained()?this._getDefaultScrollBarSize():0},N.prototype.getScrollBarWidth=function(){return this.isTableHeightConstrained()&&!this._isVerticalScrollBarHidden()?this._getDefaultScrollBarSize():0},N.prototype._getBoxStyle=function(e,t){return t?{boxSizing:e[D.CSS_PROP._BOX_SIZING],borderWidth:(parseFloat(e[D.CSS_PROP._BORDER_TOP_WIDTH])||0)+(parseFloat(e[D.CSS_PROP._BORDER_BOTTOM_WIDTH])||0),paddingWidth:(parseFloat(e[D.CSS_PROP._PADDING_TOP])||0)+(parseFloat(e[D.CSS_PROP._PADDING_BOTTOM])||0)}:{boxSizing:e[D.CSS_PROP._BOX_SIZING],borderWidth:(parseFloat(e[D.CSS_PROP._BORDER_RIGHT_WIDTH])||0)+(parseFloat(e[D.CSS_PROP._BORDER_LEFT_WIDTH])||0),paddingWidth:(parseFloat(e[D.CSS_PROP._PADDING_RIGHT])||0)+(parseFloat(e[D.CSS_PROP._PADDING_LEFT])||0)}},N.prototype._applyColumnHeaderHeight=function(e,t){var i=this._table._getTableElementsByClassName(e,D.CSS_CLASSES._COLUMN_HEADER_CLASS);i.length>0&&(i[0].style[D.CSS_PROP._MIN_HEIGHT]=t+D.CSS_VAL._PX)},N.prototype._applyForcedColumnWidth=function(e,t){var i=e;""!==t&&(t+=D.CSS_VAL._PX),i.style[D.CSS_PROP._MIN_WIDTH]=t,i.style[D.CSS_PROP._WIDTH]=t,i.style[D.CSS_PROP._MAX_WIDTH]=t},N.prototype._getForcedColumnWidth=function(e,t,i){var n=this._getBoxStyle(t);return null!=i?i+(n.boxSizing===D.CSS_VAL._BORDER_BOX?n.borderWidth:-n.paddingWidth):T.isIE()&&n.boxSizing===D.CSS_VAL._BORDER_BOX?parseFloat(t.width)+n.paddingWidth+n.borderWidth:parseFloat(t.width)},N.prototype.getMinimumForcedOffsetWidth=function(e){var t=0,i=this._table._getTableHeaderColumn(e);if(null!=i){var n=this._getBoxStyle(window.getComputedStyle(i)),o=n.paddingWidth+n.borderWidth;t<o&&(t=o)}var s=this._table._getTableBodyCell(0,e,null);if(null!=s){var a,r=0;if(this._table._hasRowOrCellRendererOrTemplate(e)){for(var l=this._table._getTableBodyRows(),_=0;_<l.length;_++)if(null!=(s=this._table._getTableBodyCell(_,e,null))){var u=(a=this._getBoxStyle(window.getComputedStyle(s))).paddingWidth+a.borderWidth;r<u&&(r=u)}}else r=(a=this._getBoxStyle(window.getComputedStyle(s))).paddingWidth+a.borderWidth;t<r&&(t=r)}var h=this._table._getTableFooterCell(e);if(null!=h){var d=this._getBoxStyle(window.getComputedStyle(h)),c=d.paddingWidth+d.borderWidth;t<c&&(t=c)}return t},N.prototype._isVerticalScrollBarHidden=function(){return!this._table._isTouchDevice()&&this._table._getTableContainer().classList.contains(D.MARKER_STYLE_CLASSES._HIDE_VERTICAL_SCROLLBAR)},N.prototype.initializeDefaultScrollBarSize=function(e){this._table._defaultScrollBarSize=T.getDefaultScrollBarWidth(e)},N.prototype._getDefaultScrollBarSize=function(){return null==this._table._defaultScrollBarSize&&this.initializeDefaultScrollBarSize(this.getScroller()),this._table._defaultScrollBarSize},N.prototype.clearCachedDimensions=function(){this._clientWidth=null,this._clientHeight=null,this._scrollWidth=null,this._scrollHeight=null},N.prototype._clearColumnSizingCache=function(){this._table._columnOffsets=null},N.prototype.getColumnScrollLeft=function(){},N.prototype.getRowScrollTop=function(){},N.prototype.getScrollWidth=function(){return null==this._scrollWidth&&(this._scrollWidth=this.getScroller().scrollWidth),this._scrollWidth},N.prototype.getScrollHeight=function(){return null==this._scrollHeight&&(this._scrollHeight=this.getScroller().scrollHeight),this._scrollHeight},N.prototype.getClientWidth=function(){return null==this._clientWidth&&(this._clientWidth=this.getScroller().clientWidth),this._clientWidth},N.prototype.getClientHeight=function(){return null==this._clientHeight&&(this._clientHeight=this.getScroller().clientHeight),this._clientHeight},N.prototype._removeTableDimensionsStyling=function(){this.unregisterScrollListeners();var e=this._table._getTable(),t=this._table._getTableHeader(),i=this._table._getTableHeaderRow(),n=this._table._getTableHeaderColumns(),o=this._table._getTableFooter(),s=this._table._getTableFooterRow(),a=this._table._getTableBody(),r=this._table._getTableBottomSlot(),l=this._table._getTableContainer();if(l.classList.remove(D.CSS_CLASSES._TABLE_SCROLL_VERTICAL_CLASS),l.classList.remove(D.CSS_CLASSES._TABLE_SCROLL_HORIZONTAL_CLASS),e.removeAttribute(D.DOM_ATTR._STYLE),null!=a&&a.removeAttribute(D.DOM_ATTR._STYLE),null!=t){t.removeAttribute(D.DOM_ATTR._STYLE),i.removeAttribute(D.DOM_ATTR._STYLE);for(var _=this._table._getTableElementsByClassName(i,D.CSS_CLASSES._COLUMN_HEADER_TEXT_CLASS),u=_.length,h=0;h<u;h++)_[h].style[D.CSS_PROP._WIDTH]="";for(let e=0;e<n.length;e++)n[e].classList.remove(D.CSS_CLASSES._TABLE_HEADER_WRAP_TEXT_CLASS)}null!=o&&(o.removeAttribute(D.DOM_ATTR._STYLE),s.removeAttribute(D.DOM_ATTR._STYLE)),null!=r&&r.removeAttribute(D.DOM_ATTR._STYLE),this._removeHeaderColumnAndCellColumnWidths()},N.prototype._getBottomSlotHeight=function(){var e=this._table._getTableBottomSlot();if(null!=e&&e.clientHeight>0&&e.style[D.CSS_PROP._DISPLAY]!==D.CSS_VAL._NONE){var t=window.getComputedStyle(e);return this.getExactOffsetHeight(t)}return 0},N.prototype._getTableContainerScrollableState=function(e){var t=window.getComputedStyle(this._table._getTableContainer()),i=this.getExactClientHeight(t),n=this.getExactClientWidth(t),o=window.getComputedStyle(this._table._getTable()),s=this.getExactOffsetHeight(o),a=this.getExactOffsetWidth(o),r=[];if(i>0){var l=s+e;r[0]=l-i>D.SIZING_ERROR_MARGIN?1:i-l>D.SIZING_ERROR_MARGIN?-1:0}else r[0]=0;return r[1]=n>0?a-n>D.SIZING_ERROR_MARGIN?1:n-a>D.SIZING_ERROR_MARGIN?-1:0:0,r},N.prototype._setForcedColumnWidths=function(){var e,t,i,n=this._table._getColumnDefs(),o=n.length,s=this._table._getTableBodyRows();this._forcedWidthColumns=[];for(var a=0;a<o;a++){var r=this._getPixelStyleEquivalent(n[a].width);if(null!=r){var l=null,_=null;if(null!=(e=this._table._getTableHeaderColumn(a))){var u=this._getForcedColumnWidth(e,window.getComputedStyle(e),r);this._applyForcedColumnWidth(e,u),this._forcedWidthColumns[a]=u}else this._forcedWidthColumns[a]=!0;var h=this._table._getTableBodyLegacyWidthBuffer();if(null!=h){var d=h.childNodes[a],c=this._getForcedColumnWidth(d,window.getComputedStyle(d),r);this._applyForcedColumnWidth(d,c)}var p=this._table._getPlaceHolderRow();if(null!=p){var S=this._table._getColspanLogicalElements(this._table._getPlaceHolderRowCells(p))[a];if(null!=S){var g=this._getForcedColumnWidth(S,window.getComputedStyle(S),r);this._applyForcedColumnWidth(S,g)}}this._table._hasRowOrCellRendererOrTemplate(a)||null!=(t=this._table._getTableBodyCell(0,a))&&(l=window.getComputedStyle(t),_=this._getForcedColumnWidth(t,l,r));for(var m=0;m<s.length;m++)if(null!=(t=this._table._getTableBodyLogicalCells(m)[a]))if(null==l){var f=window.getComputedStyle(t),E=this._getForcedColumnWidth(t,f,r);this._applyForcedColumnWidth(t,E)}else this._applyForcedColumnWidth(t,_);null!=(i=this._table._getTableFooterCell(a))&&this._applyForcedColumnWidth(i,this._getForcedColumnWidth(i,window.getComputedStyle(i),r))}else this._forcedWidthColumns[a]=!1}},N.prototype._verifyMinAndMaxWidths=function(){for(var e=this._table._getColumnDefs(),t=e.length,i=this._table._getTableBodyRows().length,n=!0;n;){n=!1;for(var o=0;o<t;o++)if(!1===this._forcedWidthColumns[o]){if(this._applyColMinMax(e,o,i,!0)){n=!0;break}if(this._applyColMinMax(e,o,i,!1)){n=!0;break}}}},N.prototype._applyColMinMax=function(e,t,i,n){var o,s,a,r=0,l=!1,_=null,u=null,h=n?this._getPixelStyleEquivalent(e[t].minWidth):this._getPixelStyleEquivalent(e[t].maxWidth);if(null!=h&&(o=this._table._getTableHeaderColumn(t),s=this._table._getTableBodyLogicalCells(0)[t],a=this._table._getTableFooterCell(t),null!=o?r=o.offsetWidth:null!=s?r=s.offsetWidth:null!=a&&(r=a.offsetWidth),r>0&&(n?r<h:r>h))){if(l=!0,this._forcedWidthColumns[t]=h,null!=o){var d=this._getForcedColumnWidth(o,window.getComputedStyle(o),h);this._applyForcedColumnWidth(o,d)}var c=this._table._getTableBodyLegacyWidthBuffer();if(null!=c){var p=c.childNodes[t],S=this._getForcedColumnWidth(p,window.getComputedStyle(p),h);this._applyForcedColumnWidth(p,S)}var g=this._table._getPlaceHolderRow();if(null!=g){var m=this._table._getColspanLogicalElements(this._table._getPlaceHolderRowCells(g))[t];if(null!=m){var f=this._getForcedColumnWidth(m,window.getComputedStyle(m),h);this._applyForcedColumnWidth(m,f)}}this._table._hasRowOrCellRendererOrTemplate(t)||null==s||(_=window.getComputedStyle(s),u=this._getForcedColumnWidth(s,_,h));for(var E=0;E<i;E++)if(null!=(s=this._table._getTableBodyLogicalCells(E)[t]))if(null==_){var C=window.getComputedStyle(s),T=this._getForcedColumnWidth(s,C,h);this._applyForcedColumnWidth(s,T)}else this._applyForcedColumnWidth(s,u);null!=a&&this._applyForcedColumnWidth(a,this._getForcedColumnWidth(a,window.getComputedStyle(a),h))}return l},N.prototype._getPixelStyleEquivalent=function(e){return"string"==typeof e?""===e?null:"auto"===e?this._getMinWidthAutoEquivalent():null!=e.match(/\D/g)&&-1===e.indexOf("px")?(this._table._tableWidthContainer.style.width=e,this._table._tableWidthContainer.offsetWidth):parseFloat(e):e},N.prototype._getMinWidthAutoEquivalent=function(){return null},N.prototype.handleMouseEnterHeaderCell=function(e){},N.prototype.handleMouseDownHeaderCell=function(e){var t=this._table._getElementColumnIdx(this._table._getEventTargetElement(e)),i=!1;1===e.which?(this._handleHeaderColumnResizeStart(e,!0)||e[D._KEYBOARD_CODES._MODIFIER_SHIFT]||(i=!0),T.isFirefox()&&p.isMetaKeyPressed(e)&&e.preventDefault()):i=!0,i&&(this._table._setActiveHeader(t,e,!0),c(e.target).data(D._FOCUS_CALLED,!0))},N.prototype.handleMouseMoveHeader=function(e){},N.prototype.handleMouseMoveHeaderCell=function(e){},N.prototype.handleMouseUp=function(e){},N.prototype.handleMouseLeaveTable=function(){},N.prototype.handleTouchStartHeaderCell=function(e){1===e.originalEvent.touches.length&&this._table._isTableColumnsResizable()&&this._handleHeaderColumnResizeStart(e)&&e.preventDefault()},N.prototype.handleTouchMoveHeader=function(e){},N.prototype.handleTouchEnd=function(e){},N.prototype.handleTouchCancel=function(){},N.prototype.handleKeyDownEsc=function(){},N.prototype.handleFocusout=function(){},N.prototype.handleRowRefresh=function(e,t,i){this._table._hasEditableRow()&&this._table._getEditableRowIdx()===e?t.classList.add(D.CSS_CLASSES._TABLE_DATA_ROW_EDIT_CLASS):t.classList.remove(D.CSS_CLASSES._TABLE_DATA_ROW_EDIT_CLASS)},N.prototype._handleHeaderColumnResizeStart=function(e,t){},N.prototype.displayDragOverIndicatorColumn=function(e,t){},N.prototype.removeDragOverIndicatorColumn=function(){},N.prototype._getPageX=function(e){return void 0!==e.pageX?e.pageX:void 0!==e.changedTouches?e.changedTouches[0].pageX:0},N.prototype.getExactClientHeight=function(e){var t=this._getBoxStyle(e,!0),i=parseFloat(e[D.CSS_PROP._HEIGHT])-t.borderWidth-t.paddingWidth;return Math.round(1e3*(i+Number.EPSILON))/1e3},N.prototype.getExactClientWidth=function(e){var t=this._getBoxStyle(e),i=parseFloat(e[D.CSS_PROP._WIDTH])-t.borderWidth-t.paddingWidth;return Math.round(1e3*(i+Number.EPSILON))/1e3},N.prototype.getExactOffsetHeight=function(e){var t=parseFloat(e[D.CSS_PROP._HEIGHT]);return Math.round(1e3*(t+Number.EPSILON))/1e3},N.prototype.getExactOffsetWidth=function(e){var t=parseFloat(e[D.CSS_PROP._WIDTH]);return Math.round(1e3*(t+Number.EPSILON))/1e3};const P=function(e){P.superclass.constructor.call(this,e)};d.Object.createSubclass(P,N,"TableLegacyLayoutManager"),P.prototype.handleAfterRowsProcessed=function(e){this._freezeColumnWidths(e)},P.prototype._handleScrollerScrollLeft=function(e){P.superclass._handleScrollerScrollLeft.call(this,e);var t=this._table._getTableHeaderRow();t&&p.setScrollLeft(t.parentNode,e);var i=this._table._getTableFooterRow();i&&p.setScrollLeft(i.parentNode,e)},P.prototype.registerScrollListeners=function(){P.superclass.registerScrollListeners.call(this);var e=function(e){var t=this._table._getElementScrollLeft(e.target);this._table._scrollLeft!==t&&this._table._setScrollX(t)}.bind(this),t=this._table._getTableHeaderRow();if(null!=t){var i=t.parentNode;null==this._headerScrollEventListener&&(this._headerScrollEventListener=e),i.removeEventListener("scroll",this._headerScrollEventListener),i.addEventListener("scroll",this._headerScrollEventListener,!1)}var n=this._table._getTableFooterRow();if(null!=n){var o=n.parentNode;null==this._footerScrollEventListener&&(this._footerScrollEventListener=e),o.removeEventListener("scroll",this._footerScrollEventListener),o.addEventListener("scroll",this._footerScrollEventListener,!1)}},P.prototype.unregisterScrollListeners=function(){P.superclass.unregisterScrollListeners.call(this);var e=this._table._getTableHeaderRow();null!=e&&null!=this._headerScrollEventListener&&e.parentNode.removeEventListener("scroll",this._headerScrollEventListener);var t=this._table._getTableFooterRow();null!=t&&null!=this._footerScrollEventListener&&t.parentNode.removeEventListener("scroll",this._footerScrollEventListener)},P.prototype._restoreScrollLeft=function(e){p.setScrollLeft(this.getScroller(),e);var t=this._table._getTableHeaderRow();t&&p.setScrollLeft(t.parentNode,e);var i=this._table._getTableFooterRow();i&&p.setScrollLeft(i.parentNode,e)},P.prototype.getScroller=function(){return this._table._getTableBody()},P.prototype.getContentElement=function(){return null},P.prototype.getColumnScrollLeft=function(e){if(0===e)return 0;var t=this.getScroller(),i="rtl"===this._table._GetReadingDirection(),n=this._table._getTableHeaderColumn(e);return null!=n?i?t.clientWidth-n.offsetLeft-n.offsetWidth:n.offsetLeft:void 0},P.prototype.getRowScrollTop=function(e){return e.offsetTop},P.prototype.getVerticalOverflowDiff=function(e){var t=this.getScroller(),i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return{top:n.top-i.top+t.clientTop,bottom:i.bottom-n.bottom+(t.offsetHeight-t.clientHeight-t.clientTop)}},P.prototype.getHorizontalOverflowDiff=function(e){var t="rtl"===this._table._GetReadingDirection(),i=this.getScroller(),n=this.getScrollBarWidth(),o=e.getBoundingClientRect(),s=i.getBoundingClientRect(),a={};return t?(a.left=s.left-o.left+n,a.right=o.right-s.right):(a.left=s.left-o.left,a.right=o.right-s.right+n),a},P.prototype._freezeColumnWidths=function(e){var t=this._table._getColumnDefs().length;this._frozenWidthRows||(this._frozenWidthRows=[]);for(var i=[],n=this._table._getTableBodyLegacyWidthBuffer(),o=0;o<t;o++){var s=n.childNodes[o];if(null!=s){var a=parseFloat(s.style[D.CSS_PROP._MIN_WIDTH]);isNaN(a)?i.push(null):i.push(a)}else i.push(null)}for(var r=e.childNodes,l=0;l<r.length;l++)if("TR"===r[l].nodeName){for(var _=r[l],u=this._table._getTableBodyCells(null,_),h=0;h<u.length;h++){var d=i[h];isNaN(d)||this._applyForcedColumnWidth(u[h],d)}this._frozenWidthRows.push(_)}},P.prototype._unfreezeColumnWidths=function(){if(this._frozenWidthRows)for(var e=0;e<this._frozenWidthRows.length;e++)for(var t=this._table._getTableBodyCells(null,this._frozenWidthRows[e]),i=0;i<t.length;i++){var n=t[i];this._applyForcedColumnWidth(n,""),this._table._styleTableBodyCell(i,n)}this._frozenWidthRows=[]},P.prototype._setColumnWidths=function(e){var t,i,n,o,s=[],a=[],r=[],l=[],_=this._table._getColumnDefs().length,u=this._table._getTableBodyLegacyWidthBuffer();for(t=0;t<_;t++)if(!1!==this._forcedWidthColumns[t])s[t]=null,r[t]=null,l[t]=null;else{if(null!=(i=this._table._getTableHeaderColumn(t))){s[t]=this._getForcedColumnWidth(i,window.getComputedStyle(i));var h=this._table._getTableElementsByClassName(i,D.CSS_CLASSES._COLUMN_HEADER_TEXT_CLASS);h.length>0&&(a[t]=h[0].clientHeight)}null!=(n=u.childNodes[t])&&(r[t]=this._getForcedColumnWidth(n,window.getComputedStyle(n))),null!=(o=this._table._getTableFooterCell(t))&&(l[t]=this._getForcedColumnWidth(o,window.getComputedStyle(o)))}for(t=0;t<_;t++)i=this._table._getTableHeaderColumn(t),o=this._table._getTableFooterCell(t),!1!==this._forcedWidthColumns[t]?t===_-1&&!this.isTableWidthConstrained()&&e>0?(null!=i&&(this._applyForcedColumnWidth(i,this._forcedWidthColumns[t]+e),this._applyColumnHeaderHeight(i,a[t])),null!=o&&this._applyForcedColumnWidth(o,this._forcedWidthColumns[t]+e)):this._applyColumnHeaderHeight(i,a[t]):(t===_-1&&!this.isTableWidthConstrained()&&e>0?(null!=i&&(this._applyForcedColumnWidth(i,s[t]+e),this._applyColumnHeaderHeight(i,a[t])),null!=o&&this._applyForcedColumnWidth(o,l[t]+e)):(null!=i&&(this._applyForcedColumnWidth(i,s[t]),this._applyColumnHeaderHeight(i,a[t])),null!=o&&this._applyForcedColumnWidth(o,l[t])),null!=(n=u.childNodes[t])&&this._applyForcedColumnWidth(n,r[t]))},P.prototype._isTableColumnsWidthSet=function(){for(var e=this._table._getColumnDefs().length,t=0;t<e;t++)if(!1!==this._forcedWidthColumns[t])return!0;return!1},P.prototype._isAllTableColumnsWidthSet=function(){for(var e=this._table._getColumnDefs().length,t=0;t<e;t++)if(!1===this._forcedWidthColumns[t])return!1;return!0},P.prototype.refreshTableDimensions=function(){var e=this._getSizingState(),t=this._getTableUpdates();if(!t.has(D._UPDATE._DATA_REFRESH)&&!t.has(D._UPDATE._DATA_SORT)&&!t.has(D._UPDATE._ATTACHED)&&!t.has(D._UPDATE._SHOWN)&&!t.has(D._UPDATE._RESIZE)&&!t.has(D._UPDATE._REFRESH)&&!t.has(D._UPDATE._COL_RESIZE)&&!t.has(D._UPDATE._COL_REORDER)&&!t.has(D._UPDATE._ROW_REFRESH)&&(!t.has(D._UPDATE._ROWS_ADDED)||e.hasVerticalOverflow)&&(!t.has(D._UPDATE._ROWS_REMOVED)||!e.hasVerticalOverflow))return this._clearTableUpdates(),void this._enableTableVisibility();this._clearColumnSizingCache();var i=this._table._getTable(),n=this._table._getTableContainer(),o=this._table._getTableHeader(),s=this._table._getTableBody(),a=this._table._getTableFooter(),r=this._table._getTableBottomSlot();this.clearCachedDimensions(),this._removeTableDimensionsStyling(),this._table._styleTableContainer(n),this._setForcedColumnWidths(),this._verifyMinAndMaxWidths();var l=this._getBottomSlotHeight(),_=this._getTableContainerScrollableState(l);if(e.hasVerticalOverflow=1===_[0],e.hasHorizontalOverflow=1===_[1],null!=s){var u=s.offsetHeight-s.clientHeight;if(e.hasVerticalOverflow||e.hasHorizontalOverflow){var h=n.clientWidth,d=n.clientHeight,c=this._getDefaultScrollBarSize();if(c>0)if(e.hasHorizontalOverflow||this._isVerticalScrollBarHidden()){if(!e.hasVerticalOverflow){var p=this._table._getTableLegacySizer();p.style[D.CSS_PROP._HEIGHT]=c+D.CSS_VAL._PX,n.clientHeight<d+c?(d=n.clientHeight,i.style[D.CSS_PROP._HEIGHT]=d-c-l+D.CSS_VAL._PX,d-c<i.clientHeight+l&&(e.hasVerticalOverflow=!0)):d=n.clientHeight,p.style[D.CSS_PROP._HEIGHT]=""}}else i.style[D.CSS_PROP._WIDTH]=h+c+D.CSS_VAL._PX,n.clientWidth<h+c?(h=n.clientWidth,i.style[D.CSS_PROP._WIDTH]=h-c+D.CSS_VAL._PX,h-c<i.clientWidth&&(e.hasHorizontalOverflow=!0)):(h=n.clientWidth,i.style[D.CSS_PROP._WIDTH]="");e.hasVerticalOverflow&&this._isVerticalScrollBarHidden()&&(s.style[D.CSS_PROP._OVERFLOW_Y]="hidden");var S=this.getScrollBarWidth();this._setColumnWidths(S),e.hasVerticalOverflow&&n.classList.add(D.CSS_CLASSES._TABLE_SCROLL_VERTICAL_CLASS),e.hasHorizontalOverflow&&n.classList.add(D.CSS_CLASSES._TABLE_SCROLL_HORIZONTAL_CLASS),n.classList.add(D.CSS_CLASSES._TABLE_LEGACY_SCROLL_CLASS);var g=0,m=this._table._getTableElementsByTagName(i,"caption");if(m.length>0&&(g=(m=m[0]).offsetHeight,m.style[D.CSS_PROP._DISPLAY]=D.CSS_VAL._INLINE,null!=o)){var f=window.getComputedStyle(n);o.style[D.CSS_PROP._BORDER_TOP]=f[D.CSS_PROP._BORDER_TOP]}s.style[D.CSS_PROP._WIDTH]=h+D.CSS_VAL._PX;var E=0;null!=a&&(E=a.offsetHeight);var C,T=d-(null!=o?o.offsetHeight:0)-E-g-l-u;if(T>0&&(s.style[D.CSS_PROP._HEIGHT]=T+D.CSS_VAL._PX,s.style[D.CSS_PROP._MIN_HEIGHT]=T+D.CSS_VAL._PX),e.hasHorizontalOverflow){if(0===this._table._getTableBodyRows().length){var y=this._table._getTableBodyMessageCell();if(y){var b=y.offsetWidth;null!=o&&(b=Math.max(b,o.offsetWidth)),null!=a&&(b=Math.max(b,a.offsetWidth)),this._applyForcedColumnWidth(y,b)}}C=h-S+D.CSS_VAL._PX}else C=h+D.CSS_VAL._PX;null!=o&&(o.style[D.CSS_PROP._WIDTH]=C),null!=a&&(a.style[D.CSS_PROP._WIDTH]=C)}else this._isTableColumnsWidthSet()&&this._setColumnWidths(0),l>0&&-1===_[0]&&(r.style[D.CSS_PROP._BOTTOM]=0,r.style[D.CSS_PROP._POSITION]=D.CSS_VAL._ABSOLUTE);this._table._isStatusMessageShown()&&this._table._refreshTableStatusPosition(),this._table._refreshTouchAffordanceGlassPanePosition(),this._finalizeTableDimensions()}},P.prototype._removeTableDimensionsStyling=function(){P.superclass._removeTableDimensionsStyling.call(this),this._table._getTableContainer().classList.remove(D.CSS_CLASSES._TABLE_LEGACY_SCROLL_CLASS)},P.prototype._removeHeaderColumnAndCellColumnWidths=function(){var e,t=this._table._getColumnDefs().length;for(e=0;e<t;e++){var i=this._table._getTableHeaderColumn(e);null!=i&&(this._applyForcedColumnWidth(i,""),this._table._styleTableHeaderColumn(e,i))}this._unfreezeColumnWidths();var n=this._table._getTableBodyRows();if(n.length>0)for(e=0;e<t;e++){var o;if(null!=this._forcedWidthColumns&&!1!==this._forcedWidthColumns[e])for(var s=0;s<n.length;s++)null!==(o=this._table._getTableBodyCell(s,e,null))&&(this._applyForcedColumnWidth(o,""),this._table._styleTableBodyCell(e,o));else null!=(o=this._table._getTableBodyLegacyWidthBuffer().childNodes[e])&&this._applyForcedColumnWidth(o,"")}for(e=0;e<t;e++){var a=this._table._getTableFooterCell(e);null!=a&&(this._applyForcedColumnWidth(a,""),this._table._styleTableFooterCell(e,a))}var r=this._table._getTableBodyMessageCell();r&&this._applyForcedColumnWidth(r,"")},P.prototype.handleMouseEnterHeaderCell=function(e){this._setResizeCursor(e)},P.prototype.handleMouseMoveHeader=function(e){this._setResizeCursor(e)},P.prototype.handleMouseMoveHeaderCell=function(e){this._setResizeCursor(e)&&this._table._handleMouseLeaveColumnHeader(this._table._getEventTargetElement(e))},P.prototype.handleMouseUp=function(e){this._handleHeaderColumnResizeEnd(e)},P.prototype.handleMouseLeaveTable=function(){this._clearTableHeaderColumnsResize()},P.prototype.handleTouchMoveHeader=function(e){this._table._isTableColumnsResizable()&&this._setResizeCursor(e)},P.prototype.handleTouchEnd=function(e){this._handleHeaderColumnResizeEnd(e)&&e.preventDefault()},P.prototype.handleTouchCancel=function(){this._clearTableHeaderColumnsResize()},P.prototype.handleKeyDownEsc=function(){this._clearTableHeaderColumnsResize()},P.prototype.handleFocusout=function(){this._clearTableHeaderColumnsResize()},P.prototype._setResizeCursor=function(e){var t=this._table._getEventTargetElement(e),i=this._table._getElementColumnIdx(t);if(null==i)return!1;if(this._table._getColumnDefs()[i].resizable===D._OPTION_DISABLED&&this._resizeStartColumnIdx!==i-1&&this._resizeStartColumnIdx!==i+1)return!1;if(null==this._resizeStartColumnIdx)return null!==this._isHeaderColumnResizeStart(e)?(t.style.cursor=D.CSS_VAL._COL_RESIZE,!0):(t.style.cursor="",!1);if(0===this._table._getTableHeaderColumns().length)return!1;if(i===this._resizeStartColumnIdx||this._resizeColumnStart&&i===this._resizeStartColumnIdx-1||!this._resizeColumnStart&&i===this._resizeStartColumnIdx+1){var n=this._getTableHeaderColumnResizeIndicator();if(null!=n){var o=this.getScroller().getBoundingClientRect();return n.style.left=e.originalEvent.clientX-o.left+"px",!0}}return!1},P.prototype._handleHeaderColumnResizeStart=function(e,t){var i=this._table._getEventTargetElement(e),n=this._table._getElementColumnIdx(i);if(null!=n){var o=this._table._getColumnDefs()[n];if(this._resizeColumnStart=this._isHeaderColumnResizeStart(e),o.resizable===D._OPTION_ENABLED&&null!==this._resizeColumnStart)return this._resizeStartColumnIdx=n,this._resizeStartPageX=this._getPageX(e),this._setTableHeaderColumnsResizeStyling(),this._setTableHeaderColumnResizeIndicator(n),e.preventDefault(),!0}return this._resizeStartColumnIdx=null,this._resizeStartPageX=null,!1},P.prototype._handleHeaderColumnResizeEnd=function(e){var t=this._table.options.columns.length,i=this._table._getEventTargetElement(e),n=this._table._getElementColumnIdx(i);if(null!==n&&n===this._resizeStartColumnIdx||this._resizeColumnStart&&n===this._resizeStartColumnIdx-1||!this._resizeColumnStart&&n===this._resizeStartColumnIdx+1){var o=this._table._getTableHeaderColumn(this._resizeStartColumnIdx);if(null!=o){var s,a=o.getBoundingClientRect().width;if(this._resizeStartColumnIdx===t-1&&this.isTableHeightConstrained()&&(a-=this.getScrollBarWidth()),s="rtl"===this._table._GetReadingDirection()&&this._resizeColumnStart||"ltr"===this._table._GetReadingDirection()&&!this._resizeColumnStart?this._getPageX(e)-this._resizeStartPageX:this._resizeStartPageX-this._getPageX(e),Math.abs(s)>2){var r=a+s,l=this.getMinimumForcedOffsetWidth(this._resizeStartColumnIdx);l>r&&(s+=l-r,r=l);for(var _=[],u=0;u<t;u++)_[u]=c.extend({},{},this._table.options.columns[u]);var h=this._resizeColumnStart?this._resizeStartColumnIdx-1:this._resizeStartColumnIdx+1;h===t-1&&this.isTableHeightConstrained()&&(s+=this.getScrollBarWidth());var d=this._table._getTableHeaderColumn(h);if(d){var p=d.getBoundingClientRect().width-s;(l=this.getMinimumForcedOffsetWidth(h))>p&&(r+=p-l,p=l),_[h].width=this.getWidthPropertyFromOffsetWidth(p,d)}return _[this._resizeStartColumnIdx].width=this.getWidthPropertyFromOffsetWidth(r,o),this._table.option("columns",_,{_context:{writeback:!0,internalSet:!0}}),this._table._clearCachedMetadata(),this._table._queueTask(function(){this.notifyTableUpdate(D._UPDATE._COL_RESIZE),setTimeout(function(){this._clearTableHeaderColumnsResize()}.bind(this),0)}.bind(this)),!0}}}return this._clearTableHeaderColumnsResize(),!1},P.prototype._clearTableHeaderColumnsResize=function(){this._resizeStartColumnIdx=null,this._resizeColumnStart=null,this._resizeStartPageX=null,this._clearTableHeaderColumnsResizeStyling(),this._removeTableHeaderColumnResizeIndicator()},P.prototype._isHeaderColumnResizeStart=function(e){var t=null,i=this._table.options.columns.length,n=this._table._getElementColumnIdx(e.target),o=this._table._getTableHeaderColumn(n);if(null!==o){var s=this._table._GetReadingDirection(),a=o.getBoundingClientRect(),r=Math.abs(e.originalEvent.clientX-a.left),l=Math.abs(e.originalEvent.clientX-a.right);r<=D.RESIZE_OFFSET?"rtl"===s&&n!==i-1?t=!1:"ltr"===s&&0!==n&&(t=!0):l<=D.RESIZE_OFFSET&&("ltr"===s&&n!==i-1?t=!1:"rtl"===s&&0!==n&&(t=!0))}return t},P.prototype._setTableHeaderColumnResizeIndicator=function(e){var t=this._getTableHeaderColumnResizeIndicator();null==t&&(t=this._createTableHeaderColumnResizeIndicator());var i=this._table._getTable().getBoundingClientRect(),n=this.getScroller().getBoundingClientRect(),o=this._table._getTableHeaderColumn(e).getBoundingClientRect();t.style.height=i.height+"px",this._resizeColumnStart?("rtl"===this._table._GetReadingDirection()?t.style.left=o.left+o.width-n.left+"px":t.style.left=o.left-n.left+"px",t.style.borderLeftWidth="2px",t.style.borderRightWidth="0"):("rtl"===this._table._GetReadingDirection()?t.style.left=o.left-n.left+"px":t.style.left=o.left+o.width-n.left+"px",t.style.borderRightWidth="2px",t.style.borderLeftWidth="0")},P.prototype._setTableHeaderColumnsResizeStyling=function(){this._table._getTable().classList.add(D.CSS_CLASSES._COLUMN_HEADER_RESIZING_CLASS)},P.prototype._clearTableHeaderColumnsResizeStyling=function(){for(var e=this._table._getTableHeaderColumns(),t=0;t<e.length;t++)e[t].style.cursor="";this._table._getTable().classList.remove(D.CSS_CLASSES._COLUMN_HEADER_RESIZING_CLASS)},P.prototype._createTableHeaderColumnResizeIndicator=function(){var e=this._getTableHeaderColumnResizeIndicator();if(!e){var t=this._table._getTableContainer();e=document.createElement(D.DOM_ELEMENT._DIV),t.appendChild(e),e.classList.add(D.CSS_CLASSES._COLUMN_HEADER_RESIZE_INDICATOR_CLASS),this._table._cacheDomElement(D.CSS_CLASSES._COLUMN_HEADER_RESIZE_INDICATOR_CLASS,e)}return e},P.prototype._getTableHeaderColumnResizeIndicator=function(){return this._table._getTableElementByClassName(D.CSS_CLASSES._COLUMN_HEADER_RESIZE_INDICATOR_CLASS,!0)},P.prototype._removeTableHeaderColumnResizeIndicator=function(){var e=this._getTableHeaderColumnResizeIndicator();e&&(c(e).remove(),this._table._clearDomCache(D.CSS_CLASSES._COLUMN_HEADER_RESIZE_INDICATOR_CLASS))},P.prototype.displayDragOverIndicatorColumn=function(e,t){this._table._removeDragOverIndicatorColumn();var i=this._table._getTableHeaderRow(),n=this._table._getTableHeaderColumn(e),o=t?D.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_BEFORE_CLASS:D.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_AFTER_CLASS;null!=n?n.classList.add(o):0===this._table._getColumnDefs().length&&i.classList.add(o)},P.prototype.removeDragOverIndicatorColumn=function(){for(var e=this._table._tableQuerySelectorAll(this._table._getTable(),"."+D.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_BEFORE_CLASS+",."+D.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_AFTER_CLASS),t=e.length,i=0;i<t;i++)e[i].classList.remove(D.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_BEFORE_CLASS),e[i].classList.remove(D.CSS_CLASSES._COLUMN_HEADER_DRAG_INDICATOR_AFTER_CLASS)};const M=function(e){M.superclass.constructor.call(this,e)};d.Object.createSubclass(M,N,"TableStickyLayoutManager"),M.prototype.unregisterListeners=function(){M.superclass.unregisterListeners.call(this),this._clearMouseResizeListeners()},M.prototype.getScroller=function(){if(null==this._scroller){var e,t=this._table.options.scrollPolicyOptions;null!=t&&null!=(e=t.scroller)&&("string"==typeof e&&null==(e=document.querySelector(e))&&S.error("the css selector string specified in scroller attribute does not resolve to any element"),null==e||e.contains(this._table._getRootElement())||(S.error("the specified scroller must be an ancestor of the component"),e=null)),this._scroller=null!=e?e:this._table._getTableScroller()}return this._scroller},M.prototype._isHTMLScroller=function(){return null!=this._table.options.scrollPolicyOptions&&"html"===this._table.options.scrollPolicyOptions.scroller},M.prototype.getContentElement=function(){return this.getScroller()!==this._table._getTableScroller()?this._table._getTable():null},M.prototype.getColumnScrollLeft=function(e){if(0===e)return 0;var t,i,n=0;this._table._isDefaultSelectorEnabled()&&(n+=this._selectorColWidth),this._table._isGutterStartColumnEnabled()&&(n+=this._table._getTableGutterWidth("start"));var o=this._getFrozenStartColumnIndexes();for(t=0;t<o.length&&(i=o[t])<e;t++)n+=this._getAppliedColumnWidth(i);var s=this.getScroller(),a="rtl"===this._table._GetReadingDirection(),r=this._table._getTableHeaderColumn(e);return null!=r?a?s.clientWidth-n-r.offsetLeft-r.offsetWidth:r.offsetLeft-n:void 0},M.prototype.getRowScrollTop=function(e){var t=e.offsetTop;if(!this._table._isTableHeaderless()){var i=this._table._getTableHeader();null!=i&&(t-=i.offsetHeight)}if(this._table._isAddNewRowEnabled()){var n=this._table._getPlaceHolderRow();null!=n&&(t-=n.offsetHeight)}return t},M.prototype._handleScrollerScrollLeft=function(e){M.superclass._handleScrollerScrollLeft.call(this,e),this._updateFrozenEdges(e,!1),null!=this._dragIndicatorColumnIndex&&this.displayDragOverIndicatorColumn()},M.prototype._handleScrollerScrollTop=function(e){if(M.superclass._handleScrollerScrollTop.call(this,e),this._table._isStickyRowsEnabled())for(var t=this._table._getTableBodyStickyRows(),i=0;i<t.length;i++){var n=t[i];this.getVerticalOverflowDiff(n).top>0?n.classList.add(D.CSS_CLASSES._TABLE_STUCK_ROW_CLASS):n.classList.remove(D.CSS_CLASSES._TABLE_STUCK_ROW_CLASS)}},M.prototype.getVerticalOverflowDiff=function(e){var t,i,n,o,s=e.getBoundingClientRect();this._table._isExternalScrollEnabled()?(n=null==this._table.options.scrollPolicyOptions.scrollerOffsetTop?0:this._table.options.scrollPolicyOptions.scrollerOffsetTop,o=null==this._table.options.scrollPolicyOptions.scrollerOffsetBottom?0:this._table.options.scrollPolicyOptions.scrollerOffsetBottom):(n=0,o=0);var a=this._table._getTableHeader();null!=a&&(n+=a.offsetHeight);var r=this._table._getPlaceHolderRow();null!=r&&(n+=r.offsetHeight);var l=this._table._getTableFooter();if(null!=l&&(o+=l.offsetHeight),this._table._isStickyRowsEnabled())for(var _=this._table._getTableBodyStickyRows(),u=_.length-1;u>=0;u--){var h=_[u];if(h===e)break;if(h.classList.contains(D.CSS_CLASSES._TABLE_STUCK_ROW_CLASS)){n+=h.offsetHeight;break}}if(this._isHTMLScroller())t=0,i=this.getScroller().clientHeight;else{var d=this.getScrollBarHeight(),c=this.getScroller().getBoundingClientRect();t=c.top,i=c.bottom-d}return{top:t+n-s.top,bottom:s.bottom-i+o}},M.prototype.getHorizontalOverflowDiff=function(e,t){var i,n,o,s,a="rtl"===this._table._GetReadingDirection(),r=this.getScroller(),l=this.getScrollBarWidth(),_=e.getBoundingClientRect(),u=r.getBoundingClientRect();this._table._isExternalScrollEnabled()?(o=null==this._table.options.scrollPolicyOptions.scrollerOffsetStart?0:this._table.options.scrollPolicyOptions.scrollerOffsetStart,s=null==this._table.options.scrollPolicyOptions.scrollerOffsetEnd?0:this._table.options.scrollPolicyOptions.scrollerOffsetEnd):(o=0,s=0),this._table._isDefaultSelectorEnabled()&&(o+=this._selectorColWidth),this._table._isGutterStartColumnEnabled()&&(o+=this._table._getTableGutterWidth("start")),this._table._isGutterEndColumnEnabled()&&(s+=this._table._getTableGutterWidth("end"));var h=this._getFrozenStartColumnIndexes();for(i=0;i<h.length&&(n=h[i])<t;i++)o+=this._getAppliedColumnWidth(n);var d=this._getFrozenEndColumnIndexes();for(i=d.length-1;i>-1&&(n=d[i])>t;i--)s+=this._getAppliedColumnWidth(n);var c={};return a?(c.left=u.left+s-_.left+l,c.right=_.right-u.right+o):(c.left=u.left+o-_.left,c.right=_.right-u.right+s+l),c},M.prototype._clearAllCache=function(){this._clearColumnSizingCache()},M.prototype._clearColumnSizingCache=function(){M.superclass._clearColumnSizingCache.call(this),this._appliedColumnWidths=null,this._columnInitWidths=null,this._selectorColWidth=null,this._table._gutterStartWidth=null,this._table._gutterEndWidth=null},M.prototype.refreshTableDimensions=function(){var e=this._table._getTableContainer(),t=this._getSizingState(),i=this._getTableUpdates();if(i.has(D._UPDATE._REFRESH))this._clearAllCache();else{if(!(i.has(D._UPDATE._DATA_REFRESH)||i.has(D._UPDATE._ATTACHED)||i.has(D._UPDATE._SHOWN)||i.has(D._UPDATE._RESIZE)||i.has(D._UPDATE._COL_RESIZE)||i.has(D._UPDATE._COL_REORDER)||i.has(D._UPDATE._ROWS_ADDED)&&!t.hasVerticalOverflow||i.has(D._UPDATE._ROWS_REMOVED)&&t.hasVerticalOverflow))return(i.has(D._UPDATE._ROW_REFRESH)||i.has(D._UPDATE._ROWS_REMOVED)||i.has(D._UPDATE._ADD_ROW_DISPLAY))&&(this.unregisterScrollListeners(),this.clearCachedDimensions(),this._setupTableHeight(this._getBottomSlotHeight()),this._table._styleTableContainer(e),this._restoreCachedScrollPos(),this.registerScrollListeners()),i.has(D._UPDATE._ROWS_ADDED)||i.has(D._UPDATE._DATA_SORT)||i.has(D._UPDATE._ADD_ROW_DISPLAY)?(this._initializeFrozenColumns(!0),this._table._styleTableContainer(e),this._updateStickyRowTops()):i.has(D._UPDATE._ROW_REFRESH)&&this._updateStickyRowTops(),this._clearTableUpdates(),void this._enableTableVisibility();this._clearColumnSizingCache()}var n,o=this._getBottomSlotHeight(),s=this._table._getTable();this.clearCachedDimensions(),this._removeTableDimensionsStyling(),T.isSafari()&&(s.classList.remove(D.CSS_CLASSES._TABLE_ELEMENT_CLASS),n=s.offsetWidth,s.classList.add(D.CSS_CLASSES._TABLE_ELEMENT_CLASS)),this._table._styleTableContainer(e),this._initializeColumnLayouts(),this._setupTableHeight(o),(n=this._determineColumnWidths())>0&&(s.style[D.CSS_PROP._WIDTH]=n+D.CSS_VAL._PX,s.style["table-layout"]="fixed"),this._applyHeaderWrapperClass(),this._initializeFrozenColumns(!0),this._updateStickyRowTops();var a=this._getTableContainerScrollableState(o);1===a[0]?(t.hasVerticalOverflow=!0,e.classList.add(D.CSS_CLASSES._TABLE_SCROLL_VERTICAL_CLASS)):t.hasVerticalOverflow=!1,1===a[1]?(t.hasHorizontalOverflow=!0,e.classList.add(D.CSS_CLASSES._TABLE_SCROLL_HORIZONTAL_CLASS)):t.hasHorizontalOverflow=!1,this._table._isStatusMessageShown()&&this._table._refreshTableStatusPosition(),this._finalizeTableDimensions()},M.prototype._updateStickyRowTops=function(){var e,t=this._table._getTableHeaderRow(),i=null==this._table.options.scrollPolicyOptions.scrollerOffsetTop?0:this._table.options.scrollPolicyOptions.scrollerOffsetTop,n=null!=t?t.offsetHeight+i:i,o=this._table._getPlaceHolderRowCells(),s=o.length;if(s>0)for(e=0;e<s;e++)o[e].style[D.CSS_PROP._TOP]=n+"px";if(this._table._isStickyRowsEnabled()){var a,r,l=2,_=this._table._getPlaceHolderRow();null!=_&&(n+=_.offsetHeight);var u=this._table._getTableBodyRows();for(e=0;e<u.length;e++){var h=!1,d=u[e],c=this._table._getTableElementsByTagName(d,D.DOM_ELEMENT._TD);d.classList.contains(D.CSS_CLASSES._TABLE_STICKY_ROW_CLASS)&&(h=!0);for(var p=0;p<c.length;p++)a=c[p],h&&(a.style[D.CSS_PROP._TOP]=n+"px"),r=a.classList.contains(D.CSS_CLASSES._TABLE_FROZEN_START)?1:a.classList.contains(D.CSS_CLASSES._TABLE_FROZEN_END)?2:0,a.style[D.CSS_PROP._ZINDEX]=h?3*(l+1)+r:3*(l-2)+r;h&&(l+=2)}}},M.prototype._initializeColumnLayouts=function(){this._setForcedColumnWidths(),this._verifyMinAndMaxWidths()},M.prototype._setupTableHeight=function(e){var t=this._table._getTableScroller();t.removeAttribute(D.DOM_ATTR._STYLE);var i=window.getComputedStyle(this._table._getTableContainer()),n=this.getExactClientHeight(i)-e,o=window.getComputedStyle(t),s=this.getExactOffsetHeight(o);Math.abs(s-n)>D.SIZING_ERROR_MARGIN&&(t.style[D.CSS_PROP._HEIGHT]=n+D.CSS_VAL._PX);var a=this._table._getTableBottomSlot();null!=a&&(this._table._isTableStretchEnabled()?(a.style[D.CSS_PROP._BOTTOM]=0,a.style[D.CSS_PROP._POSITION]=D.CSS_VAL._ABSOLUTE):(a.style[D.CSS_PROP._BOTTOM]="",a.style[D.CSS_PROP._POSITION]=""))},M.prototype._removeHeaderColumnAndCellColumnWidths=function(){for(var e=this._table._getTableCols(),t=0;t<e.length;t++){var i=e[t];i.style[D.CSS_PROP._WIDTH]="",i.style[D.CSS_PROP._DISPLAY]=""}this._appliedColumnWidths=null},M.prototype._determineColumnWidths=function(){this._savePreferredColWidths();var e=this._setAllColumnWidths();return this._clearForcedColumnWidths(),e},M.prototype._setAllColumnWidths=function(){var e=this._table._getColumnDefs().length,t=null!=this._selectorColWidth?this._selectorColWidth:0;this._table._isGutterStartColumnEnabled()&&(t+=this._table._getTableGutterWidth("start")),this._table._isGutterEndColumnEnabled()&&(t+=this._table._getTableGutterWidth("end")),this._appliedColumnWidths=[];for(var i=0;i<e;i++){var n=this._columnInitWidths[i],o=this._table._getTableCol(i);null!=o&&(o.style[D.CSS_PROP._WIDTH]=n+D.CSS_VAL._PX,0===n&&(o.style[D.CSS_PROP._DISPLAY]=D.CSS_VAL._NONE)),this._appliedColumnWidths[i]=n,t+=n}return t},M.prototype._getAppliedColumnWidth=function(e){return null!=this._appliedColumnWidths&&this._appliedColumnWidths.length>e?this._appliedColumnWidths[e]:0},M.prototype._clearForcedColumnWidths=function(){for(var e=this._table._getTableBodyRows(),t=0;t<this._forcedWidthColumns.length;t++)if(!1!==this._forcedWidthColumns[t]){var i=this._table._getTableHeaderColumn(t);null!=i&&this._applyForcedColumnWidth(i,"");for(var n=0;n<e.length;n++){var o=this._table._getTableBodyCell(n,t,null);null!=o&&this._applyForcedColumnWidth(o,"")}var s=this._table._getTableFooterCell(t);null!=s&&this._applyForcedColumnWidth(s,"")}},M.prototype._savePreferredColWidths=function(){if(null==this._selectorColWidth&&this._table._isDefaultSelectorEnabled()){var e=this._table._getTableSelectorColumn();if(null!=e)this._selectorColWidth=e.getBoundingClientRect().width;else{var t=this._table._getTableBodyRow(0),i=this._table._getTableBodySelectorCell(t);null!=i&&(this._selectorColWidth=i.getBoundingClientRect().width)}}if(null==this._columnInitWidths){this._columnInitWidths=[];for(var n=this._table._getColumnDefs().length,o=0;o<n;o++){var s=this._table._getTableHeaderColumn(o);if(null!=s)this._columnInitWidths[o]=s.getBoundingClientRect().width;else{var a=this._table._getTableBodyCell(0,o,null);null!=a&&(this._columnInitWidths[o]=a.getBoundingClientRect().width)}}}},M.prototype._initializeFrozenColumns=function(e,t){if(e||this.hasRenderedSize()){var i,n,o,s;this._table._isExternalScrollEnabled()?(o=null==this._table.options.scrollPolicyOptions.scrollerOffsetStart?0:this._table.options.scrollPolicyOptions.scrollerOffsetStart,s=null==this._table.options.scrollPolicyOptions.scrollerOffsetEnd?0:this._table.options.scrollPolicyOptions.scrollerOffsetEnd):(o=0,s=0);var a=!1;this._table._isGutterStartColumnEnabled()&&(this._applyFrozenOffset(-1,o,!0,t),o+=this._table._getTableGutterWidth("start"),a=!0),this._table._isGutterEndColumnEnabled()&&null!=this._appliedColumnWidths&&(this._applyFrozenOffset(this._appliedColumnWidths.length,s,!1,t),s+=this._table._getTableGutterWidth("end")),this._table._isDefaultSelectorEnabled()&&(this._applyFrozenOffset(-1,o,!0,t),o+=this._selectorColWidth,a=!0);var r=this._getFrozenStartColumnIndexes();if(r.length>0)for(a=!0,i=0;i<r.length;i++)n=r[i],this._applyFrozenOffset(n,o,!0,t),o+=this._getAppliedColumnWidth(n);var l=this._getFrozenEndColumnIndexes();if(l.length>0)for(a=!0,i=l.length-1;i>-1;i--)n=l[i],this._applyFrozenOffset(n,s,!1,t),s+=this._getAppliedColumnWidth(n);a&&this._updateFrozenEdges(this._scrollLeft,!0,t)}},M.prototype._getFrozenStartColumnIndexes=function(){for(var e=[],t=this._table._getColumnDefs(),i=0;i<t.length;i++)t[i].frozenEdge===D._OPTION_FROZEN_EDGE._START&&e.push(i);return e},M.prototype._getFrozenEndColumnIndexes=function(){for(var e=[],t=this._table._getColumnDefs(),i=0;i<t.length;i++)t[i].frozenEdge===D._OPTION_FROZEN_EDGE._END&&e.push(i);return e},M.prototype._applyFrozenOffset=function(e,t,i,n){var o,s,a="rtl"===this._table._GetReadingDirection();s=i&&!a||!i&&a?D.CSS_PROP._LEFT:D.CSS_PROP._RIGHT;var r=t+D.CSS_VAL._PX;if(null!=n){let t;if(-1===e){if(this._table._isGutterStartColumnEnabled()&&(t=this._table._getTableGutterCell("body","start",n)),this._table._isDefaultSelectorEnabled())if(n.classList.contains(D.CSS_CLASSES._TABLE_ADD_ROW_PLACEHOLDER_CLASS)){let e=this._table._isGutterStartColumnEnabled()?1:0;t=this._table._getPlaceHolderRowCells(n)[e]}else t=this._table._getTableBodySelectorCell(n)}else t=n.classList.contains(D.CSS_CLASSES._TABLE_ADD_ROW_PLACEHOLDER_CLASS)?this._table._getPlaceHolderRowCell(e):this._table._getTableBodyCell(null,e,n);return void(null!=t&&(t.style[s]=r))}const l=this._table._getTableBodyRows(),_=this._table._getPlaceHolderRow(),u=this._table.options.columns.length;if(-1===e&&!this._table._isDefaultSelectorEnabled()||e===u){const t=-1===e?"start":"end",i=this._table._getTableGutterCell("header",t);if(null!=i&&(i.style[s]=r),null!=_){const e=this._table._getTableGutterCell("body",t,_);null!=e&&(e.style[s]=r)}for(o=0;o<l.length;o++){const e=this._table._getTableGutterCell("body",t,l[o]);null!=e&&(e.style[s]=r)}const n=this._table._getTableGutterCell("footer",t);null!=n&&(n.style[s]=r)}else if(-1===e){var h=this._table._getTableSelectorColumn();if(null!=h&&(h.style[s]=r),null!=_){const e=this._table._isGutterStartColumnEnabled()?1:0,t=this._table._getPlaceHolderRowCells(_)[e];null!=t&&(t.style[s]=r)}for(o=0;o<l.length;o++){var d=this._table._getTableBodyRow(o),c=this._table._getTableBodySelectorCell(d);null!=c&&(c.style[s]=r)}var p=this._table._getTableFooterSelectorCell();null!=p&&(p.style[s]=r)}else{var S=this._table._getTableHeaderColumn(e);if(null!=S&&(S.style[s]=r),null!=_){var g=this._table._getPlaceHolderRowCell(e);null!=g&&(g.style[s]=r)}for(o=0;o<l.length;o++){var m=this._table._getTableBodyCell(o,e);null!=m&&(m.style[s]=r)}var f=this._table._getTableFooterCell(e);null!=f&&(f.style[s]=r)}},M.prototype._updateFrozenEdges=function(e,t,i){var n,o,s,a,r=this._table._getCurrentHorizontalScrollPosition(e);if(0===r.x)s=null;else{var l=r.columnIndex;s=this._table._isDefaultSelectorEnabled()||this._table._isGutterStartColumnEnabled()?-1:null;var _=this._getFrozenStartColumnIndexes();for(n=0;n<_.length&&(o=_[n])<l&&this._getAppliedColumnWidth(o)>0;n++)s=o}this._updateFrozenEdge(s,!0,t,i);var u=this.getScroller(),h=u.scrollWidth-u.clientWidth-r.x;if(h<1)a=null;else if(null!=this._appliedColumnWidths){this._table._isGutterEndColumnEnabled()&&(a=this._appliedColumnWidths.length);var d=0,c=this._getFrozenEndColumnIndexes();for(n=this._appliedColumnWidths.length-1;n>-1;n--)if(-1!==c.indexOf(n)&&this._getAppliedColumnWidth(n)>0)a=n;else if((d+=this._getAppliedColumnWidth(n))>h)break}this._updateFrozenEdge(a,!1,t,i)},M.prototype._updateFrozenEdge=function(e,t,i,n){var o=!1;t?this._frozenStartIndex!==e&&(null!=this._frozenStartIndex&&this._applyFrozenEdge(this._frozenStartIndex,!1,n),null!=e&&(this._applyFrozenEdge(e,!0,n),o=!0),this._frozenStartIndex=e):this._frozenEndIndex!==e&&(null!=this._frozenEndIndex&&this._applyFrozenEdge(this._frozenEndIndex,!1,n),null!=e&&(this._applyFrozenEdge(e,!0,n),o=!0),this._frozenEndIndex=e),i&&!o&&this._applyFrozenEdge(e,!0,n)},M.prototype._applyFrozenEdge=function(e,t,i){let n;const o=t?"add":"remove",s=this._table.options.columns.length;if(null!=i){let t;if(-1===e){if(this._table._isGutterStartColumnEnabled()&&(t=this._table._getTableGutterCell("body","start",i)),this._table._isDefaultSelectorEnabled())if(i.classList.contains(D.CSS_CLASSES._TABLE_ADD_ROW_PLACEHOLDER_CLASS)){let e=this._table._isGutterStartColumnEnabled()?1:0;t=this._table._getPlaceHolderRowCells(i)[e]}else t=this._table._getTableBodySelectorCell(i)}else t=e===s?this._table._getTableGutterCell("body","end",i):i.classList.contains(D.CSS_CLASSES._TABLE_ADD_ROW_PLACEHOLDER_CLASS)?this._table._getPlaceHolderRowCell(e):this._table._getTableBodyCell(null,e,i);return void(null!=t&&t.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE))}const a=this._table._getTableBodyRows(),r=this._table._getPlaceHolderRow();if(-1===e&&!this._table._isDefaultSelectorEnabled()||e===s){const t=-1===e?"start":"end",i=this._table._getTableGutterCell("header",t);if(null!=i&&i.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE),null!=r){const e=this._table._getTableGutterCell("body",t,r);null!=e&&e.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE)}for(n=0;n<a.length;n++){const e=this._table._getTableGutterCell("body",t,a[n]);null!=e&&e.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE)}const s=this._table._getTableGutterCell("footer",t);null!=s&&s.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE)}else if(-1===e){var l=this._table._getTableSelectorColumn();if(null!=l&&l.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE),null!=r){let e=this._table._isGutterStartColumnEnabled()?1:0;var _=this._table._getPlaceHolderRowCells(r)[e];null!=_&&_.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE)}for(n=0;n<a.length;n++){var u=this._table._getTableBodyRow(n),h=this._table._getTableBodySelectorCell(u);null!=h&&h.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE)}var d=this._table._getTableFooterSelectorCell();null!=d&&d.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE)}else{var c=this._table._getTableHeaderColumn(e);if(null!=c&&c.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE),null!=r){var p=this._table._getPlaceHolderRowCell(e);null!=p&&p.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE)}for(n=0;n<a.length;n++){var S=this._table._getTableBodyCell(n,e);null!=S&&S.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE)}var g=this._table._getTableFooterCell(e);null!=g&&g.classList[o](D.CSS_CLASSES._TABLE_FROZEN_EDGE)}},M.prototype.handleMouseMoveHeaderCell=function(e){this._isColumnResizing||this._setResizeCursor(e)},M.prototype._setResizeCursor=function(e){var t=this._table._getEventTargetElement(e),i=this._table._getElementColumnIdx(t);if(null!=i){if(this._table._getColumnDefs()[i].resizable===D._OPTION_DISABLED||null==this._appliedColumnWidths)return this._cursor=null,void(t.style.cursor="");var n=!1,o=this._table._getTableHeaderColumn(i);if(null!==o){var s=this._table._GetReadingDirection(),a=this._table.options.columns.length,r=o.getBoundingClientRect(),l=Math.abs(e.originalEvent.clientX-r.left),_=Math.abs(e.originalEvent.clientX-r.right);l<=D.RESIZE_OFFSET?"rtl"===s&&i!==a-1?(n=!0,this._resizeStartIndex=i,this._resizeEndIndex=i+1):"ltr"===s&&0!==i&&(n=!0,this._resizeStartIndex=i-1,this._resizeEndIndex=i):_<=D.RESIZE_OFFSET&&("ltr"===s&&i!==a-1?(n=!0,this._resizeStartIndex=i,this._resizeEndIndex=i+1):"rtl"===s&&0!==i&&(n=!0,this._resizeStartIndex=i-1,this._resizeEndIndex=i))}n?(this._cursor="col-resize",t.style.cursor=D.CSS_VAL._COL_RESIZE):(this._cursor=null,t.style.cursor="")}},M.prototype._handleHeaderColumnResizeStart=function(e,t){return(!t||null==this._resizeStartIndex&&null==this._resizeEndIndex)&&this._setResizeCursor(e),"col-resize"===this._cursor?(this._isColumnResizing=!0,this._resizeStartPageX=this._getPageX(e),this._minimumStartColWidth=this.getMinimumForcedOffsetWidth(this._resizeStartIndex),this._minimumEndColWidth=this.getMinimumForcedOffsetWidth(this._resizeEndIndex),this._setResizeIndicator(),e.preventDefault(),t&&this._setupMouseResizeListeners(),this._table._queueTask(function(){return this._isColumnResizing?new Promise(function(e){this._finishResize=e}.bind(this)):Promise.resolve()}.bind(this)),!0):(this._resizeStartPageX=null,!1)},M.prototype._setupMouseResizeListeners=function(){this._clearMouseResizeListeners(),this._docMouseMoveListener=this._handleResizeMouseMove.bind(this),this._docMouseUpListener=this._handleResizeMouseUp.bind(this),document.addEventListener("mousemove",this._docMouseMoveListener,!1),document.addEventListener("mouseup",this._docMouseUpListener,!1)},M.prototype._clearMouseResizeListeners=function(){null!=this._docMouseMoveListener&&(document.removeEventListener("mousemove",this._docMouseMoveListener,!1),this._docMouseMoveListener=null),null!=this._docMouseUpListener&&(document.removeEventListener("mouseup",this._docMouseUpListener,!1),this._docMouseUpListener=null)},M.prototype._handleResizeMouseMove=function(e){e&&0===e.buttons?this._handleResizeMouseUp(e):this._updateResizeColumnWidths(e)},M.prototype._handleResizeMouseUp=function(e){this._removeResizeIndicator(),this._updateResizeColumnWidths(e,!0),this._cleanupColumnResizing()},M.prototype._cleanupColumnResizing=function(){this._clearMouseResizeListeners(),this._resizeStartIndex=null,this._resizeEndIndex=null,this._isColumnResizing=null,this._resizeStartPageX=null,this._minimumStartColWidth=null,this._minimumEndColWidth=null,null!=this._finishResize&&(this._finishResize(),this._finishResize=null)},M.prototype.handleTouchMoveHeader=function(e){this._isColumnResizing&&this._updateResizeColumnWidths(e)},M.prototype.handleTouchEnd=function(e){this._isColumnResizing&&(e.preventDefault(),this._removeResizeIndicator(),this._updateResizeColumnWidths(e,!0),this._cleanupColumnResizing())},M.prototype._updateResizeColumnWidths=function(e,t){var i,n,o,s=this._table._GetReadingDirection(),a=this._getAppliedColumnWidth(this._resizeStartIndex),r=this._getAppliedColumnWidth(this._resizeEndIndex),l=this._getPageX(e)-this._resizeStartPageX;"ltr"===s?(i=a+l,n=r-l):(i=a-l,n=r+l),this._minimumStartColWidth>i?(o=this._minimumStartColWidth-i,i=this._minimumStartColWidth,n-=o):this._minimumEndColWidth>n&&(o=this._minimumEndColWidth-n,n=this._minimumEndColWidth,i-=o);var _=this._table._getTableCol(this._resizeStartIndex),u=this._table._getTableCol(this._resizeEndIndex);if(_.style[D.CSS_PROP._WIDTH]=i+D.CSS_VAL._PX,u.style[D.CSS_PROP._WIDTH]=n+D.CSS_VAL._PX,this._updateStickyRowTops(),t){for(var h=this._table.options.columns.length,d=[],c=0;c<h;c++)d[c]=Object.assign({},{},this._table.options.columns[c]);var p=this._table._getTableHeaderColumn(this._resizeStartIndex);d[this._resizeStartIndex].width=this.getWidthPropertyFromOffsetWidth(i,p);var S=this._table._getTableHeaderColumn(this._resizeEndIndex);d[this._resizeEndIndex].width=this.getWidthPropertyFromOffsetWidth(n,S),this._table.option("columns",d,{_context:{writeback:!0,internalSet:!0}}),this._table._clearCachedMetadata(),this.notifyTableUpdate(D._UPDATE._COL_RESIZE),null!=this._finishResize&&(this._finishResize(),this._finishResize=null)}},M.prototype._setResizeIndicator=function(){var e=this._table._getPlaceHolderRowCell(this._resizeEndIndex);null!=e&&e.classList.add(D.CSS_CLASSES._COLUMN_RESIZE_INDICATOR_CLASS);var t=this._table._getTableHeaderColumn(this._resizeEndIndex);null!=t&&t.classList.add(D.CSS_CLASSES._COLUMN_RESIZE_INDICATOR_CLASS),this._table._getVisibleRowIdxs().forEach(function(e){var t=this._table._getTableBodyCell(e,this._resizeEndIndex);null!=t&&t.classList.add(D.CSS_CLASSES._COLUMN_RESIZE_INDICATOR_CLASS)}.bind(this));var i=this._table._getTableFooterCell(this._resizeEndIndex);null!=i&&i.classList.add(D.CSS_CLASSES._COLUMN_RESIZE_INDICATOR_CLASS)},M.prototype._removeResizeIndicator=function(){var e=this._table._getTableContainer();this._table._getTableElementsByClassName(e,D.CSS_CLASSES._COLUMN_RESIZE_INDICATOR_CLASS).forEach((function(e){e.classList.remove(D.CSS_CLASSES._COLUMN_RESIZE_INDICATOR_CLASS)}))},M.prototype.handleRowRefresh=function(e,t,i){M.superclass.handleRowRefresh.call(this,e,t),i&&this._initializeFrozenColumns(!1,t)},M.prototype.displayDragOverIndicatorColumn=function(e,t){if(null==e||this._dragIndicatorColumnIndex!==e||this._dragIndicatorIsStart!==t){this._dragIndicatorColumnIndex=null!=e?e:this._dragIndicatorColumnIndex,this._dragIndicatorIsStart=null!=t?t:this._dragIndicatorIsStart;var i=this._getTableColumnDropIndicator();null==i&&(i=this._createTableColumnDropIndicator());var n=this.getScroller().getBoundingClientRect(),o=this._table._getTableHeaderColumn(this._dragIndicatorColumnIndex).getBoundingClientRect();this._dragIndicatorIsStart?"rtl"===this._table._GetReadingDirection()?i.style.left=o.left+o.width-n.left+"px":i.style.left=o.left-n.left+"px":"rtl"===this._table._GetReadingDirection()?i.style.left=o.left-n.left+"px":i.style.left=o.left+o.width-n.left+"px",i.style.height=n.height+"px"}},M.prototype.removeDragOverIndicatorColumn=function(){var e=this._getTableColumnDropIndicator();e&&(c(e).remove(),this._table._clearDomCache(D.CSS_CLASSES._COLUMN_DROP_INDICATOR_CLASS)),this._dragIndicatorColumnIndex=null,this._dragIndicatorIsStart=null},M.prototype._createTableColumnDropIndicator=function(){var e=this._getTableColumnDropIndicator();if(!e){var t=this._table._getTableContainer();(e=document.createElement(D.DOM_ELEMENT._DIV)).classList.add(D.CSS_CLASSES._COLUMN_DROP_INDICATOR_CLASS),t.appendChild(e),this._table._cacheDomElement(D.CSS_CLASSES._COLUMN_DROP_INDICATOR_CLASS,e)}return e},M.prototype._getTableColumnDropIndicator=function(){return this._table._getTableElementByClassName(D.CSS_CLASSES._COLUMN_DROP_INDICATOR_CLASS,!0)},M.prototype._applyHeaderWrapperClass=function(){const e=this._table._getTableHeaderColumns();for(let t=0;t<e.length;t++)e[t].classList.add(D.CSS_CLASSES._TABLE_HEADER_WRAP_TEXT_CLASS)};const B=function(e){B.superclass.constructor.call(this,e)};d.Object.createSubclass(B,M,"TableFixedLayoutManager"),B.prototype._clearAllCache=function(){B.superclass._clearAllCache.call(this),this._columnWeights=null,this._columnMinWidths=null,this._columnMaxWidths=null},B.prototype.optimizeInitialColumnWidths=function(){var e=this._table._getTableContainer();this._clearAllCache();var t,i=this._table._getTable();this.clearCachedDimensions(),this._removeTableDimensionsStyling(),T.isSafari()&&(i.classList.remove(D.CSS_CLASSES._TABLE_ELEMENT_CLASS),t=i.offsetWidth,i.classList.add(D.CSS_CLASSES._TABLE_ELEMENT_CLASS)),this._table._styleTableContainer(e),this._initializeColumnLayouts(),(t=this._determineColumnWidths())>0&&(i.style[D.CSS_PROP._WIDTH]=t+D.CSS_VAL._PX,i.style["table-layout"]="fixed")},B.prototype._initializeColumnLayouts=function(){var e,t=!1;this._table._isDefaultSelectorEnabled()?null==this._selectorColWidth&&(t=!0,this._selectorColWidth=this._getPixelStyleEquivalent("2.75rem")+1):null!=this._selectorColWidth&&(t=!0,this._selectorColWidth=null);var i=this._table._getColumnDefs(),n=i.length;if(null==this._columnWeights)for(t=!0,this._columnWeights=[],e=0;e<n;e++){var o=parseFloat(i[e].weight);o<=1&&(o=1),this._columnWeights[e]=o}if(null==this._columnMinWidths)for(t=!0,this._columnMinWidths=[],e=0;e<n;e++){var s=this._getPixelStyleEquivalent(i[e].minWidth);this._columnMinWidths[e]=null==s||s<=0?1:s}if(null==this._columnMaxWidths)for(t=!0,this._columnMaxWidths=[],e=0;e<n;e++){var a=this._getPixelStyleEquivalent(i[e].maxWidth);this._columnMaxWidths[e]=null!=a&&a<=0?null:a}if(null==this._columnInitWidths)for(t=!0,this._resetTableElementStyling(),this._columnInitWidths=[],e=0;e<n;e++){var r=this._table._getTableHeaderColumn(e);if(null!=r)this._columnInitWidths[e]=r.getBoundingClientRect().width;else{var l=this._table._getTableBodyCell(0,e,null);null!=l&&(this._columnInitWidths[e]=l.getBoundingClientRect().width)}}else t&&this._resetTableElementStyling();return t},B.prototype._resetTableElementStyling=function(){this._table._getTable().style="",this._removeHeaderColumnAndCellColumnWidths()},B.prototype._removeTableDimensionsStyling=function(){this.unregisterScrollListeners()},B.prototype._determineColumnWidths=function(){var e=this._table._getTableScroller().clientWidth;return this._setAllColumnWidths(e)},B.prototype._setAllColumnWidths=function(e){var t=this._table._getColumnDefs(),i=t.length,n=null!=this._selectorColWidth?this._selectorColWidth:0,o=n;if(this._table._isGutterStartColumnEnabled()){const e=this._table._getTableGutterWidth("start");n+=e,o+=e}if(this._table._isGutterEndColumnEnabled()){const e=this._table._getTableGutterWidth("end");n+=e,o+=e}var s,a=0,r=[];this._appliedColumnWidths=[];var l=[];for(s=0;s<i;s++){var _=this._getPixelStyleEquivalent(t[s].width);null!=_?(l[s]=_,o+=_):(this._columnInitWidths[s]>0?(_=this._columnMinWidths[s],a+=this._columnWeights[s]):_=0,l[s]=!1),r[s]=_,n+=_}if(o<e)for(var u=!0;u;){var h=a;u=!1;var d=e-o;for(s=0;s<i;s++)if(!1===l[s]&&r[s]>0){var c=this._columnWeights[s],p=Math.floor(c/h*d),S=this._columnMinWidths[s],g=this._columnMaxWidths[s];if(null!=S&&p<S){l[s]=S,o+=S,a-=c,r[s]=S,u=!0;break}if(null!=g&&p>g){l[s]=g,o+=g,a-=c,r[s]=g,u=!0;break}r[s]=p,h-=c,d-=p}n=e}for(s=0;s<i;s++){var m=r[s],f=this._table._getTableCol(s);null!=f&&(f.style[D.CSS_PROP._WIDTH]=m+D.CSS_VAL._PX,0===m&&(f.style[D.CSS_PROP._DISPLAY]=D.CSS_VAL._NONE)),this._appliedColumnWidths[s]=m}return n},B.prototype._getMinWidthAutoEquivalent=function(){return 100},D.prototype._createContextInfo=function(){var e=document.createElement(D.DOM_ELEMENT._DIV);if(e.id=this.createSubId("context"),e.classList.add(D.CSS_CLASSES._TABLE_ACC_CONTEXT_INFO_CLASS),e.classList.add(D.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),!T.isIos()){var t=document.createElement(D.DOM_ELEMENT._DIV);t.id=this.createSubId("tableContext"),t.classList.add(D.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),e.appendChild(t);var i=document.createElement(D.DOM_ELEMENT._DIV);i.id=this.createSubId("rowContext"),i.classList.add(D.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),e.appendChild(i);var n=document.createElement(D.DOM_ELEMENT._DIV);n.id=this.createSubId("columnContext"),n.classList.add(D.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),e.appendChild(n);var o=document.createElement(D.DOM_ELEMENT._DIV);o.id=this.createSubId("selectorContext"),o.classList.add(D.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),o.textContent=this.getTranslatedString(D._BUNDLE_KEY._LABEL_SELECT_ROW),e.appendChild(o),this._tableContextInfo=t,this._rowContextInfo=i,this._columnContextInfo=n,this._selectorContextInfo=o}return this._getTableContainer().appendChild(e),e},D.prototype._createStateInfo=function(){var e=document.createElement(D.DOM_ELEMENT._DIV);return e.id=this.createSubId("state"),e.classList.add(D.CSS_CLASSES._TABLE_ACC_STATE_INFO_CLASS),e.classList.add(D.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),this._getTableContainer().appendChild(e),this._stateInfo=e,e},D.prototype._createRowStateInfo=function(){var e=document.createElement(D.DOM_ELEMENT._DIV);return e.id=this.createSubId("rowState"),e.classList.add(D.CSS_CLASSES._TABLE_ACC_ROW_STATE_INFO_CLASS),e.classList.add(D.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),this._getTableContainer().appendChild(e),this._rowStateInfo=e,e},D.prototype._createTableStatusAccNotification=function(){var e=this._getTableContainer(),t=document.createElement(D.DOM_ELEMENT._DIV);return t.setAttribute(D.DOM_ATTR._ROLE,"status"),t.classList.add(D.CSS_CLASSES._TABLE_STATUS_ACC_NOTIFICATION_CLASS),t.classList.add(D.CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),e.appendChild(t),this._cacheDomElement(D.CSS_CLASSES._TABLE_STATUS_ACC_NOTIFICATION_CLASS,t),this._accStatus=t,t},D.prototype._setAccessibleContext=function(e){var t="";null!=e&&(t=e.context+" "+e.state),this._accRowContext=t},D.prototype._getAccessibleContext=function(){return this._accRowContext},D.prototype._clearAccessibleContext=function(){this._accRowContext=null},D.prototype._updateAccStatusInfo=function(e){var t,i,n="",o="";if(null!=this._active&&this._hasFocus()&&!T.isIos()){if(!1!==this._accFirstFocus){var s=this._getColumnDefs().length;this._isDefaultSelectorEnabled()&&(s+=1);var a,r=this._getTableBodyRows().length;a=0===r?"accessibleSummaryExact":"accessibleSummaryEstimate";var l=this.getTranslatedString(a,{colnum:s,rownum:r});this._isTableEditMode()&&(l+=" "+this.getTranslatedString("accessibleEditableSummary")),this._tableContextInfo.textContent=l,n+=this._tableContextInfo.id+" "+this._getTableContainer().id+" "}var _=this._getActiveType(),u=this._active.index;if(_===D.ACTIVE_ELEMENT_TYPES._HEADER){if(this._accRowIndex=null,this._accColumnIndex=null,this._columnContextInfo.textContent=this.getTranslatedString("accessibleColumnHeaderContext",{index:this._isDefaultSelectorEnabled()?u+2:u+1}),n+=this._columnContextInfo.id+" ",-1===u)i=this._getTableSelectorColumn();else{var h=!1;i=this._getTableHeaderColumn(u);var d=this._getSelectedHeaderColumnIdxs();for(t=0;t<d.length;t++)if(d[t]===u){o+=this.getTranslatedString("accessibleStateSelected")+" ",h=!0;break}!h&&this._isColumnSelectionEnabled()&&(o+=this.getTranslatedString("accessibleStateUnselected")+" ");var p=this._getColumnDefs()[u],S=c(i).data("sorted");null!=S?S===D._COLUMN_SORT_ORDER._ASCENDING?o+=this.getTranslatedString("accessibleSortAscending",{id:""})+" ":o+=this.getTranslatedString("accessibleSortDescending",{id:""})+" ":p.sortable===D._OPTION_ENABLED&&(o+=this.getTranslatedString("accessibleSortable",{id:""})+" ")}T.getActionableElementsInNode(i).length>0&&(o+=this.getTranslatedString("accessibleContainsControls")),n+=i.id+" "}else if(_===D.ACTIVE_ELEMENT_TYPES._FOOTER){var g;if(this._accRowIndex=null,this._accColumnIndex=null,this._columnContextInfo.textContent=this.getTranslatedString("accessibleColumnFooterContext",{index:this._isDefaultSelectorEnabled()?u+2:u+1}),n+=this._columnContextInfo.id+" ",-1===u)g=this._getTableFooterSelectorCell();else{var m=!1;g=this._getTableFooterCell(u);var f=this._getSelectedFooterColumnIdxs();for(t=0;t<f.length;t++)if(f[t]===u){o+=this.getTranslatedString("accessibleStateSelected")+" ",m=!0;break}!m&&this._isColumnSelectionEnabled()&&(o+=this.getTranslatedString("accessibleStateUnselected")+" ")}T.getActionableElementsInNode(g).length>0&&(o+=this.getTranslatedString("accessibleContainsControls")),null!=(i=this._getTableHeaderColumn(u))&&(n+=i.id+" "),n+=g.id+" "}else if(_===D.ACTIVE_ELEMENT_TYPES._DATA_ROW){var E,C=null!=e?e:this._accColumnIndex;null==C&&(C=0);var y=this._getTableBodyRow(u);if(E=-1===C?this._getTableBodySelectorCell(y):this._getTableBodyLogicalCells(null,y)[C],u!==this._accRowIndex||!1!==this._accFirstFocus){var b=this._isAddNewRowEnabled()?2:1;this._rowContextInfo.textContent=this.getTranslatedString("accessibleRowContext",{index:u+b});var A="",v=!1;null!=this._accRowContext&&(A+=this._accRowContext+" ");var R=this._getSelectedRowIdxs();for(t=0;t<R.length;t++)if(R[t]===u){A+=this.getTranslatedString("accessibleStateSelected")+" ",v=!0;break}!v&&this._isRowSelectionEnabled()&&y[D._DATA_OJ_SELECTABLE]!==D._CONST_OFF&&(A+=this.getTranslatedString("accessibleStateUnselected")+" "),T.getActionableElementsInNode(y).length>0&&(A+=this.getTranslatedString("accessibleContainsControls")+" "),this._rowStateInfo.textContent=A,n+=this._rowContextInfo.id+(-1===C?" ":" "+this._getRowHeaderIds(y,E)+" ")+this._rowStateInfo.id+" "}if(C===this._accColumnIndex&&!1===this._accFirstFocus||(this._columnContextInfo.textContent=this.getTranslatedString("accessibleColumnContext",{index:this._isDefaultSelectorEnabled()?C+2:C+1}),n+=this._columnContextInfo.id+" "),-1===C)null!=E&&(n+=this._getAccSelectorString(y)+" ");else{null!=(i=this._getTableHeaderColumn(C))&&(n+=i.id+" "+E.id+" ");var L=E.colSpan;L>1&&(o+=this.getTranslatedString("accessibleColumnsSpan",{count:L}))}this._accRowIndex=u,this._accColumnIndex=C}else if(_===D.ACTIVE_ELEMENT_TYPES._NO_DATA){this._accRowIndex=null,this._accColumnIndex=null,n+=this._getNoDataId()+" ";var O=this._getActiveElement();T.getActionableElementsInNode(O).length>0&&(o+=this.getTranslatedString("accessibleContainsControls"))}else if(_===D.ACTIVE_ELEMENT_TYPES._ADD_ROW){this._accRowIndex=null,this._accColumnIndex=null,this._rowContextInfo.textContent=this.getTranslatedString("accessibleRowContext",{index:1}),this._rowStateInfo.textContent=this.getTranslatedString("accessibleAddRow");var I=this._getActiveElement();T.getActionableElementsInNode(I).length>0&&(o+=this.getTranslatedString("accessibleContainsControls")),n+=this._rowContextInfo.id+" "+this._rowStateInfo.id+" "}this._stateInfo.textContent=o,n+=this._stateInfo.id,this._applyAccStatusLabel(n)}},D.prototype._announceAccSelectionUpdate=function(e){var t;t=e?this.getTranslatedString("accessibleStateSelected"):this.getTranslatedString("accessibleStateUnselected"),this._stateInfo.textContent=t,this._applyAccStatusLabel(this._stateInfo.id)},D.prototype._getAccSelectorString=function(e){return this._selectorContextInfo.id+" "+this._getRowHeaderIds(e)},D.prototype._clearAccStatusInfo=function(){this._getTable().setAttribute(D.DOM_ATTR._ARIA_LABELLEDBY,"")},D.prototype._applyAccStatusLabel=function(e){!1!==this._accFirstFocus?this._accFirstFocus=!1:this._accActionFocus&&(this._accActionFocus=!1),this._getTable().setAttribute(D.DOM_ATTR._ARIA_LABELLEDBY,e)},D.prototype._getRowHeaderIds=function(e,t){var i,n="",o=this.options.accessibility;if(null!=o&&null!=o.rowHeader){var s=o.rowHeader;Array.isArray(s)||(s=[s]);for(var a=this._getColumnDefs(),r=0;r<s.length;r++)for(var l=s[r],_=0;_<a.length;_++)if(l===a[_].id){null!=(i=this._getTableBodyLogicalCells(null,e)[_])&&i!==t&&(n+=i.id+" ");break}}else null!=(i=this._getTableBodyCell(null,0,e))&&i!==t&&(n+=i.id+" ");return n},D.prototype._getVoiceOverCellLabelledby=function(e,t){var i="",n=this._getTableHeaderColumn(t);return null!=n&&(i+=n.id+" "),i+(e.id+" ")},D.prototype._getNoDataId=function(){var e=this._getTableBodyMessageRow();if(null!=e)return e.id;var t=this._getTableNoDataRow();return null!=t?t.id:""},D.prototype._cleanAccStatus=function(){this._accFirstFocus=!0,this._accActionFocus=!1,this._getTable().removeAttribute(D.DOM_ATTR._ARIA_LABELLEDBY)},D.prototype._getData=function(){if(!this._data&&null!=this.options.data){var e=this.options.data;if(d.TableDataSource&&e instanceof d.TableDataSource||this._isPagingModelTableDataSource())this._data=new d.TableDataSourceAdapter(e);else{if(!d.DataProviderFeatureChecker.isDataProvider(e)){var t=D._LOGGER_MSG._ERR_DATA_INVALID_TYPE_SUMMARY,i=D._LOGGER_MSG._ERR_DATA_INVALID_TYPE_DETAIL;throw new Error(t+"\n"+i)}e instanceof u||d.DataProviderFeatureChecker.isTreeDataProvider(e)?this._data=e:this._data=new u(e)}this._dataOption=this.options.data,this._registerDataSourceEventListeners()}return this._data},D.prototype._isPagingModelTableDataSource=function(){return!!(d.PagingTableDataSource&&this.options.data instanceof d.PagingTableDataSource)},D.prototype._registerDataSourceEventListeners=function(){var e=this._getData();if(null!=e){this._unregisterDataSourceEventListeners(),this._dataProviderEventHandlers=[],this._dataProviderEventHandlers.push({eventType:"mutate",eventHandler:this._handleDataRowMutate.bind(this)}),this._dataProviderEventHandlers.push({eventType:"refresh",eventHandler:this._handleDataRefresh.bind(this)});for(var t=this._dataProviderEventHandlers.length,i=0;i<t;i++){var n=e.addEventListener(this._dataProviderEventHandlers[i].eventType,this._dataProviderEventHandlers[i].eventHandler);n&&(this._dataProviderEventHandlers[i].eventHandler=n)}}},D.prototype._unregisterDataSourceEventListeners=function(){var e=this._getData();if(null!=this._dataProviderEventHandlers&&null!=e)for(var t=this._dataProviderEventHandlers.length,i=0;i<t;i++)e.removeEventListener(this._dataProviderEventHandlers[i].eventType,this._dataProviderEventHandlers[i].eventHandler)},D.prototype._handleDataRefresh=function(e){try{if(this._hasRefreshInQueue)return;if(this._dataFetching)return this._controller&&this._controller.abort(),this._pendingFetchStale=!0,void(this._pendingFetchOptions=null);e.detail&&void 0!==e.detail.disregardAfterKey?this._queueTask(function(){this._getLayoutManager().notifyTableUpdate(D._UPDATE._ROWS_REMOVED),this._clearActiveRow(null,!0),this._removeRowsAfterLastValidRow(e.detail.disregardAfterKey),this._hasMoreToFetch()||this._registerDomScroller(),this._animateOnFetch=!0}.bind(this)):(this._hasRefreshInQueue=!0,this._queueTask(function(){return this._getLayoutManager().notifyTableUpdate(D._UPDATE._DATA_REFRESH),this._clearActiveRow(null,!0),this._beforeDataRefresh(),this._invokeDataFetchRows()}.bind(this)))}catch(e){S.error(e)}},D.prototype._beforeDataRefresh=function(e){this._clearIdleCallback(),this._adjustScrollPositionOnFetch(e),this._invalidateRangeSelection(),null!=this._lastSelectedRowIdxArray&&(this._lastSelectedRowIdxArray=[]),this._hasEditableRow()&&this._setTableEditable(!1,!0),this._initialSelectionStateValidated=!1},D.prototype._removeRowsAfterLastValidRow=function(e){this._getCurrentScrollPosition().y>0&&this._bufferScrollerForLastRow(e);var t=this._getRowIdxForRowKey(e);if(t>=0){this._hasEditableRow()&&this._getEditableRowIdx()>t&&this._setTableEditable(!1,!0);for(var i=this._getTableBodyRows().length-1;i>t;i--)this._removeTableBodyRow(i)}},D.prototype._bufferScrollerForLastRow=function(e){var t=this._getLayoutManager();if(null!=e){var i=this._getRowIdxForRowKey(e);if(null!=i){var n=this._getTableBodyRow(i),o=t.getVerticalOverflowDiff(n).bottom;o<0&&(this._createTableBodyScrollBuffer().style[D.CSS_PROP._HEIGHT]=Math.abs(o)+1+D.CSS_VAL._PX)}}else this._createTableBodyScrollBuffer().style[D.CSS_PROP._HEIGHT]=this._getTableBody().offsetHeight+D.CSS_VAL._PX},D.prototype._handleDataRowMutate=function(e){if(this._dataFetching)return this._controller&&this._controller.abort(),void(this._pendingFetchStale=!0);null!=e.detail.remove&&this._handleDataRowRemove(e.detail.remove,e.detail.add),null!=e.detail.add&&this._handleDataRowAdd(e.detail.add),null!=e.detail.update&&this._handleDataRowChange(e.detail.update)},D.prototype._handleDataRowRemove=function(e,t){try{this._executeTableBodyRowsRemove(e,t)}catch(e){S.error(e)}finally{this._clearDataWaitingState()}},D.prototype._executeTableBodyRowsRemove=function(e,t){var i=this,n=e[D._CONST_KEYS];n&&n.size>0&&this._queueTask((function(){var n=i._getRowsFromEventDetailRemove(e);if(0!==n.length){i._getLayoutManager().notifyTableUpdate(D._UPDATE._ROWS_REMOVED),n.sort((function(e,t){return t.rowIdx-e.rowIdx}));var o,s,a,r=[],l=[],_=[],u=n.length,h=!1,d=i._getTableBodyRows();if(d.length>0){for(a=0;a<d.length;a++)r.push(a);for(a=0;a<u;a++){s=n[a].rowIdx,l.push(s);for(var c=0;c<r.length;c++)if(r[c]===s){o=i._getTableBodyRow(s),_.push(o),r.splice(c,1);break}}0===r.length&&(h=!0)}var p=i._getTableBody(),S=p.contains(document.activeElement),g=!1;if(h)S&&(g=!0),i._clearSelectionState();else for(a=0;a<u;a++)if(s=n[a].rowIdx,o=i._getTableBodyRow(s),S&&null!=o&&o.contains(document.activeElement)){g=!0;break}if(i._hasEditableRow()){var m=i._getEditableRowKey();T.containsKey([...e[D._CONST_KEYS]],m)&&i._setTableEditable(!1,!0)}return h?(i._removeAllTableBodyRows(),C()):new Promise((function(e){return i._IsCustomElement()?i._animateVisibleRows(_,l,"remove").then((function(){return f(),C().then((function(){e(!0)}))})):(f(),C().then((function(){e(!0)})))}))}function f(){var e,t;if(i._getCurrentScrollPosition().y>0){var o,s,a,r,l=0,_=[];for(e=0;e<u;e++)t=n[e].rowIdx,null!=(o=i._getTableBodyRow(t))&&(l+=o.offsetHeight,_.push(o));if(i._isStickyRowsEnabled())for(e=(r=i._getTableBodyStickyRows()).length-1;e>=0;e--)if((a=r[e]).classList.contains(D.CSS_CLASSES._TABLE_STUCK_ROW_CLASS)){s=a;break}for(i._createTableBodyScrollBuffer().style[D.CSS_PROP._HEIGHT]=l+D.CSS_VAL._PX,e=0;e<_.length;e++)if(o=_[e],i._removeTableBodyRow(null,o),null!=s){var h=r.indexOf(o);-1!==h&&r.splice(h,1)}if(null!=s)for(e=r.length-1;e>=0;e--)if(a=r[e],i._getLayoutManager().getVerticalOverflowDiff(a).top>0){s!==a&&i._scrollRowIntoViewport(null,!0,s);break}}else for(e=0;e<u;e++)t=n[e].rowIdx,i._removeTableBodyRow(t)}function E(){i._syncActiveElement(),g&&i._getTable().focus()}function C(){return!0!==e.transient&&i._updateSelectionStateFromEventDetailRemove(e,t),i._refreshTableFooter(),0===(d=i._getTableBodyRows()).length?(i._showNoDataMessage(),i._finalizeNonBodyRowRendering([p]).then((function(){E()}))):Promise.resolve().then((function(){E()}))}i._updateSelectionStateFromEventDetailRemove(e,t)}))},D.prototype._getRowsFromEventDetailRemove=function(e){var t=[];return e[D._CONST_KEYS].forEach(function(e){var i=this._getRowIdxForRowKey(e);if(void 0!==i){var n={key:e,index:i};t.push({row:n,rowIdx:i})}}.bind(this)),t},D.prototype._handleDataRowAdd=function(e){try{this._executeTableBodyRowsAdd(e)}catch(e){S.error(e)}finally{this._clearDataWaitingState()}},D.prototype._executeTableBodyRowsAdd=function(e){var t=e[D._CONST_KEYS];t&&t.size>0&&this._queueTask(function(){var t=this._getRowsFromEventDetailAdd(e);if(0!==t.length){this._getLayoutManager().notifyTableUpdate(D._UPDATE._ROWS_ADDED);var i,n,o=!0,s=[],a=[],r=[],l=[],_=this._getTableBody(),u=t.length;for(i=0;i<u;i++)i>0&&t[i-1].rowIdx!==t[i].rowIdx-1&&(o=!1),a.push(t[i].rowIdx);if(o){for(n=document.createDocumentFragment(),i=0;i<u;i++)s.push(this._renderRow(t[i],n,t[0].rowIdx));r.push(n),l.push(t[0].rowIdx)}else for(i=0;i<u;i++){var h=t[i].rowIdx;n=document.createDocumentFragment(),s.push(this._renderRow(t[i],n,h)),r.push(n),l.push(h)}return this._refreshTableFooter().then(function(){return Promise.all(s).then(function(e){for(this._hideNoDataMessage(),i=0;i<r.length;i++)this._handleRowAdds(_,r[i],l[i]),this._clearCachedDomRowData();return 0===this._scrollTop&&(1===t.length&&0===t[0].rowIdx||-1!==a.indexOf(0))&&delete(null==this.options.scrollPosition?{}:this.options.scrollPosition).rowKey,this._requiresDomScrollerRefresh&&this._registerDomScroller(),this._IsCustomElement()?this._animateVisibleRows(e,a,"add").then(function(){return this._syncActiveElement(),this._afterRowsRendered(_)}.bind(this)):(this._syncActiveElement(),this._afterRowsRendered(_))}.bind(this))}.bind(this),(function(e){return Promise.reject(e)}))}this._requiresDomScrollerRefresh&&this._registerDomScroller()}.bind(this))},D.prototype._getRowsFromEventDetailAdd=function(e){var t=[],i=this._getData(),n=!this._isLoadMoreOnScroll()||T.isIterateAfterDoneNotAllowed(i),o=this._getLocalRowKeys(),s=o.length;if(!n&&0===s)return this._notifyAddOutOfViewport(),t;var a=T.getAddEventKeysResult(o,e,n),r=e[D._CONST_DATA],l=e[D._CONST_METADATA],_=[];e[D._CONST_KEYS].forEach((function(e){_.push(e)})),r instanceof Array||(r=[r]);var u=r.length;l instanceof Array||(l=[l]);var h,c=0;this._isPagingModelDataProvider()&&(c=i.getStartItemIndex()),i instanceof d.TableDataSourceAdapter&&(d.FlattenedTreeTableDataSource&&i.tableDataSource instanceof d.FlattenedTreeTableDataSource?h=i.tableDataSource:this._isPagingModelTableDataSource()&&d.FlattenedTreeTableDataSource&&i.tableDataSource.dataSource instanceof d.FlattenedTreeTableDataSource&&(h=i.tableDataSource.dataSource)),n||s+u===a.length||this._notifyAddOutOfViewport();for(var p=0;p<u;p++){var S=_[p],g=a.indexOf(S);if(-1!==g&&-1===o.indexOf(S)){var m;m=h&&h._getMetadata?h._getMetadata(g):l[p];var f={data:r[p],metadata:m,key:S,index:g+c};t.push({row:f,rowIdx:g})}}return t},D.prototype._handleRowAdds=function(e,t,i){this._getLayoutManager().handleAfterRowsProcessed(t);var n=this._getTableBodyRow(i);null!=n?e.insertBefore(t,n):this._appendElementToTableBody(t,e)},D.prototype._notifyAddOutOfViewport=function(){this._noMoreData&&(this._animateOnFetch=!0,this._requiresDomScrollerRefresh=!0),this._noMoreData=!1},D.prototype._handleDataRowChange=function(e){try{this._executeTableBodyRowsChange(e)}catch(e){S.error(e)}finally{this._clearDataWaitingState()}},D.prototype._executeTableBodyRowsChange=function(e){this._queueTask(function(){var t;this._updateSelectionStateFromEventDetailChange(e);var i=this._getRowsFromEventDetailChange(e);if(0!==i.length){this._getLayoutManager().notifyTableUpdate(D._UPDATE._ROW_REFRESH);var n=i.length,o=[],s=!1,a=[];for(t=0;t<n;t++){var r=i[t],l=this._getTableBodyRow(r.rowIdx);null!=l&&l!==document.activeElement&&l.contains(document.activeElement)&&(s=!0),l&&this._setTableBodyRowAttributes(i[t].row,l),a.push(this._refreshTableBodyRow(r.rowIdx,r.row,null,null,null,!0)),o.push(r.rowIdx)}return this._refreshTableFooter().then(function(){return Promise.all(a).then(function(e){return s&&this._getTable().focus(),this._IsCustomElement()?this._animateVisibleRows(e,o,"update").then(function(){return this._finalizeBodyRowRendering(e)}.bind(this)):this._finalizeBodyRowRendering(e)}.bind(this))}.bind(this),(function(e){return Promise.reject(e)}))}}.bind(this))},D.prototype._getRowsFromEventDetailChange=function(e){var t=e[D._CONST_DATA],i=e[D._CONST_METADATA],n=[];e[D._CONST_KEYS].forEach((function(e){n.push(e)})),t instanceof Array||(t=[t]),i instanceof Array||(i=[i]);for(var o=[],s=t.length,a=0;a<s;a++){var r=this._getRowIdxForRowKey(n[a]);if(void 0!==r){var l={data:t[a],key:n[a],index:r,metadata:i[a]};o.push({row:l,rowIdx:r})}}return o},D.prototype._clearCachedDom=function(){this._clearCachedDomRowData(),this._clearDomCache()},D.prototype._clearCachedDomRowData=function(){this._cachedDomTableBodyRows=null,this._cachedDomTableBodyStickyRows=null},D.prototype._clearCachedStyling=function(){this._isGutterStartColumnEnabledCache=null,this._isGutterEndColumnEnabledCache=null},D.prototype._createContextMenuContainer=function(){var e=this._GetContextMenu(),t=!(this._isStickyLayoutEnabled()||!this._isTouchDevice())&&this._getRowSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE;return!e&&(this._isTableSortable()||t||this._isTableColumnsResizable())&&(this._IsCustomElement()?(e=document.createElement("oj-menu")).setAttribute(D._DATA_OJ_BINDING_PROVIDER,"none"):(e=document.createElement(D.DOM_ELEMENT._UL),c(e).ojMenu()),e.style[D.CSS_PROP._DISPLAY]=D.CSS_VAL._NONE,e.setAttribute(D.DOM_ATTR._ID,this._getTableUID()+"_contextmenu"),this._getTableContainer().appendChild(e),this.option("contextMenu","#"+e.getAttribute(D.DOM_ATTR._ID),{_context:{internalSet:!0}}),this._defaultContextMenu=e),e},D.prototype._populateContextMenuItems=function(e,t){var i=!!this._isTouchDevice()&&this._getRowSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE;if(!this._menuContainer)if(this._GetDefaultContextMenu()){if("redwood"===E.parseJSONFromFontFamily("oj-theme-json").behavior){if(this._isTableColumnsResizable()){let t=this._createContextMenuItem("resize",this._IsCustomElement());if(e.appendChild(t),this._isTableSortable()){let t=document.createElement(this._IsCustomElement()?"oj-option":"li");e.appendChild(t)}}if(this._isTableSortable()){let t=this._createContextMenuItem("sortAsc",this._IsCustomElement());e.appendChild(t);let i=this._createContextMenuItem("sortDsc",this._IsCustomElement());e.appendChild(i)}}else{if(this._isTableSortable()){let t=this._createContextMenuItem("sort",this._IsCustomElement());e.appendChild(t)}if(i){let t=this._createContextMenuItem("enableNonContiguousSelection",this._IsCustomElement());e.appendChild(t)}if(this._isTableColumnsResizable()){let t=this._createContextMenuItem("resize",this._IsCustomElement());e.appendChild(t)}}this._menuContainer=e,this._IsCustomElement()?(e.refresh(),e.addEventListener("ojAction",t)):(c(e).ojMenu("refresh"),c(e).on("ojselect",t))}else{var n=e.querySelectorAll("[data-oj-command]");if(n.length>0){var o,s,a;for(s=0;s<n.length;s++)"OJ-OPTION"!==n[s].tagName&&0!==n[s].getElementsByTagName(D.DOM_ELEMENT._A).length||(o=n[s].getAttribute(D._DATA_OJ_COMMAND).split("-"),a=this._createContextMenuItem(o[o.length-1],this._IsCustomElement()),"OJ-OPTION"===n[s].tagName?n[s].innerHTML=a.innerHTML:c(n[s]).replaceWith(a));this._menuContainer=e,c(e).data("oj-ojMenu")&&(this._IsCustomElement()?e.refresh():c(e).ojMenu("refresh")),this._IsCustomElement()?e.addEventListener("ojAction",t):c(e).on("ojselect",t)}}return e},D.prototype._createContextMenuItem=function(e,t){if("sort"===e){var i,n=this._createContextMenuListItem(e,t);return i=this._IsCustomElement()?document.createElement("oj-menu"):document.createElement(D.DOM_ELEMENT._UL),n.appendChild(i),i.appendChild(this._createContextMenuListItem("sortAsc",t)),i.appendChild(this._createContextMenuListItem("sortDsc",t)),n}return"sortAsc"===e||"sortDsc"===e||"enableNonContiguousSelection"===e||"disableNonContiguousSelection"===e?this._createContextMenuListItem(e,t):"resize"===e?("redwood"===E.parseJSONFromFontFamily("oj-theme-json").behavior?this._createContextMenuResizeDialog(0):this._createContextMenuResizePopup(0),this._createContextMenuListItem(e,t)):null},D.prototype._createContextMenuListItem=function(e,t){var i=document.createElement(t?"oj-option":"li");return i.setAttribute(D._DATA_OJ_COMMAND,"oj-table-"+e),i.appendChild(this._createContextMenuLabel(e,t)),i},D.prototype._createContextMenuLabel=function(e,t){var i=null;"sort"===e?i=this.getTranslatedString("labelSort"):"sortAsc"===e?i=this.getTranslatedString("labelSortAsc"):"sortDsc"===e?i=this.getTranslatedString("labelSortDsc"):"enableNonContiguousSelection"===e?i=this.getTranslatedString("labelEnableNonContiguousSelection"):"disableNonContiguousSelection"===e?i=this.getTranslatedString("labelDisableNonContiguousSelection"):"resize"===e&&(i=this.getTranslatedString("labelResizeColumn"));var n=document.createTextNode(i);if(t)return n;var o=document.createElement(D.DOM_ELEMENT._A);return o.setAttribute(D.DOM_ATTR._HREF,"#"),o.appendChild(n),o},D.prototype._createContextMenuResizePopup=function(e){e=Math.round(e);var t,i,n,o,s,a,r,l,_,u=this._getTableContainer(),h=this._getContextMenuResizePopup(),d=this._getTableUID(),p=this.getTranslatedString("labelResizePopupSpinner");function S(){h.setAttribute("id",d+"_resize_popup"),h.setAttribute(D._DATA_OJ_BINDING_PROVIDER,"none"),u.appendChild(h),n=document.createElement(D.DOM_ELEMENT._DIV),o=document.createElement(D.DOM_ELEMENT._DIV),(s=document.createElement(D.DOM_ELEMENT._DIV)).classList.add(D.CSS_CLASSES._TEXT_ALIGN_END),h.appendChild(n),h.appendChild(o),h.appendChild(s),(l=document.createElement("h6")).textContent=p,n.appendChild(l)}return this._IsCustomElement()?null==h?(h=document.createElement("oj-popup"),S(),(t=document.createElement("oj-input-number")).setAttribute("id",d+"_resize_popup_spinner"),(a=document.createElement("oj-button")).setAttribute("id",d+"_resize_popup_popupcancel"),a.style.margin="5px",a.textContent=this.getTranslatedString("labelResizePopupCancel"),(r=document.createElement("oj-button")).setAttribute("id",d+"_resize_popup_popupsubmit"),r.style.margin="5px",r.textContent=this.getTranslatedString("labelResizePopupSubmit"),o.appendChild(t),s.appendChild(r),s.appendChild(a),i=function(){t.value=0,h.close()},a.addEventListener("click",i),r.addEventListener("click",this._handleContextMenuResizePopup.bind(this)),t.min=10,t.step=1,t.value=e,t.displayOptions={messages:["notewindow"]},t.userAssistanceDensity="compact",t.validators=[new L({pattern:D._VALIDATOR_PATTERN,messageDetail:this.getTranslatedString("msgColumnResizeWidthValidation")})],_={my:D._POSITION._START_TOP,at:D._POSITION._START_BOTTOM,collision:"flipfit"},h.setAttribute("position",JSON.stringify(_)),h.setAttribute("modality","modal"),this._cacheDomElement(d+"_resize_popup",h)):(t=document.getElementById(d+"_resize_popup_spinner")).value=e:null==h?(h=document.createElement(D.DOM_ELEMENT._DIV),S(),(t=document.createElement(D.DOM_ELEMENT._INPUT)).setAttribute("id",d+"_resize_popup_spinner"),(a=document.createElement(D.DOM_ELEMENT._BUTTON)).setAttribute("id",d+"_resize_popup_popupcancel"),a.style.margin="5px",(r=document.createElement(D.DOM_ELEMENT._BUTTON)).setAttribute("id",d+"_resize_popup_popupsubmit"),r.style.margin="5px",o.appendChild(t),s.appendChild(r),s.appendChild(a),c(r).ojButton({component:"ojButton",label:this.getTranslatedString("labelResizePopupSubmit")}),c(a).ojButton({component:"ojButton",label:this.getTranslatedString("labelResizePopupCancel")}),i=function(){c(t).ojInputNumber({value:0}),c(h).ojPopup("close")},c(r).on("click",this._handleContextMenuResizePopup.bind(this)),c(a).on("click",i),c(t).ojInputNumber({component:"ojInputNumber",min:10,step:1,value:e,displayOptions:{messages:["notewindow"]},userAssistanceDensity:"compact",validators:[new L({pattern:D._VALIDATOR_PATTERN,messageDetail:this.getTranslatedString("msgColumnResizeWidthValidation")})]}),c(h).ojPopup({modality:"modal",position:{my:D._POSITION._START_TOP,at:D._POSITION._START_BOTTOM,collision:"flipfit"}}),this._cacheDomElement(d+"_resize_popup",h)):(t=document.getElementById(d+"_resize_popup_spinner"),c(t).ojInputNumber("option","value",e)),h},D.prototype._createContextMenuResizeDialog=function(e){e=Math.round(e);let t=this._getTableContainer(),i=this._getContextMenuResizeDialog(),n=this._getTableUID();if(this._IsCustomElement())if(null==i){i=document.createElement("oj-dialog"),i.setAttribute("id",n+"_resize_dialog"),i.setAttribute(D._DATA_OJ_BINDING_PROVIDER,"none"),i.setAttribute("dialog-title",this.getTranslatedString("labelResizeColumnDialog")),t.appendChild(i);let o=document.createElement("div");o.setAttribute("slot","body");let s=document.createElement("oj-input-number");s.setAttribute("id",n+"_resize_column_width_input"),s.labelHint=this.getTranslatedString("labelColumnWidth"),s.min=10,s.step=1,s.value=e,s.displayOptions={messages:["notewindow"]},s.userAssistanceDensity="compact",s.validators=[new L({pattern:D._VALIDATOR_PATTERN,messageDetail:this.getTranslatedString("msgColumnResizeWidthValidation")})],o.appendChild(s);let a=document.createElement("div");a.setAttribute("slot","footer");let r=document.createElement("oj-button");r.setAttribute("id",n+"_resize_dialog_dialogcancel"),r.textContent=this.getTranslatedString("labelResizePopupCancel");let l=document.createElement("oj-button");l.setAttribute("id",n+"_resize_dialog_dialogapply"),l.chroming="callToAction",l.textContent=this.getTranslatedString("labelResizeDialogApply"),a.appendChild(r),a.appendChild(l),"phone"===m.getDeviceRenderMode()&&(i.classList.add(D.CSS_CLASSES._TABLE_RESIZE_DIALOG_MOBILE_CLASS),l.classList.add(D.CSS_CLASSES._BUTTON_SMALL_CLASS,D.CSS_CLASSES._SMALL_6_CLASS,D.CSS_CLASSES._SMALL_HOR_MARGIN_CLASS),r.classList.add(D.CSS_CLASSES._BUTTON_SMALL_CLASS,D.CSS_CLASSES._SMALL_6_CLASS,D.CSS_CLASSES._SMALL_HOR_MARGIN_CLASS),a.classList.add("oj-sm-justify-content-center")),i.appendChild(o),i.appendChild(a);let _=function(){s.value=0,i.close()};r.addEventListener("click",_),l.addEventListener("click",this._handleContextMenuResizePopup.bind(this)),i.setAttribute("modality","modal"),this._cacheDomElement(n+"_resize_dialog",i)}else document.getElementById(n+"_resize_column_width_input").value=e;else if(null==i){i=document.createElement(D.DOM_ELEMENT._DIV),i.setAttribute("id",n+"_resize_dialog"),i.setAttribute(D._DATA_OJ_BINDING_PROVIDER,"none"),"phone"===m.getDeviceRenderMode()&&i.classList.add(D.CSS_CLASSES._TABLE_RESIZE_DIALOG_MOBILE_CLASS),t.appendChild(i);let o=document.createElement("div");o.setAttribute("slot","body"),i.appendChild(o);let s=document.createElement(D.DOM_ELEMENT._INPUT);s.setAttribute("id",n+"_resize_column_width_input");let a=document.createElement(D.DOM_ELEMENT._BUTTON);a.setAttribute("id",n+"_resize_dialog_dialogcancel");let r=document.createElement(D.DOM_ELEMENT._BUTTON);r.setAttribute("id",n+"_resize_dialog_dialogapply");let l=document.createElement("div");l.setAttribute("slot","footer"),i.appendChild(l),o.appendChild(s),l.appendChild(r),l.appendChild(a),c(r).ojButton({component:"ojButton",chroming:"callToAction",label:this.getTranslatedString("labelResizeDialogApply")}),c(a).ojButton({component:"ojButton",label:this.getTranslatedString("labelResizePopupCancel")});let _=function(){c(s).ojInputNumber({value:0}),c(i).ojDialog("close")};c(r).on("click",this._handleContextMenuResizePopup.bind(this)),c(a).on("click",_),c(s).ojInputNumber({component:"ojInputNumber",labelHint:this.getTranslatedString("labelColumnWidth"),min:10,step:1,value:e,displayOptions:{messages:["notewindow"]},userAssistanceDensity:"compact",validators:[new L({pattern:D._VALIDATOR_PATTERN,messageDetail:this.getTranslatedString("msgColumnResizeWidthValidation")})]}),c(i).ojDialog({dialogTitle:this.getTranslatedString("labelResizeColumnDialog"),modality:"modal"}),"phone"===m.getDeviceRenderMode()&&(i.classList.add(D.CSS_CLASSES._TABLE_RESIZE_DIALOG_MOBILE_CLASS),r.classList.add(D.CSS_CLASSES._BUTTON_SMALL_CLASS,D.CSS_CLASSES._SMALL_6_CLASS,D.CSS_CLASSES._SMALL_HOR_MARGIN_CLASS),a.classList.add(D.CSS_CLASSES._BUTTON_SMALL_CLASS,D.CSS_CLASSES._SMALL_6_CLASS,D.CSS_CLASSES._SMALL_HOR_MARGIN_CLASS),l.classList.add("oj-sm-justify-content-center")),this._cacheDomElement(n+"_resize_dialog",i)}else{let t=document.getElementById(n+"_resize_column_width_input");c(t).ojInputNumber("option","value",e)}return i},D.prototype._createInitialTable=function(e,t){var i=this._getTable();return this._createTableContainer(),this._isStickyLayoutEnabled()&&(this._createTableScroller(),this._createTableColGroup()),e||this._createTableHeader(),this._createTableBody(),t||this._createTableFooter(),this._isStickyLayoutEnabled()||(this._createTableBodyLegacyWidthBuffer(),this._createTableLegacySizer()),this._createTableStatusMessage(),this._createTableStatusAccNotification(),this._createContextInfo(),this._createStateInfo(),this._createRowStateInfo(),this._createTableWidthContainer(),i},D.prototype._createTableBody=function(){var e=this._getTable(),t=document.createElement(D.DOM_ELEMENT._TBODY);return t.style[D.CSS_PROP._VISIBILITY]=D.CSS_VAL._HIDDEN,e.appendChild(t),this._cacheDomElement(D.CSS_CLASSES._TABLE_BODY_CLASS,t),t},D.prototype._createTableBodyScrollBuffer=function(){var e=this._getTableBodyScrollBuffer();return null==e&&((e=this._createTableBodyRow()).classList.add(D.CSS_CLASSES._TABLE_BUFFER_ROW_CLASS),this._getTableBody().appendChild(e),this._clearDomCache(D.CSS_CLASSES._TABLE_BUFFER_ROW_CLASS)),e},D.prototype._createTableBodyLegacyWidthBuffer=function(){var e=this._createTableBodyRow();return e.classList.add(D.CSS_CLASSES._TABLE_LEGACY_WIDTH_BUFFER_ROW_CLASS),this._getTableBody().appendChild(e),e},D.prototype._createTableLegacySizer=function(){var e=document.createElement(D.DOM_ELEMENT._DIV);return e.classList.add(D.CSS_CLASSES._TABLE_LEGACY_SIZER_CLASS),this._getTableContainer().appendChild(e),this._cacheDomElement(D.CSS_CLASSES._TABLE_LEGACY_SIZER_CLASS,e),e},D.prototype._appendElementToTableBody=function(e,t){var i=this._getTableBodyScrollBuffer();null!=i?t.insertBefore(e,i):t.appendChild(e)},D.prototype._createTableBodyCell=function(){return document.createElement(D.DOM_ELEMENT._TD)},D.prototype._createTableBodyDefaultSelector=function(e,t){var i=null;(i=document.createElement(D.DOM_ELEMENT._TD)).classList.add(D.CSS_CLASSES._TABLE_SELECTOR_CELL_CLASS),this._isStickyLayoutEnabled()&&i.classList.add(D.CSS_CLASSES._TABLE_FROZEN_START),this._isVerticalGridEnabled()&&i.classList.add(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS),i.setAttribute(D.DOM_ATTR._ID,this._getTableUID()+":select:"+e);var n,o=document.createElement("oj-selector");return o.id=this._getTableUID()+"_table_selector_"+e,this.options.selected.row.has(e)?o.selectedKeys=new R.KeySetImpl([e]):o.selectedKeys=new R.KeySetImpl,o.setAttribute(D._DATA_OJ_BINDING_PROVIDER,"none"),o.classList.add(D.CSS_CLASSES._TABLE_DATA_ROW_SELECTOR_CLASS),o.setAttribute("selection-mode","multiple"),o.rowKey=e,T.isIos()?(n=this.getTranslatedString(D._BUNDLE_KEY._LABEL_SELECT_ROW),o.setAttribute(D.DOM_ATTR._ARIA_LABEL,n)):(n=this._getAccSelectorString(t),o.setAttribute(D.DOM_ATTR._ARIA_LABELLEDBY,n)),o.addEventListener("selectedKeysChanged",this._selectedKeysChangedListener.bind(this)),i.appendChild(o),t.insertBefore(i,t.firstChild),i},D.prototype._createTableHeaderSelectorColumn=function(){var e=document.createElement(D.DOM_ELEMENT._TH);if(e.classList.add(D.CSS_CLASSES._COLUMN_HEADER_SELECTOR_CELL_CLASS),this._isStickyLayoutEnabled()&&e.classList.add(D.CSS_CLASSES._TABLE_FROZEN_START),this._isVerticalGridEnabled()&&e.classList.add(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS),e.setAttribute(D.DOM_ATTR._ID,this._getTableUID()+":selectAll"),this._isSelectAllControlVisible()){var t=document.createElement("oj-selector");t.selectedKeys=this.options.selected.row,t.setAttribute(D._DATA_OJ_BINDING_PROVIDER,"none"),t.classList.add(D.CSS_CLASSES._TABLE_HEADER_SELECTOR_CLASS),t.setAttribute("selection-mode","all"),t.setAttribute(D.DOM_ATTR._ARIA_LABEL,this.getTranslatedString(D._BUNDLE_KEY._LABEL_SELECT_ALL_ROWS)),t.addEventListener("selectedKeysChanged",this._selectedKeysChangedListener.bind(this)),e.appendChild(t)}return e},D.prototype._createTableFooterSelectorCell=function(){var e=this._createTableFooterCell();return e.classList.add(D.CSS_CLASSES._TABLE_FOOTER_SELECTOR_CELL_CLASS),this._isStickyLayoutEnabled()&&e.classList.add(D.CSS_CLASSES._TABLE_FROZEN_START),this._isVerticalGridEnabled()&&e.classList.add(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS),e.setAttribute(D.DOM_ATTR._ID,this._getTableUID()+":footerSelector"),e},D.prototype._createTableBodyMessageCell=function(e,t,i){var n=document.createElement(D.DOM_ELEMENT._TD);return this._isGutterStartColumnEnabled()&&(t+=1),this._isGutterEndColumnEnabled()&&(t+=1),this._isDefaultSelectorEnabled()&&(t+=1),n.setAttribute(D.DOM_ATTR._COLSPAN,t),n.classList.add(D.CSS_CLASSES._TABLE_BODY_MESSAGE_CLASS),n.appendChild(document.createTextNode(i)),e.appendChild(n),n},D.prototype._createTableBodyMessageRow=function(e,t){var i=this._getTableBody(),n=document.createElement(D.DOM_ELEMENT._TR);if(n.id=this.createSubId("messageRow"),n.classList.add(D.CSS_CLASSES._TABLE_BODY_MESSAGE_ROW_CLASS),this._isGutterStartColumnEnabled()){let e=this._createTableGutterCell("body","start");n.appendChild(e)}if(this._createTableBodyMessageCell(n,e,t),this._isGutterEndColumnEnabled()){let e=this._createTableGutterCell("body","end");n.appendChild(e)}return this._appendElementToTableBody(n,i),n},D.prototype._createTableBodyRow=function(){var e=document.createElement(D.DOM_ELEMENT._TR);return e._ojReportBusy=this._getTableBody(),e},D.prototype._getTouchAffordanceGlassPane=function(){var e=this._getTableContainer(),t=this._getTableElementsByClassName(e,D.CSS_CLASSES._TABLE_TOUCH_AFFORDANCE_GLASS_PANE_CLASS);return t.length>0?t[0]:null},D.prototype._createTouchAffordanceGlassPane=function(){var e=this._getTouchAffordanceGlassPane();if(!e){var t=this._getTableContainer();(e=document.createElement(D.DOM_ELEMENT._DIV)).classList.add(D.CSS_CLASSES._TABLE_TOUCH_AFFORDANCE_GLASS_PANE_CLASS),t.appendChild(e),this._refreshTouchAffordanceGlassPanePosition()}return e},D.prototype._createTableBodyRowTouchSelectionAffordance=function(e){var t=this._createTouchAffordanceGlassPane(),i=this._getTableBodyRowTouchSelectionAffordanceTop();if(!i){(i=document.createElement(D.DOM_ELEMENT._DIV)).classList.add(D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOP_CLASS),i.classList.add(D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOUCH_AREA_CLASS);var n=document.createElement(D.DOM_ELEMENT._DIV);n.classList.add(D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOP_ICON_CLASS),n.setAttribute(D.DOM_ATTR._ROLE,"button"),n.setAttribute(D.DOM_ATTR._ARIA_LABEL,this.getTranslatedString("labelAccSelectionAffordanceTop")),i.appendChild(n),t.appendChild(i)}var o=this._getTableBodyRowTouchSelectionAffordanceBottom();if(!o){(o=document.createElement(D.DOM_ELEMENT._DIV)).classList.add(D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_BOTTOM_CLASS),o.classList.add(D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOUCH_AREA_CLASS);var s=document.createElement(D.DOM_ELEMENT._DIV);s.classList.add(D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_BOTTOM_ICON_CLASS),s.setAttribute(D.DOM_ATTR._ROLE,"button"),s.setAttribute(D.DOM_ATTR._ARIA_LABEL,this.getTranslatedString("labelAccSelectionAffordanceBottom")),o.appendChild(s),t.appendChild(o)}this._moveTableBodyRowTouchSelectionAffordanceTop(e),this._moveTableBodyRowTouchSelectionAffordanceBottom(e)},D.prototype._createTableBottomSlot=function(){var e=this._getTableContainer(),t=document.createElement(D.DOM_ELEMENT._DIV);return t.classList.add(D.CSS_CLASSES._TABLE_BOTTOM_SLOT_CLASS),e.appendChild(t),this._cacheDomElement(D.CSS_CLASSES._TABLE_BOTTOM_SLOT_CLASS,t),t},D.prototype._createTableContainer=function(){var e=this.OuterWrapper;return e||(e=document.createElement(D.DOM_ELEMENT._DIV),this.element[0].parentNode.replaceChild(e,this.element[0]),e.insertBefore(this.element[0],e.firstChild)),this._cacheDomElement(D.CSS_CLASSES._TABLE_CONTAINER_CLASS,e),e.classList.add(D.CSS_CLASSES._TABLE_CLASS),e.classList.add(D.CSS_CLASSES._TABLE_CONTAINER_CLASS),e.classList.add(D.MARKER_STYLE_CLASSES._WIDGET),e},D.prototype._createTableScroller=function(){var e=document.createElement(D.DOM_ELEMENT._DIV);return e.classList.add(D.CSS_CLASSES._TABLE_SCROLLER_CLASS),e.setAttribute(D.DOM_ATTR._TABINDEX,"-1"),this.element[0].parentNode.replaceChild(e,this.element[0]),e.insertBefore(this.element[0],e.firstChild),this._getLayoutManager().initializeDefaultScrollBarSize(e),e},D.prototype._createTableColGroup=function(){var e=document.createElement(D.DOM_ELEMENT._COLGROUP);e.classList.add(D.CSS_CLASSES._TABLE_COLGROUP_CLASS),this._cacheDomElement(D.CSS_CLASSES._TABLE_COLGROUP_CLASS,e);var t=this._getTableHeader();if(null!=t)return t.parentNode.insertBefore(e,t),e;var i=this._getTableBody();if(null!=i)return i.parentNode.insertBefore(e,i),e;var n=this._getTableFooter();return null!=n?(n.parentNode.insertBefore(e,n),e):(this._getTable().appendChild(e),e)},D.prototype._createTableFooter=function(){var e=this._getTable(),t=document.createElement(D.DOM_ELEMENT._TFOOT);t.style[D.CSS_PROP._VISIBILITY]=D.CSS_VAL._HIDDEN;var i=document.createElement(D.DOM_ELEMENT._TR);t.appendChild(i);var n=this._getTableBody();if(null!=n)n.parentNode.insertBefore(t,n.nextSibling);else{var o=this._getTableHeader();null!=o?o.parentNode.insertBefore(t,o.nextSibling):e.appendChild(t)}return this._cacheDomElement(D.CSS_CLASSES._TABLE_FOOTER_CLASS,t),t},D.prototype._createTableFooterCell=function(){return document.createElement(D.DOM_ELEMENT._TD)},D.prototype._createTableHeader=function(){var e=this._getTable(),t=document.createElement(D.DOM_ELEMENT._THEAD),i=document.createElement(D.DOM_ELEMENT._TR);t.appendChild(i);var n=this._getTableBody();if(null!=n)n.parentNode.insertBefore(t,n);else{var o=this._getTableFooter();null!=o?o.parentNode.insertBefore(t,o):e.appendChild(t)}return this._cacheDomElement(D.CSS_CLASSES._TABLE_HEADER_ROW_CLASS,i),this._cacheDomElement(D.CSS_CLASSES._TABLE_HEADER_CLASS,t),t},D.prototype._createTableHeaderColumn=function(e,t){var i=this._getColumnDefs()[e],n=document.createElement(D.DOM_ELEMENT._TH);this._styleTableHeaderColumn(e,n,!0),n.setAttribute("abbr",i.headerText),n.setAttribute(D.DOM_ATTR._TITLE,i.headerText),this._insertTableHeaderColumn(e,n);var o={columnIndex:e,headerContext:{component:this,parentElement:n}};return i.resizable===D._OPTION_ENABLED&&n.setAttribute("data-oj-resizable",D._OPTION_ENABLED),t?i.sortable===D._OPTION_ENABLED&&n.setAttribute("data-oj-sortable",D._OPTION_ENABLED):i.sortable===D._OPTION_ENABLED?(n.setAttribute("data-oj-sortable",D._OPTION_ENABLED),this._columnHeaderSortableIconRenderer(o)):this._columnHeaderDefaultRenderer(o),n},D.prototype._createTableSelectorCol=function(){var e=document.createElement(D.DOM_ELEMENT._COL);return e.classList.add(D.CSS_CLASSES._TABLE_COL_SELECTOR_CLASS),e},D.prototype._createTableCol=function(){var e=document.createElement(D.DOM_ELEMENT._COL);return e.classList.add(D.CSS_CLASSES._TABLE_COL_CLASS),e},D.prototype._createTableHeaderColumnDragImage=function(e){var t;if(1===e.length)(t=this._getTableHeaderColumn(e[0]).cloneNode(!0)).classList.remove(D.MARKER_STYLE_CLASSES._FOCUS),t.classList.remove(D.MARKER_STYLE_CLASSES._FOCUS_HIGHLIGHT),t.classList.remove(D.MARKER_STYLE_CLASSES._HOVER);else{(t=document.createElement("th")).classList.add("oj-table-column-header-cell");var i=document.createElement(D.DOM_ELEMENT._DIV);i.classList.add(D.CSS_CLASSES._COLUMN_HEADER_CLASS),t.appendChild(i);var n=document.createElement(D.DOM_ELEMENT._DIV);n.classList.add(D.CSS_CLASSES._COLUMN_HEADER_TEXT_CLASS),n.textContent=e.length+" Items",i.appendChild(n)}return t.classList.add(D.CSS_CLASSES._COLUMN_HEADER_DRAG_IMAGE),t.style[D.CSS_PROP._POSITION]=D.CSS_VAL._ABSOLUTE,t.style[D.CSS_PROP._TOP]="0",t.style[D.CSS_PROP._LEFT]="-999em",t.style[D.CSS_PROP._ZINDEX]="-999",document.body.appendChild(t),t},D.prototype.createSubId=function(e){return[this._getRootElement().id,e].join(":")},D.prototype._createTableStatusMessage=function(){var e=this._getTableContainer(),t=document.createElement(D.DOM_ELEMENT._DIV);if(t.classList.add(D.CSS_CLASSES._TABLE_STATUS_MESSAGE_CLASS),t.style[D.CSS_PROP._DISPLAY]=D.CSS_VAL._NONE,!this._isSkeletonSupport()){var i=document.createElement(D.DOM_ELEMENT._DIV);i.classList.add(D.CSS_CLASSES._ICON_CLASS),i.classList.add(D.CSS_CLASSES._TABLE_LOADING_ICON_CLASS),i.setAttribute(D.DOM_ATTR._ARIA_LABEL,this.getTranslatedString(D._BUNDLE_KEY._MSG_FETCHING_DATA)),t.appendChild(i)}return e.appendChild(t),this._cacheDomElement(D.CSS_CLASSES._TABLE_STATUS_MESSAGE_CLASS,t),t},D.prototype._createTableWidthContainer=function(){var e=this._getTableContainer(),t=document.createElement(D.DOM_ELEMENT._DIV);return t.classList.add(D.CSS_CLASSES._TABLE_WIDTH_CONTAINER_CLASS),e.appendChild(t),this._tableWidthContainer=t,t},D.prototype._displayDragOverIndicatorColumn=function(e,t){this._getLayoutManager().displayDragOverIndicatorColumn(e,t)},D.prototype._displayDragOverIndicatorRow=function(e,t,i,n){this._removeDragOverIndicatorRow();var o=document.createElement(D.DOM_ELEMENT._TR);o.classList.add(D.CSS_CLASSES._TABLE_DATA_ROW_DRAG_INDICATOR_CLASS),"line"===i?o.classList.add("oj-table-body-row-drop-target"):null!=t&&(c(o).height(parseInt(c(t).height(),10)),n&&this._rowsDragged.forEach(function(e){e.classList.add("oj-table-row-drag-source-hide"),e.classList.remove(D.MARKER_STYLE_CLASSES._SELECTED),this._updateRowStateCellsClass(null,e,{selected:!1})}.bind(this)));var s=document.createElement(D.DOM_ELEMENT._TD),a=this._getColumnDefs().length;this._isDefaultSelectorEnabled()&&(a+=1),this._isGutterStartColumnEnabled()&&(a+=1),this._isGutterEndColumnEnabled()&&(a+=1),s.setAttribute(D.DOM_ATTR._COLSPAN,a),o.appendChild(s);var r=this._getTableBodyRow(e);null!=r?r.parentNode.insertBefore(o,r):(0===this._getTableBodyRows().length&&this._hideNoDataMessage(),this._getTableBody().appendChild(o))},D.prototype._getContextMenuElement=function(){return this._menuContainer},D.prototype._getContextMenuResizePopup=function(){var e=this._getTableUID()+"_resize_popup";if(!this._isCachedDomElement(e)){var t=document.getElementById(e);this._cacheDomElement(e,t)}return this._getCachedDomElement(e)},D.prototype._getContextMenuResizeDialog=function(){let e=this._getTableUID()+"_resize_dialog";if(!this._isCachedDomElement(e)){let t=document.getElementById(e);this._cacheDomElement(e,t)}return this._getCachedDomElement(e)},D.prototype._getElementColumnIdx=function(e){var t=this._getFirstAncestor(e,"."+D.CSS_CLASSES._TABLE_DATA_CELL_CLASS,!0);if(null!=t)return c(t.parentNode).children("."+D.CSS_CLASSES._TABLE_DATA_CELL_CLASS).index(t);var i=this._getFirstAncestor(e,"."+D.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS,!0);if(null!=i)return c(i.parentNode).children("."+D.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS).index(i);var n=this._getFirstAncestor(e,"."+D.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS,!0);return null!=n?c(n.parentNode).children("."+D.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS).index(n):null},D.prototype._getElementRowIdx=function(e){var t=this._getFirstAncestor(e,"."+D.CSS_CLASSES._TABLE_DATA_ROW_CLASS,!0);if(null!=t){var i=this._getTableBodyRows(),n=c(i).index(t);return n>-1?n:null}return null},D.prototype._getFirstAncestor=function(e,t,i){var n;if(null==e)return null;if(T.isIE()&&!Element.prototype.matches?e.msMatchesSelector(t):e.matches(t))return i&&!this._isTableOwned(e)?this._getFirstAncestor(e.parentNode,t,i):e;if(n=c(e).parents(t),i){for(var o=0;o<n.length;o++)if(this._isTableOwned(n[o]))return n[o];return null}return n.length>0?n[0]:null},D.prototype._getElementScrollLeft=function(e){return Math.abs(e.scrollLeft)},D.prototype._getTable=function(){return this.element[0]},D.prototype._getTableBody=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_BODY_CLASS,!0)},D.prototype._getTableBodyScrollBuffer=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_BUFFER_ROW_CLASS)},D.prototype._getTableBodyLegacyWidthBuffer=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_LEGACY_WIDTH_BUFFER_ROW_CLASS)},D.prototype._getTableLegacySizer=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_LEGACY_SIZER_CLASS,!0)},D.prototype._getTableBodyCell=function(e,t,i){var n=this._getTableBodyCells(e,i);return n.length>t?n[t]:null},D.prototype._getTableBodyLogicalCells=function(e,t){var i=this._getTableBodyCells(e,t);return this._getColspanLogicalElements(i)},D.prototype._getTableBodyCells=function(e,t){var i=[];if(t||(t=this._getTableBodyRow(e)),null!=t)for(var n=t.children,o=0;o<n.length;o++)n[o].classList.contains(D.CSS_CLASSES._TABLE_DATA_CELL_CLASS)&&i.push(n[o]);return i},D.prototype._getTableBodyMessageCell=function(){var e=this._getTableBody();if(e){var t=this._getTableElementsByClassName(e,D.CSS_CLASSES._TABLE_BODY_MESSAGE_CLASS);if(t.length>0)return t[0]}return null},D.prototype._getTableBodyMessageRow=function(){var e=this._getTableBody();if(e){var t=this._getTableElementsByClassName(e,D.CSS_CLASSES._TABLE_BODY_MESSAGE_ROW_CLASS);if(t.length>0)return t[0]}return null},D.prototype._getTableNoDataRow=function(){var e=this._getTableBody();if(e){var t=this._getTableElementsByClassName(e,D.CSS_CLASSES._TABLE_NO_DATA_ROW_CLASS);if(t.length>0)return t[0]}return null},D.prototype._getRawTableBodyRow=function(e){var t=this._getTableBody();let i=this._isAddNewRowEnabled()?e+1:e;return this._isStickyLayoutEnabled()||(i+=1),t.children[i]},D.prototype._getTableBodyRow=function(e){var t=this._getTableBodyRows();return null!=e&&t.length>e?t[e]:null},D.prototype._getTableBodyRows=function(){if(!this._cachedDomTableBodyRows){var e=this._getTableBody();this._cachedDomTableBodyRows=null!=e?this._getTableElementsByClassName(e,D.CSS_CLASSES._TABLE_DATA_ROW_CLASS):[]}return this._cachedDomTableBodyRows},D.prototype._getTableBodyStickyRows=function(){if(!this._cachedDomTableBodyStickyRows){var e=this._getTableBody();this._cachedDomTableBodyStickyRows=null!=e?this._getTableElementsByClassName(e,D.CSS_CLASSES._TABLE_STICKY_ROW_CLASS):[]}return this._cachedDomTableBodyStickyRows},D.prototype._getTableTempSkeletonRow=function(){var e=this._getTableBody();return null!=e?this._getChildElementByClassName(e,D.CSS_CLASSES._TABLE_FETCH_SKELETON_ROW_CLASS):null},D.prototype._getTableBodyRowTouchSelectionAffordanceTop=function(){var e=this._getTableContainer(),t=this._getTableElementsByClassName(e,D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOP_CLASS);return t.length>0?t[0]:null},D.prototype._getTableBodyRowTouchSelectionAffordanceBottom=function(){var e=this._getTableContainer(),t=this._getTableElementsByClassName(e,D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_BOTTOM_CLASS);return t.length>0?t[0]:null},D.prototype._getTableBottomSlot=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_BOTTOM_SLOT_CLASS,!0)},D.prototype._getTableContainer=function(){if(!this._isCachedDomElement(D.CSS_CLASSES._TABLE_CONTAINER_CLASS)){var e=this.element[0].parentNode;e.classList.contains(D.CSS_CLASSES._TABLE_SCROLLER_CLASS)?this._cacheDomElement(D.CSS_CLASSES._TABLE_CONTAINER_CLASS,e.parentNode):this._cacheDomElement(D.CSS_CLASSES._TABLE_CONTAINER_CLASS,e)}return this._getCachedDomElement(D.CSS_CLASSES._TABLE_CONTAINER_CLASS)},D.prototype._getTableScroller=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_SCROLLER_CLASS,!0)},D.prototype._getTableFooter=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_FOOTER_CLASS,!0)},D.prototype._getTableFooterCell=function(e){var t=this._getTableFooterCells();return t.length>e?t[e]:null},D.prototype._getTableFooterCells=function(){var e=[],t=this._getTableFooterRow();if(null!=t)for(var i=t.children,n=0;n<i.length;n++)i[n].classList.contains(D.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS)&&e.push(i[n]);return e},D.prototype._getTableFooterLogicalCells=function(){return this._getColspanLogicalElements(this._getTableFooterCells())},D.prototype._getTableFooterRow=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_FOOTER_ROW_CLASS)},D.prototype._getTableHeader=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_HEADER_CLASS,!0)},D.prototype._getTableHeaderColumn=function(e){var t=this._getTableHeaderColumns();return t.length>e&&e>=0?t[e]:null},D.prototype._getTableCols=function(){var e=[],t=this._getTableColGroup();if(null!=t)for(var i=t.children,n=0;n<i.length;n++)i[n].classList.contains(D.CSS_CLASSES._TABLE_COL_CLASS)&&e.push(i[n]);return e},D.prototype._getTableCol=function(e){var t=this._getTableCols();return t.length>0?t[e]:null},D.prototype._getTableHeaderColumns=function(){var e=[],t=this._getTableHeaderRow();if(null!=t)for(var i=t.children,n=0;n<i.length;n++)i[n].classList.contains(D.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS)&&e.push(i[n]);return e},D.prototype._getTableHeaderLogicalColumns=function(){return this._getColspanLogicalElements(this._getTableHeaderColumns())},D.prototype._getTableHeaderRow=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_HEADER_ROW_CLASS)},D.prototype._getPlaceHolderRow=function(){return this._getTable().getElementsByClassName(D.CSS_CLASSES._TABLE_ADD_ROW_PLACEHOLDER_CLASS)[0]},D.prototype._getPlaceHolderRowCells=function(e){var t=[],i=null!=e?e:this._getPlaceHolderRow();if(null!=i)for(var n=i.children,o=0;o<n.length;o++)t.push(n[o]);return t},D.prototype._getPlaceHolderRowCell=function(e){var t=this._isDefaultSelectorEnabled()?e+1:e;this._isGutterStartColumnEnabled()&&(t+=1);var i=this._getPlaceHolderRowCells();return i.length>t&&t>=0?i[t]:null},D.prototype._getTableColGroup=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_COLGROUP_CLASS,!0)},D.prototype._getTableId=function(){if(!this._tableId){var e=this._IsCustomElement()?this._getTableContainer():this._getTable();this._tableId=e.getAttribute(D.DOM_ATTR._ID)}return this._tableId},D.prototype._getTableStatusMessage=function(){return this._getTableElementByClassName(D.CSS_CLASSES._TABLE_STATUS_MESSAGE_CLASS,!0)},D.prototype._getTableUID=function(){return this._tableUID||(null!=this._getTableId()?this._tableUID=this._getTableId():this._tableUID=A.ElementUtils.getUniqueId()+"_table"),this._tableUID},D.prototype._hashCode=function(e){if(null==e)return 0;"string"!==c.type(e)&&(e=e.toString());var t=0;if(0===e.length)return t;for(var i=e.length,n=0;n<i;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},D.prototype._insertTableBodyCell=function(e,t,i,n,o,s){if(this._setTableBodyCellAttributes(e,t,i,n),s)return o.appendChild(n),n;if(0===i)o.insertBefore(n,o.firstChild);else{var a=this._getTableElementsByClassName(o,D.CSS_CLASSES._TABLE_DATA_CELL_CLASS);if(a.length>=i){var r=a[i-1];r.parentNode.insertBefore(n,r.nextSibling)}else o.appendChild(n)}return n},D.prototype._insertTableBodyRow=function(e,t,i){if(null==i){var n=this._getTableBody(),o=this._getTableBodyRow(e);null!=o?n.insertBefore(t,o):this._appendElementToTableBody(t,n)}else i.appendChild(t);this._clearCachedDomRowData()},D.prototype._insertTableFooterCell=function(e,t){var i=this._getTableFooterRow(),n=this._getTableElementsByClassName(i,D.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS);if(this._setTableFooterColumnAttributes(e,t),0===e)i.insertBefore(t,i.firstChild);else if(i.length>=e){var o=n[e-1];o.parentNode.insertBefore(t,o.nextSibling)}else i.appendChild(t);return t},D.prototype._insertTableHeaderColumn=function(e,t){var i=this._getTableHeaderRow(),n=this._getTableHeaderColumns();this._setTableHeaderColumnAttributes(e,t);var o=this._getTableHeaderColumn(e);if(o)c(o).replaceWith(c(t));else if(0!==e&&n.length>=e){var s=n[e-1];s.parentNode.insertBefore(t,s.nextSibling)}else i.appendChild(t)},D.prototype._moveTableBodyRowTouchSelectionAffordanceTop=function(e){var t=this._getTableBodyRowTouchSelectionAffordanceTop();if(null!=t){null!=e?(c(t).data("rowIdx",e),c(t.children[0]).data("rowIdx",e)):e=c(t).data("rowIdx");var i=this._getLayoutManager().getScroller(),n=this._getTableBodyRow(e).getBoundingClientRect(),o=this._getTouchAffordanceGlassPane().getBoundingClientRect();t.style[D.CSS_PROP._TOP]=n.top-o.top-t.clientHeight/2+D.CSS_VAL._PX,t.style[D.CSS_PROP._LEFT]=i.clientWidth/2+D.CSS_VAL._PX}},D.prototype._moveTableBodyRowTouchSelectionAffordanceBottom=function(e){var t=this._getTableBodyRowTouchSelectionAffordanceBottom();if(null!=t){null!=e?(c(t).data("rowIdx",e),c(t.children[0]).data("rowIdx",e)):e=c(t).data("rowIdx");var i=this._getLayoutManager().getScroller(),n=this._getTableBodyRow(e).getBoundingClientRect(),o=this._getTouchAffordanceGlassPane().getBoundingClientRect();t.style[D.CSS_PROP._TOP]=n.top-o.top+n.height-t.clientHeight/2+D.CSS_VAL._PX,t.style[D.CSS_PROP._LEFT]=i.clientWidth/2+D.CSS_VAL._PX}},D.prototype._moveTableHeaderColumn=function(e,t,i){var n=[],o=[],s=[],a=[],r=null,l=null,_=!1;t===this._getColumnDefs().length&&(t-=1,_=!0);var u=this._getTableHeaderColumn(t),h=this._getTableFooterCell(t),d=this._getPlaceHolderRowCell(t);for(let t=0;t<e.length;t++){let i=e[t];n[t]=this._getTableHeaderColumn(i),o[t]=this._getTableFooterCell(i),this._isAddNewRowEnabled()&&(a[t]=this._getPlaceHolderRowCell(i))}for(let t=0;t<e.length;t++)null!=n[t]&&(l=n[t].getAttribute(D.DOM_ATTR._COLSPAN),null==u||null!=l&&1!==l||(_?(u.parentNode.insertBefore(n[t],u.nextSibling),u=n[t]):u.parentNode.insertBefore(n[t],u))),null!=o[t]&&(l=o[t].getAttribute(D.DOM_ATTR._COLSPAN),null==h||null!=l&&1!==l||(_?(h.parentNode.insertBefore(o[t],h.nextSibling),h=o[t]):h.parentNode.insertBefore(o[t],h))),null!=a[t]&&(l=a[t].getAttribute(D.DOM_ATTR._COLSPAN),null==d||null!=l&&1!==l||(_?(d.parentNode.insertBefore(a[t],d.nextSibling),d=a[t]):d.parentNode.insertBefore(a[t],d)));var p=this._getTableBodyRows();for(let i=0;i<p.length;i++){for(let t=0;t<e.length;t++)s[t]=this._getTableBodyCell(i,e[t],null);r=this._getTableBodyCell(i,t,null);for(let t=0;t<e.length;t++)null!=s[t]&&(l=s[t].getAttribute(D.DOM_ATTR._COLSPAN),null==r||null!=l&&1!==l||(_?(r.parentNode.insertBefore(s[t],r.nextSibling),r=s[t]):r.parentNode.insertBefore(s[t],r)))}var S=[],g=this.options.columns.length;for(let e=0;e<g;e++)S[e]=c.extend({},{},this.options.columns[e]);var m=_?t:t-1,f=[],E=[],C=[],T=e.reverse();if(!this._columnsDestMap){this._columnsDestMap=[];for(let e=0;e<S.length;e++)this._columnsDestMap[e]=e}return T.forEach(function(e){e<=m&&(m-=1),f.unshift(S.splice(e,1)[0]),E.unshift(this._columnDefArray.splice(e,1)[0]),C.unshift(this._columnsDestMap.splice(e,1)[0])}.bind(this)),S.splice(m+1,0,...f),this._columnDefArray.splice(m+1,0,...E),this._columnsDestMap.splice(m+1,0,...C),this.option("columns",S,{_context:{writeback:!0,originalEvent:i,internalSet:!0}}),this._queueTask(function(){this._getLayoutManager().notifyTableUpdate(D._UPDATE._COL_REORDER)}.bind(this)),this._columnsDestMap},D.prototype._refreshContextMenu=function(){var e=this._menuContainer;if(e)for(var t=e.querySelectorAll("[data-oj-command]"),i=0;i<t.length;i++){var n=c(t[i]).children(D.DOM_ELEMENT._A);if(0===n.length&&"OJ-OPTION"===t[i].tagName&&(n=c(t[i])),n.length>0){var o,s=t[i].getAttribute(D._DATA_OJ_COMMAND).split("-");"sort"===(s=s[s.length-1])?o=this.getTranslatedString("labelSort"):"sortAsc"===s?o=this.getTranslatedString("labelSortAsc"):"sortDsc"===s?o=this.getTranslatedString("labelSortDsc"):"resize"===s&&(o=this.getTranslatedString("labelResizeColumn")),n.contents().filter((function(){return 3===this.nodeType}))[0].nodeValue=o}}},D.prototype._removeDragOverIndicatorColumn=function(){this._getLayoutManager().removeDragOverIndicatorColumn()},D.prototype._removeDragOverIndicatorRow=function(){var e,t=this._getTableBody(),i=this._getTableElementsByClassName(t,D.CSS_CLASSES._TABLE_DATA_ROW_DRAG_INDICATOR_CLASS),n=i.length;for(e=0;e<n;e++)c(i[e]).remove();0===this._getTableBodyRows().length&&this._showNoDataMessage()},D.prototype._removeTableBodyRow=function(e,t){var i;null!=(i=null!=t?t:this._getTableBodyRow(e))&&(C.subtreeDetached(i),(this._hasCellTemplate||this._hasRowTemplate)&&this._cleanTemplateNodes(i),c(i).remove(),this._clearCachedDomRowData())},D.prototype._removeAllTableBodyRows=function(){var e=this._getTableBodyRows();if(e.length>0){var t=this._getTableBody();if(null!=t){C.subtreeDetached(t);for(var i=0;i<e.length;i++)(this._hasCellTemplate||this._hasRowTemplate)&&this._cleanTemplateNodes(e[i]),c(e[i]).remove();(this._hasCellTemplate||this._hasRowTemplate)&&(this._hasCellTemplate=!1,this._hasRowTemplate=!1,this._registerDomEventListeners())}this._clearCachedDomRowData()}},D.prototype._removeTableBodyRowTouchSelectionAffordance=function(){for(var e=this._getTableContainer(),t=this._getTableElementsByClassName(e,D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOUCH_AREA_CLASS),i=0;i<t.length;i++)c(t[i]).remove()},D.prototype._setTableBodyCellAttributes=function(e,t,i,n){var o=n.getAttribute(D.DOM_ATTR._ID);if(!(null!=o&&o.length>0)&&null!=this._getColumnDefs()[i]){var s=this._hashCode(t);null==s&&(s=this._hashCode(null!=t?t.toString():e.toString())),o=this._getTableUID()+":"+s+"_"+i,n.setAttribute(D.DOM_ATTR._ID,o)}},D.prototype._setTableBodyRowAttributes=function(e,t){t[D._ROW_ITEM_EXPANDO]=e},D.prototype._setTableHeaderColumnAttributes=function(e,t){var i=this._getColumnDefs()[e];t.getAttribute(D.DOM_ATTR._ID)||t.setAttribute(D.DOM_ATTR._ID,this._getTableUID()+":"+i.id)},D.prototype._setTableFooterColumnAttributes=function(e,t){var i=this._getColumnDefs()[e];t.getAttribute(D.DOM_ATTR._ID)||t.setAttribute(D.DOM_ATTR._ID,this._getTableUID()+":"+i.id+":ftr")},D.prototype._setTableColumnCellsClass=function(e,t,i){var n,o=this._getTableBodyRows();if(o.length>0)if(null===e){var s=null,a=this._getTableBody();if(null!=(s=t?this._getTableElementsByTagName(a,D.DOM_ELEMENT._TD):this._getTableElementsByClassName(a,i))&&s.length>0){var r=s.length;for(n=0;n<r;n++)t?s[n].classList.add(i):s[n].classList.remove(i)}}else{var l=o.length;for(n=0;n<l;n++){var _=this._getTableBodyCell(n,e,null);t?_.classList.add(i):_.classList.remove(i)}}},D.prototype._setTableBodyMessage=function(e){var t=this._getTableBodyMessageCell();c(t).empty(),t.appendChild(document.createTextNode(e))},D.prototype._styleInitialTable=function(){var e=this._getTable(),t=this._getTableElementsByTagName(e,D.DOM_ELEMENT._THEAD);t=t.length>0?t[0]:null;var i=this._getTableElementsByTagName(e,D.DOM_ELEMENT._TFOOT);i=i.length>0?i[0]:null;var n=this._getTableElementsByTagName(e,D.DOM_ELEMENT._TBODY);if(n=n.length>0?n[0]:null,-1!==parseInt(this._getRootElement().getAttribute(D.DOM_ATTR._TABINDEX),10))e.setAttribute(D.DOM_ATTR._TABINDEX,"0"),this._focusable({element:e,applyHighlight:!0,setupHandlers:this._focusSetupHandlers.bind(this)});else{e.setAttribute(D.DOM_ATTR._TABINDEX,"-1");var o=function(){};this._focusSetupHandlers(o,o)}e.setAttribute(D.DOM_ATTR._ARIA_LABELLEDBY,this._getTableContainer().id),this._styleTableHeader(t),this._styleTableFooter(i),this._styleTableBody(n),this._styleTableContainer(this._getTableContainer())},D.prototype._styleTableBody=function(e){e.classList.add(D.CSS_CLASSES._TABLE_BODY_CLASS),e.setAttribute(C._OJ_CONTAINER_ATTR,this.widgetName),e.setAttribute(g._OJ_CONTEXT_ATTRIBUTE,"")},D.prototype._styleTableBodyCell=function(e,t,i){var n=this._getColumnDefs()[e];!i&&t.classList.contains(D.CSS_CLASSES._TABLE_DATA_CELL_CLASS)||(t.classList.add(D.CSS_CLASSES._TABLE_DATA_CELL_CLASS),t.classList.add(D.CSS_CLASSES._TABLE_DATE_CELL_FORM_CONTROL_CLASS));var o=t.getAttribute(D.DOM_ATTR._STYLE)||{};if(null==n||null==n.style||!i&&o===n.style||T.applyMergedInlineStyles(t,o,n.style),null==n||null==n.className||!i&&c(t).hasClass(n.className)||c(t).addClass(n.className),!this._isVerticalGridEnabled()||!i&&t.classList.contains(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS)||t.classList.add(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS),this._isStickyLayoutEnabled()){var s=null!=n?n.frozenEdge:null;s===D._OPTION_FROZEN_EDGE._START?(t.classList.add(D.CSS_CLASSES._TABLE_FROZEN_START),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_END)):s===D._OPTION_FROZEN_EDGE._END?(t.classList.add(D.CSS_CLASSES._TABLE_FROZEN_END),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_START)):(t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_END),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_START))}},D.prototype._styleTableAddRowCell=function(e,t){var i=this._getColumnDefs()[e],n=null!=i?i.frozenEdge:null;n===D._OPTION_FROZEN_EDGE._START?(t.classList.add(D.CSS_CLASSES._TABLE_FROZEN_START),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_END)):n===D._OPTION_FROZEN_EDGE._END?(t.classList.add(D.CSS_CLASSES._TABLE_FROZEN_END),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_START)):(t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_END),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_START)),this._isVerticalGridEnabled()&&t.classList.add(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS)},D.prototype._styleTableBodyRow=function(e,t){!t&&e.classList.contains(D.CSS_CLASSES._TABLE_DATA_ROW_CLASS)||e.classList.add(D.CSS_CLASSES._TABLE_DATA_ROW_CLASS),this._invokeRowStickyCallback(e[D._ROW_ITEM_EXPANDO])===D._CONST_ON&&e.classList.add(D.CSS_CLASSES._TABLE_STICKY_ROW_CLASS)},D.prototype._styleTableContainer=function(e){this.options.display===D._OPTION_DISPLAY._GRID?e.classList.add(D.CSS_CLASSES._TABLE_COMPACT_CLASS):e.classList.remove(D.CSS_CLASSES._TABLE_COMPACT_CLASS);var t=this.options.editMode;if(null!=t&&t!==D._OPTION_EDIT_MODE._NONE?e.classList.add(D.CSS_CLASSES._TABLE_EDIT_CLASS):e.classList.remove(D.CSS_CLASSES._TABLE_EDIT_CLASS),this._isHorizontalGridEnabled()?e.classList.add(D.CSS_CLASSES._TABLE_HGRID_CLASS):e.classList.remove(D.CSS_CLASSES._TABLE_HGRID_CLASS),this._isStickyLayoutEnabled()?e.classList.add(D.CSS_CLASSES._TABLE_STICKY_CLASS):e.classList.remove(D.CSS_CLASSES._TABLE_STICKY_CLASS),this._isAddNewRowEnabled()?e.classList.add(D.CSS_CLASSES._TABLE_ADD_ROW_CLASS):e.classList.remove(D.CSS_CLASSES._TABLE_ADD_ROW_CLASS),this._isExternalScrollEnabled()){if(e.classList.add(D.CSS_CLASSES._TABLE_EXTERNAL_SCROLL_CLASS),!this._isTableHeaderless()){var i="0";null!=this.options.scrollPolicyOptions.scrollerOffsetTop&&(i=this.options.scrollPolicyOptions.scrollerOffsetTop),this._updateHeaderTop(i)}if(!this._isTableFooterless()){var n="0";null!=this.options.scrollPolicyOptions.scrollerOffsetBottom&&(n=this.options.scrollPolicyOptions.scrollerOffsetBottom),this._updateFooterBottom(n)}}else this._isStickyLayoutEnabled()&&(e.classList.remove(D.CSS_CLASSES._TABLE_EXTERNAL_SCROLL_CLASS),this._isTableHeaderless()||this._updateHeaderTop(""),this._isTableFooterless()||this._updateFooterBottom(""));this._getRowSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE?e.classList.add(D.CSS_CLASSES._TABLE_MULTI_ROW_SELECT_CLASS):e.classList.remove(D.CSS_CLASSES._TABLE_MULTI_ROW_SELECT_CLASS)},D.prototype._styleTableFooter=function(e){if(e){e.classList.add(D.CSS_CLASSES._TABLE_FOOTER_CLASS);var t=this._getTableElementsByTagName(e,D.DOM_ELEMENT._TR)[0];t.classList.add(D.CSS_CLASSES._TABLE_FOOTER_ROW_CLASS),t.setAttribute(g._OJ_CONTEXT_ATTRIBUTE,"")}},D.prototype._styleTableFooterCell=function(e,t){var i=this._getColumnDefs()[e],n=t.getAttribute(D.DOM_ATTR._STYLE)||{};null!=i.footerStyle&&n!==i.footerStyle&&T.applyMergedInlineStyles(t,n,i.footerStyle),t.classList.contains(D.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS)||t.classList.add(D.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS),this._isVerticalGridEnabled()&&!t.classList.contains(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS)&&t.classList.add(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS),i.footerClassName&&c(t).addClass(i.footerClassName),this._isStickyLayoutEnabled()&&(i.frozenEdge===D._OPTION_FROZEN_EDGE._START?(t.classList.add(D.CSS_CLASSES._TABLE_FROZEN_START),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_END)):i.frozenEdge===D._OPTION_FROZEN_EDGE._END?(t.classList.add(D.CSS_CLASSES._TABLE_FROZEN_END),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_START)):(t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_END),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_START)))},D.prototype._styleTableHeader=function(e){if(e){e.classList.add(D.CSS_CLASSES._TABLE_HEADER_CLASS),e.style[D.CSS_PROP._DISPLAY]="table-header-group";var t=this._getTableElementsByTagName(e,D.DOM_ELEMENT._TR)[0];t.classList.add(D.CSS_CLASSES._TABLE_HEADER_ROW_CLASS),t.style[D.CSS_PROP._POSITION]=D.CSS_VAL._RELATIVE,t.setAttribute(g._OJ_CONTEXT_ATTRIBUTE,"")}},D.prototype._styleTableHeaderColumn=function(e,t,i){var n=this._getColumnDefs()[e];!i&&t.classList.contains(D.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS)||t.classList.add(D.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS),n.sortable===D._OPTION_ENABLED&&t.classList.add(D.CSS_CLASSES._TABLE_SORT_CLASS),!0===n.showRequired&&this._isStickyLayoutEnabled()&&t.classList.add(D.CSS_CLASSES._TABLE_SHOW_REQUIRED_CLASS),this._isVerticalGridEnabled()&&(!i&&t.classList.contains(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS)||t.classList.add(D.CSS_CLASSES._TABLE_VGRID_LINES_CLASS));var o=t.getAttribute(D.DOM_ATTR._STYLE)||{};null==n.headerStyle||!i&&o===n.headerStyle||T.applyMergedInlineStyles(t,o,n.headerStyle),null==n.headerClassName||!i&&c(t).hasClass(n.headerClassName)||c(t).addClass(n.headerClassName),this._isStickyLayoutEnabled()&&(n.frozenEdge===D._OPTION_FROZEN_EDGE._START?(t.classList.add(D.CSS_CLASSES._TABLE_FROZEN_START),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_END)):n.frozenEdge===D._OPTION_FROZEN_EDGE._END?(t.classList.add(D.CSS_CLASSES._TABLE_FROZEN_END),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_START)):(t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_END),t.classList.remove(D.CSS_CLASSES._TABLE_FROZEN_START)))},D.prototype._getColspanLogicalElements=function(e){for(var t=0,i=[],n=e.length,o=0;o<n;o++){var s=e[o].getAttribute(D.DOM_ATTR._COLSPAN);if(null!=s){s=parseInt(s,10);for(var a=0;a<s;a++)i[t+a]=e[o];t+=s}else i[t]=e[o],t+=1}return i},D.prototype._isHorizontalGridEnabled=function(){if(this.options.horizontalGridVisible===D._OPTION_ENABLED)return!0;if(this.options.horizontalGridVisible===D._OPTION_AUTO){if(this.options.display===D._OPTION_DISPLAY._GRID)return!0;if("enabled"===this._getDefaultOptions().horizontalGridVisible)return!0}return!1},D.prototype._isSelectAllControlVisible=function(){return!(!this._isDefaultSelectorEnabled()||"hidden"===this.options.selectAllControl)},D.prototype._isVerticalGridEnabled=function(){return this.options.verticalGridVisible===D._OPTION_ENABLED||this.options.verticalGridVisible===D._OPTION_AUTO&&this.options.display===D._OPTION_DISPLAY._GRID},D.prototype._refreshTouchAffordanceGlassPanePosition=function(){var e=this._getTouchAffordanceGlassPane();if(e){var t=this._getLayoutManager().getScroller().getBoundingClientRect(),i=this._getTableContainer().getBoundingClientRect();e.style[D.CSS_PROP._TOP]=t.top-i.top+D.CSS_VAL._PX,e.style[D.CSS_PROP._BOTTOM]=t.bottom-i.bottom+D.CSS_VAL._PX,this._moveTableBodyRowTouchSelectionAffordanceTop(),this._moveTableBodyRowTouchSelectionAffordanceBottom()}},D.prototype._refreshTableStatusPosition=function(e){var t=this._getTableContainer(),i=t.clientHeight,n=this._getTableStatusMessage(),o=0,s=i,a=this._getTableHeader();if(null!=a){var r=a.offsetHeight;o=r,s-=r}var l=this._getTableFooter();null!=l&&(s-=l.offsetHeight);var _=this._getTableBottomSlot();if(null!=_&&(s-=_.offsetHeight),this._isSkeletonSupport()){var u=0,h=this._getDefaultSkeletonDimension();h.width>0&&h.height>0&&(u=Math.max(1,Math.ceil(s/h.height)));for(var d=0;d<u;d++)n.appendChild(this._createSkeletonRow());this._skeletonFadeInEndListener=function(){n.classList.remove(D.CSS_CLASSES._ANIMATION_SKELETON_FADE_IN_CLASS),n.querySelectorAll(".oj-table-skeleton").forEach((function(e){e.classList.add("oj-animation-skeleton")})),n.removeEventListener("animationend",this._skeletonFadeInEndListener)}.bind(this),n.addEventListener("animationend",this._skeletonFadeInEndListener),n.classList.add(D.CSS_CLASSES._ANIMATION_SKELETON_FADE_IN_CLASS)}else s<=40&&(o=0,s=i);if(n.style[D.CSS_PROP._TOP]=o+D.CSS_VAL._PX,n.style[D.CSS_PROP._HEIGHT]=s+D.CSS_VAL._PX,n.style[D.CSS_PROP._WIDTH]=t.clientWidth+D.CSS_VAL._PX,e&&(n.style[D.CSS_PROP._DISPLAY]=D.CSS_VAL._INLINE,this._statusMessageShown=!0),!this._isSkeletonSupport()){var c=n.children[0];c.style[D.CSS_PROP._TOP]=(s-c.offsetHeight)/2+D.CSS_VAL._PX}},D.prototype._createSkeletonRow=function(){var e=document.createElement("div");e.className=D.CSS_CLASSES._TABLE_SKELETON_CONTAINER_CLASS;var t=document.createElement("div");return t.className=D.CSS_CLASSES._TABLE_SKELETON_CLASS,e.appendChild(t),e},D.prototype._getDefaultSkeletonDimension=function(){if(null==this._defaultSkeletonDim){var e=this._getTableContainer(),t=this._createSkeletonRow();t.style.visibility="hidden",t.style.display="block",e.appendChild(t);var i={width:t.offsetWidth,height:t.offsetHeight};return e.removeChild(t),i.height>0&&i.width>0&&(this._defaultSkeletonDim=i),i}return this._defaultSkeletonDim},D.prototype._cacheDomElement=function(e,t){this._domCache||(this._domCache={}),this._domCache[e]=t},D.prototype._clearDomCache=function(e){e&&this._domCache?delete this._domCache[e]:this._domCache={}},D.prototype._getCachedDomElement=function(e){return this._domCache?this._domCache[e]:null},D.prototype._isCachedDomElement=function(e){return this._domCache||(this._domCache={}),-1!==Object.keys(this._domCache).indexOf(e)},D.prototype._getTableElementByClassName=function(e,t){if(!this._isCachedDomElement(e)){var i=this._getTableContainer();if(i)if(this._cacheDomElement(e,null),t){if(this._cacheDomElement(e,this._getChildElementByClassName(i,e)),null==this._getCachedDomElement(e)){var n=this._getTable();this._cacheDomElement(e,this._getChildElementByClassName(n,e))}}else{var o=this._getTableElementsByClassName(i,e);o.length>0&&this._cacheDomElement(e,o[0])}}return this._getCachedDomElement(e)},D.prototype._getChildElementByClassName=function(e,t){if(null!=e.childNodes&&e.childNodes.length>0)for(var i=0;i<e.childNodes.length;i++)if(null!=e.childNodes[i].classList&&e.childNodes[i].classList.contains(t))return e.childNodes[i];return null},D.prototype._getTableElementsByClassName=function(e,t,i){var n=e.getElementsByClassName(t);return this._filterTableOwnedElements(n,i?e:null)},D.prototype._getTableElementsByTagName=function(e,t,i){var n=e.getElementsByTagName(t);return this._filterTableOwnedElements(n,i?e:null)},D.prototype._tableQuerySelectorAll=function(e,t,i){var n=e.querySelectorAll(t);return this._filterTableOwnedElements(n,i?e:null)},D.prototype._filterTableOwnedElements=function(e,t){var i,n;if(t){i=t;for(var o=t.getElementsByTagName(D.DOM_ELEMENT._TABLE),s=0;s<o.length;s++)if(o[s].parentNode===t||o[s].parentNode.parentNode===t){n=o[s];break}}else i=this._getTableContainer(),n=this._getTable();return Array.prototype.filter.call(e,function(e){return this._isTableOwned(e,i,n)}.bind(this))},D.prototype._isTableOwned=function(e,t,i){var n=t||this._getTableContainer(),o=t?i:this._getTable();if(n){if(o){var s=this._getFirstAncestor(e,o.tagName);if(s===o)return!0;if(s)return!1}var a=this._getFirstAncestor(e,"."+D.CSS_CLASSES._TABLE_CONTAINER_CLASS);if(a===n)return!0;if(a)return!1;if(!n.contains(e))return!0}return!1},D.prototype._focusSetupHandlers=function(e,t){this._setFocusInHandler(e),this._setFocusOutHandler(t)},D.prototype._getSortIconContainer=function(e){return this._getTableElementsByClassName(e,D.CSS_CLASSES._TABLE_SORT_ICON_CONTAINER_CLASS)[0]},D.prototype._getSortIcon=function(e){var t=this._getSortIconContainer(e);return null!=t?t.firstChild:null},D.prototype._getTableBodySelectorCell=function(e){if(null!=e)for(var t=e.children,i=0;i<t.length;i++)if(t[i].classList.contains(D.CSS_CLASSES._TABLE_SELECTOR_CELL_CLASS))return t[i];return null},D.prototype._getTableSelectorColumn=function(){var e=this._getTableHeaderRow();if(null!=e)for(var t=e.children,i=0;i<t.length;i++)if(t[i].classList.contains(D.CSS_CLASSES._COLUMN_HEADER_SELECTOR_CELL_CLASS))return t[i];return null},D.prototype._getTableFooterSelectorCell=function(){var e=this._getTableFooterRow();if(null!=e)for(var t=e.children,i=0;i<t.length;i++)if(t[i].classList.contains(D.CSS_CLASSES._TABLE_FOOTER_SELECTOR_CELL_CLASS))return t[i];return null},D.prototype._isGutterStartColumnEnabled=function(){if(null==this._isGutterStartColumnEnabledCache)if(this.options.display!==D._OPTION_DISPLAY._GRID&&this._isStickyLayoutEnabled()){const e=this._getRootElement();this._isGutterStartColumnEnabledCache=window.getComputedStyle(e).getPropertyValue("--oj-core-gutter-start").length>0}else this._isGutterStartColumnEnabledCache=!1;return this._isGutterStartColumnEnabledCache},D.prototype._isGutterEndColumnEnabled=function(){if(null==this._isGutterEndColumnEnabledCache)if(this.options.display!==D._OPTION_DISPLAY._GRID&&this._isStickyLayoutEnabled()){const e=this._getRootElement();this._isGutterEndColumnEnabledCache=window.getComputedStyle(e).getPropertyValue("--oj-core-gutter-end").length>0}else this._isGutterEndColumnEnabledCache=!1;return this._isGutterEndColumnEnabledCache},D.prototype._getTableGutterWidth=function(e){let t="start"===e?this._gutterStartWidth:this._gutterEndWidth;if(null==t||0===t){let i=this._getTableGutterCell("header",e);if(null==i&&(i=this._getTableGutterCell("body",e,this._getTableBodyRow(0))),null==i)return 0;t=i.getBoundingClientRect().width,"start"===e?this._gutterStartWidth=t:this._gutterEndWidth=t}return t},D.prototype._createTableGutterCol=function(){let e=document.createElement(D.DOM_ELEMENT._COL);return e.classList.add(D.CSS_CLASSES._TABLE_COL_GUTTER_CLASS),e},D.prototype._createTableGutterCell=function(e,t){let i,n="header"===e?D.DOM_ELEMENT._TH:D.DOM_ELEMENT._TD,o=document.createElement(n);return i="header"===e?"start"===t?D.CSS_CLASSES._TABLE_GUTTER_START_HEADER_CELL:D.CSS_CLASSES._TABLE_GUTTER_END_HEADER_CELL:"footer"===e?"start"===t?D.CSS_CLASSES._TABLE_GUTTER_START_FOOTER_CELL:D.CSS_CLASSES._TABLE_GUTTER_END_FOOTER_CELL:"start"===t?D.CSS_CLASSES._TABLE_GUTTER_START_BODY_CELL:D.CSS_CLASSES._TABLE_GUTTER_END_BODY_CELL,o.classList.add(i),"start"===t?o.classList.add(D.CSS_CLASSES._TABLE_FROZEN_START):o.classList.add(D.CSS_CLASSES._TABLE_FROZEN_END),o},D.prototype._getTableGutterCell=function(e,t,i){let n;if("header"===e?(i=this._getTableHeaderRow(),n="start"===t?D.CSS_CLASSES._TABLE_GUTTER_START_HEADER_CELL:D.CSS_CLASSES._TABLE_GUTTER_END_HEADER_CELL):"footer"===e?(i=this._getTableFooterRow(),n="start"===t?D.CSS_CLASSES._TABLE_GUTTER_START_FOOTER_CELL:D.CSS_CLASSES._TABLE_GUTTER_END_FOOTER_CELL):n="start"===t?D.CSS_CLASSES._TABLE_GUTTER_START_BODY_CELL:D.CSS_CLASSES._TABLE_GUTTER_END_BODY_CELL,null!=i)for(var o=i.children,s=0;s<o.length;s++)if(o[s].classList.contains(n))return o[s];return null},D.CSS_CLASSES={_OPTION_DEFAULTS_CLASS:"oj-table-option-defaults",_TABLE_CONTAINER_CLASS:"oj-table-container",_TABLE_SCROLLER_CLASS:"oj-table-scroller",_TABLE_EXTERNAL_SCROLL_CLASS:"oj-table-external-scroll",_TABLE_CLASS:"oj-table",_TABLE_STICKY_CLASS:"oj-table-sticky",_TABLE_STRETCH_CLASS:"oj-table-stretch",_TABLE_COMPACT_CLASS:"oj-table-grid-display",_TABLE_HGRID_CLASS:"oj-table-horizontal-grid",_TABLE_EDIT_CLASS:"oj-table-editable",_TABLE_MULTI_ROW_SELECT_CLASS:"oj-table-multiple-row-selection",_TABLE_SCROLL_VERTICAL_CLASS:"oj-table-scroll-vertical",_TABLE_SCROLL_HORIZONTAL_CLASS:"oj-table-scroll-horizontal",_TABLE_SORT_CLASS:"oj-table-sort",_TABLE_SHOW_REQUIRED_CLASS:"oj-table-show-required",_TABLE_ELEMENT_CLASS:"oj-table-element",_TABLE_FOOTER_CLASS:"oj-table-footer",_TABLE_FOOTER_ROW_CLASS:"oj-table-footer-row",_TABLE_HEADER_CLASS:"oj-table-header",_TABLE_HEADER_ROW_CLASS:"oj-table-header-row",_TABLE_HEADER_SELECTOR_CLASS:"oj-table-header-selector",_TABLE_COLGROUP_CLASS:"oj-table-colgroup",_TABLE_COL_GUTTER_CLASS:"oj-table-gutter-col",_TABLE_COL_SELECTOR_CLASS:"oj-table-col-selector",_TABLE_COL_CLASS:"oj-table-col",_TABLE_BOTTOM_SLOT_CLASS:"oj-table-slot-bottom",_TABLE_SORT_ICON_CONTAINER_CLASS:"oj-table-sort-icon-container",_COLUMN_HEADER_CELL_CLASS:"oj-table-column-header-cell",_TABLE_HEADER_WRAP_TEXT_CLASS:"oj-table-header-cell-wrap-text",_COLUMN_HEADER_SELECTOR_CELL_CLASS:"oj-table-column-header-selector-cell",_COLUMN_HEADER_DROP_EMPTY_CELL_CLASS:"oj-table-column-header-drop-empty-cell",_COLUMN_HEADER_CLASS:"oj-table-column-header",_COLUMN_CUSTOM_HEADER_CLASS:"oj-table-custom-header",_COLUMN_HEADER_TEXT_CLASS:"oj-table-column-header-text",_COLUMN_HEADER_ASC_ICON_CLASS:"oj-table-column-header-asc-icon",_COLUMN_HEADER_DSC_ICON_CLASS:"oj-table-column-header-dsc-icon",_COLUMN_HEADER_SHOW_REQUIRED_ICON_CLASS:"oj-table-column-header-show-required-icon",_COLUMN_HEADER_DEFAULT_SORT_ICON_CLASS:"oj-table-column-header-default-sort-icon",_COLUMN_HEADER_DRAG_INDICATOR_BEFORE_CLASS:"oj-table-column-header-drag-indicator-before",_COLUMN_HEADER_DRAG_INDICATOR_AFTER_CLASS:"oj-table-column-header-drag-indicator-after",_COLUMN_HEADER_DRAG_IMAGE:"oj-table-column-header-cell-drag-image",_COLUMN_HEADER_RESIZING_CLASS:"oj-table-column-header-resizing",_COLUMN_HEADER_RESIZE_INDICATOR_CLASS:"oj-table-column-header-resize-indicator",_COLUMN_RESIZE_INDICATOR_CLASS:"oj-table-column-resize-indicator",_COLUMN_DROP_INDICATOR_CLASS:"oj-table-column-drop-indicator",_TABLE_BODY_CLASS:"oj-table-body",_TABLE_BUFFER_ROW_CLASS:"oj-table-body-scroll-buffer",_TABLE_LEGACY_WIDTH_BUFFER_ROW_CLASS:"oj-table-legacy-width-buffer",_TABLE_LEGACY_WIDTH_BUFFER_CELL_CLASS:"oj-table-legacy-width-buffer-cell",_TABLE_DATA_ROW_CLASS:"oj-table-body-row",_TABLE_STICKY_ROW_CLASS:"oj-table-sticky-row",_TABLE_STUCK_ROW_CLASS:"oj-table-stuck-row",_TABLE_DATA_ROW_DRAG_INDICATOR_CLASS:"oj-table-body-row-drag-indicator",_TABLE_TOUCH_AFFORDANCE_GLASS_PANE_CLASS:"oj-table-touch-affordance-glass-pane",_TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOP_CLASS:"oj-table-body-row-touch-selection-affordance-top",_TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_BOTTOM_CLASS:"oj-table-body-row-touch-selection-affordance-bottom",_TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOP_ICON_CLASS:"oj-table-body-row-touch-selection-affordance-top-icon",_TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_BOTTOM_ICON_CLASS:"oj-table-body-row-touch-selection-affordance-bottom-icon",_TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOUCH_AREA_CLASS:"oj-table-body-row-touch-selection-affordance-touch-area",_TABLE_DATA_ROW_EDIT_CLASS:"oj-table-body-row-edit",_TABLE_DATA_ROW_SELECTOR_CLASS:"oj-table-body-row-selector",_TABLE_SELECTOR_CELL_CLASS:"oj-table-selector-cell",_TABLE_DATA_CURRENT_ROW_CLASS:"oj-table-body-current-row",_TABLE_ACTIVE_ELEMENT_CLASS:"oj-table-active-element",_TABLE_DATA_CELL_CLASS:"oj-table-data-cell",_TABLE_DATA_CELL_EDIT_CLASS:"oj-table-data-cell-edit",_TABLE_DATE_CELL_FORM_CONTROL_CLASS:"oj-form-control-inherit",_TABLE_VGRID_LINES_CLASS:"oj-table-vgrid-lines",_TABLE_FOOTER_CELL_CLASS:"oj-table-footer-cell",_TABLE_FOOTER_SELECTOR_CELL_CLASS:"oj-table-footer-selector-cell",_TABLE_FOOTER_DROP_EMPTY_CELL_CLASS:"oj-table-footer-drop-empty-cell",_TABLE_STATUS_ACC_NOTIFICATION_CLASS:"oj-table-status-acc-notification",_TABLE_STATUS_MESSAGE_CLASS:"oj-table-status-message",_TABLE_STATUS_MESSAGE_TEXT_CLASS:"oj-table-status-message-text",_TABLE_ACC_CONTEXT_INFO_CLASS:"oj-table-acc-context-info",_TABLE_ACC_STATE_INFO_CLASS:"oj-table-acc-state-info",_TABLE_ACC_ROW_STATE_INFO_CLASS:"oj-table-acc-row-state-info",_TABLE_WIDTH_CONTAINER_CLASS:"oj-table-width-container",_TABLE_LOADING_ICON_CLASS:"oj-table-loading-icon",_TABLE_BODY_MESSAGE_CLASS:"oj-table-body-message",_TABLE_BODY_MESSAGE_ROW_CLASS:"oj-table-body-message-row",_TABLE_NO_DATA_CONTAINER_CLASS:"oj-table-no-data-container",_TABLE_NO_DATA_ROW_CLASS:"oj-table-no-data-row",_TABLE_FETCH_SKELETON_ROW_CLASS:"oj-table-fetch-skeleton-row",_TABLE_SKELETON_CELL_CLASS:"oj-table-skeleton-cell",_TABLE_SKELETON_CONTAINER_CLASS:"oj-table-skeleton-container",_TABLE_SKELETON_CLASS:"oj-table-skeleton",_TABLE_ADD_ROW_CLASS:"oj-table-add-row",_TABLE_ADD_ROW_PLACEHOLDER_CLASS:"oj-table-add-row-placeholder",_TABLE_HIDDEN_CELL_CLASS:"oj-table-hidden-cell",_TABLE_FROZEN_START:"oj-table-frozen-start",_TABLE_FROZEN_END:"oj-table-frozen-end",_TABLE_FROZEN_EDGE:"oj-table-frozen-edge",_TABLE_GUTTER_START_HEADER_CELL:"oj-table-gutter-start-header-cell",_TABLE_GUTTER_END_HEADER_CELL:"oj-table-gutter-end-header-cell",_TABLE_GUTTER_START_BODY_CELL:"oj-table-gutter-start-body-cell",_TABLE_GUTTER_END_BODY_CELL:"oj-table-gutter-end-body-cell",_TABLE_GUTTER_START_FOOTER_CELL:"oj-table-gutter-start-footer-cell",_TABLE_GUTTER_END_FOOTER_CELL:"oj-table-gutter-end-footer-cell",_TABLE_LEGACY_SIZER_CLASS:"oj-table-legacy-sizer",_TABLE_LEGACY_SCROLL_CLASS:"oj-table-legacy-scroll",_TABLE_RESIZE_DIALOG_MOBILE_CLASS:"oj-table-resize-dialog-mobile",_BUTTON_SMALL_CLASS:"oj-button-sm",_SMALL_HOR_MARGIN_CLASS:"oj-sm-margin-2x-horizontal",_SMALL_6_CLASS:"oj-sm-6",_ICON_CLASS:"oj-icon",_WIDGET_ICON_CLASS:"oj-component-icon",_HIDDEN_CONTENT_ACC_CLASS:"oj-helper-hidden-accessible",_TEXT_ALIGN_END:"oj-helper-text-align-end",_ANIMATION_SKELETON_FADE_IN_CLASS:"oj-animation-skeleton-fade-in"},D.CSS_PROP={_DISPLAY:"display",_VISIBILITY:"visibility",_POSITION:"position",_HEIGHT:"height",_WIDTH:"width",_TOP:"top",_BOTTOM:"bottom",_LEFT:"left",_RIGHT:"right",_PADDING_TOP:"padding-top",_PADDING_BOTTOM:"padding-bottom",_PADDING_LEFT:"padding-left",_PADDING_RIGHT:"padding-right",_OVERFLOW:"overflow",_OVERFLOW_X:"overflow-x",_OVERFLOW_Y:"overflow-y",_MIN_WIDTH:"min-width",_MAX_WIDTH:"max-width",_MIN_HEIGHT:"min-height",_FLOAT:"float",_BORDER_TOP:"border-top",_BORDER_TOP_WIDTH:"border-top-width",_BORDER_BOTTOM_WIDTH:"border-bottom-width",_BORDER_LEFT_WIDTH:"border-left-width",_BORDER_RIGHT_WIDTH:"border-right-width",_BORDER_COLOR:"border-color",_MARGIN_BOTTOM:"margin-bottom",_VERTICAL_ALIGN:"vertical-align",_CURSOR:"cursor",_ZINDEX:"z-index",_BACKGROUND_COLOR:"background-color",_BOX_SIZING:"box-sizing"},D.CSS_VAL={_NONE:"none",_BLOCK:"block",_INLINE_BLOCK:"inline-block",_RELATIVE:"relative",_ABSOLUTE:"absolute",_INLINE:"inline",_AUTO:"auto",_HIDDEN:"hidden",_SCROLL:"scroll",_VISIBLE:"visible",_LEFT:"left",_PX:"px",_MIDDLE:"middle",_MOVE:"move",_FIXED:"fixed",_TRANSPARENT:"transparent",_BORDER_BOX:"border-box",_COL_RESIZE:"col-resize"},D.DOM_ATTR={_STYLE:"style",_TABINDEX:"tabindex",_TYPE:"type",_ID:"id",_TITLE:"title",_HREF:"href",_COLSPAN:"colspan",_DRAGGABLE:"draggable",_ROLE:"role",_ARIA_LABEL:"aria-label",_ARIA_LABELLEDBY:"aria-labelledby",_ARIA_HIDDEN:"aria-hidden"},D.DOM_ELEMENT={_DIV:"div",_A:"a",_TR:"tr",_TD:"td",_TH:"th",_TABLE:"table",_TBODY:"tbody",_THEAD:"thead",_TFOOT:"tfoot",_INPUT:"input",_UL:"ul",_SPAN:"span",_BUTTON:"button",_LABEL:"label",_COLGROUP:"colgroup",_COL:"col"},D.MARKER_STYLE_CLASSES={_WIDGET:"oj-component",_ACTIVE:"oj-active",_CLICKABLE_ICON:"oj-clickable-icon-nocontext",_DISABLED:"oj-disabled",_ENABLED:"oj-enabled",_FOCUS:"oj-focus",_FOCUS_HIGHLIGHT:"oj-focus-highlight",_HOVER:"oj-hover",_SELECTED:"oj-selected",_DEFAULT:"oj-default",_WARNING:"oj-warning",_DRAGGABLE:"oj-draggable",_DRAG:"oj-drag",_HIDE_VERTICAL_SCROLLBAR:"oj-table-hide-vertical-scrollbar"},D.DEFAULT_ROW_HEIGHT_GUESS=50,D.prototype._clearOpenPopupListeners=function(){null!=this._openPopup&&(this._openPopup.removeEventListener("focusin",this._handlePopupFocusinListener),this._openPopup.removeEventListener("focusout",this._handlePopupFocusoutListener),this._openPopup=null),this._handlePopupFocusinListener=null,this._handlePopupFocusoutListener=null},D.prototype._handlePopupFocusout=function(e){this._handleFocusout(e,!0)},D.prototype._handlePopupFocusin=function(e){this._handleFocusin(e,!0)},D.prototype._handleFocusout=function(e,t){this._clearFocusoutTimeout();var i=this._getTable();if(!t){this._clearOpenPopupListeners();var n=O.getLogicalChildPopup(i);if(null!=n&&!n.classList.contains("oj-messaging-popup"))return this._openPopup=n,this._handlePopupFocusinListener=this._handlePopupFocusin.bind(this),this._handlePopupFocusoutListener=this._handlePopupFocusout.bind(this),n.addEventListener("focusin",this._handlePopupFocusinListener),void n.addEventListener("focusout",this._handlePopupFocusoutListener)}this._setFocusoutBusyState(),this._focusoutTimeout=setTimeout(function(){this._isTableTab=null,this._tempFFFocus=null,this._clearOpenPopupListeners(),this._focusOutHandler(c(i)),this._focusOutHandler(c(this._getTableContainer())),this._clearKeyboardKeys(),this._unhighlightActive(),this._getLayoutManager().handleFocusout(),this._setTableEditable(!1,!1,0,!0,e,!0),this._cleanAccStatus(),this._focusEditCell&&(this._focusEditCell.classList.remove(D.CSS_CLASSES._TABLE_DATA_CELL_EDIT_CLASS),this._focusEditCell=null),this._setTableActionableMode(!1,!0),this._clearFocusoutBusyState()}.bind(this),100)},D.prototype._handleFocusin=function(e,t){if(this._clearFocusoutTimeout(),this._clearFocusoutBusyState(),!t){this._clearOpenPopupListeners();var i=this._getTable(),n=this._getTableBody(),o=this._getTableContainer();if(this._focusInHandler(c(i)),this._focusInHandler(c(o)),e.target===n&&!this._tempFFFocus&&T.isFirefox())setTimeout((function(){i.focus()}),0);else if(c(i).has(e.target).length>0){var s=this._getActiveRowIndex(),a=this._getActiveHeaderIndex(),r=this._getPlaceHolderRow();if(null!=r&&c(r).has(e.target).length>0){if(this._setActiveAddRow(),O.isActionableElement(e.target)&&(this._setTableActionableMode(!0,!0),this._isTableTab)){var l=this._getPlaceHolderRowCells();for(let t=0;t<l.length;t++){const i=l[t];if(c(i).has(e.target).length>0){let e=t;this._isDefaultSelectorEnabled()&&(e-=1),this._isGutterStartColumnEnabled()&&(e-=1),this._scrollColumnIntoViewport(e,i);break}}}}else if(this._isTableEditMode())if(this._isNodeEditable(e.target)||this._isNodeClickable(e.target)||this._isTableActionableMode()||this._hasEditableRow()||this._tempFFFocus||null!=s||null!=a){if(this._isTableTab&&null!=s){var _=this._getTableBodyCells(s);for(let t=0;t<_.length;t++){const i=_[t];if(c(i).has(e.target).length>0){this._scrollColumnIntoViewport(t,i);break}}}}else setTimeout((function(){i.focus()}),0);else if(O.isActionableElement(e.target)){this._accActionFocus=!0;var u=this._getActiveObjectFromActionableChild(e.target);null!=u&&(u.type===D.ACTIVE_ELEMENT_TYPES._DATA_ROW?this._setActiveRow(u.index,e,!0,!0):u.type===D.ACTIVE_ELEMENT_TYPES._HEADER?this._setActiveHeader(u.index,e,!0):u.type===D.ACTIVE_ELEMENT_TYPES._FOOTER?this._setActiveFooter(u.index,e,!0):u.type===D.ACTIVE_ELEMENT_TYPES._NO_DATA?this._setActiveNoData():u.type===D.ACTIVE_ELEMENT_TYPES._ADD_ROW&&this._setActiveAddRow(),this._setTableActionableMode(!0,!0))}}else this._setTableActionableMode(!1,!0)}this._isTableTab=null},D.prototype._events={focusout:function(e){this._handleFocusout(e)},focus:function(e){this._isExternalScrollEnabled()&&(this._browserAutoScrollInitPos=this._getCurrentVerticalScrollPosition().y,this._browserAutoScrollTimeout=setTimeout(function(){this._browserAutoScrollInitPos=null}.bind(this),0)),this._syncActiveElement(e,!0)},focusin:function(e){this._handleFocusin(e)},"focus .oj-table-data-cell":function(e){var t=this._getEventTargetElement(e);this._getElementRowIdx(t)===this._getEditableRowIdx()&&(this._focusEditCell&&this._focusEditCell!==t&&this._focusEditCell.classList.contains(D.CSS_CLASSES._TABLE_DATA_CELL_EDIT_CLASS)&&this._focusEditCell.classList.remove(D.CSS_CLASSES._TABLE_DATA_CELL_EDIT_CLASS),t.classList.add(D.CSS_CLASSES._TABLE_DATA_CELL_EDIT_CLASS),this._focusEditCell=t)},keydown:function(e){var t=e.key||e.keyCode;this._addKeyboardKey(t);var i=this._getKeyboardKeys()[0];if(!this._isEditPending&&(T.isEscapeKeyEvent(i)||T.isEnterKeyEvent(i)||T.isF2KeyEvent(i)||T.isTabKeyEvent(i)||!(this._isNodeEditable(e.target)||null!=this._getTableFooter()&&c(this._getTableFooter()).has(e.target).length>0))&&(1===this._getKeyboardKeys().length||2===this._getKeyboardKeys().length&&e[D._KEYBOARD_CODES._MODIFIER_SHIFT])){(this._isKeyPressMatch(T.isArrowUpKeyEvent)||this._isKeyPressMatch(T.isArrowDownKeyEvent)||this._isKeyPressMatch(T.isArrowLeftKeyEvent)||this._isKeyPressMatch(T.isArrowRightKeyEvent)||this._isKeyPressMatch(T.isHomeKeyEvent)||this._isKeyPressMatch(T.isEndKeyEvent))&&(e.preventDefault(),e.stopPropagation());var n=e[D._KEYBOARD_CODES._MODIFIER_SHIFT];this._isKeyPressMatch(T.isArrowUpKeyEvent)||this._isKeyPressMatch(T.isArrowDownKeyEvent)?this._handleKeydownUpDown(e,n&&this._getRowSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE):this._isKeyPressMatch(T.isArrowLeftKeyEvent)||this._isKeyPressMatch(T.isArrowRightKeyEvent)?this._handleKeydownLeftRight(e,n&&this._getColumnSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE):this._isKeyPressMatch(T.isTabKeyEvent)?this._handleKeydownTab(e):T.isF2KeyEvent(i)?this._handleKeydownF2(e):T.isSpaceBarKeyEvent(i)?this._handleKeydownSpacebar(e):T.isEnterKeyEvent(i)?this._handleKeydownEnter(e):T.isHomeKeyEvent(i)?this._handleKeydownHome(e):T.isEndKeyEvent(i)?this._handleKeydownEnd(e):T.isEscapeKeyEvent(i)&&this._handleKeydownEsc(e)}},keyup:function(e){if(T.isMac()&&this._isKeyPressMatch(T.isMetaKeyEvent))this._clearKeyboardKeys();else{if(1===this._getKeyboardKeys().length){var t=this._getKeyboardKeys()[0];if(this._isNodeEditable(e.target)||null!=this._getTableFooter()&&c(this._getTableFooter()).has(e.target).length>0)return void this._removeKeyboardKey(t);this._removeKeyboardKey(t)}var i=e.key||e.keyCode;this._removeKeyboardKey(i)}},"mouseleave .oj-table-element":function(){this._getLayoutManager().handleMouseLeaveTable()},"mousedown .oj-table-body":function(e){var t=e[D._KEYBOARD_CODES._MODIFIER_SHIFT];if(!(T.isEventClickthroughDisabled(e,this._getTable())||T.isFromDefaultSelector(e)&&!t||this._isEditPending)&&1===e.which&&(this._mouseDownRowIdx=this._getElementRowIdx(e.target),null!=this._mouseDownRowIdx)){var i=this._getTableBodyRow(this._mouseDownRowIdx);null!=i&&i.draggable&&(this._mouseDownRowIdx=null)}},mouseup:function(){this._mouseDownRowIdx=null},"mouseenter .oj-table-body-row":function(e){if(this._isRowSelectionEnabled()){e.originalEvent&&0===e.originalEvent.buttons&&(this._mouseDownRowIdx=null);var t=this._getEventTargetElement(e),i=this._getElementRowIdx(t);this._isTableOwned(t)&&null==this._getTableDndContext()._dragImage?(t.classList.add(D.MARKER_STYLE_CLASSES._HOVER),this._updateRowStateCellsClass(i,null,{hover:!0}),this._handleMouseEnterSelection(e.target)):(this._updateRowStateCellsClass(i,null,{hover:!1}),e.stopPropagation())}},"mouseleave .oj-table-body-row":function(e){var t=this._getEventTargetElement(e),i=this._getElementRowIdx(t);this._isTableOwned(t)?(t.classList.remove(D.MARKER_STYLE_CLASSES._HOVER),this._updateRowStateCellsClass(i,null,{hover:!1})):(this._updateRowStateCellsClass(i,null,{hover:!0}),e.stopPropagation())},"mousedown .oj-table-column-header-cell":function(e){T.isEventClickthroughDisabled(e,this._getTable())||this._isEditPending||(this._lastSelectedHeaderIdx=null,this._getLayoutManager().handleMouseDownHeaderCell(e))},"mousedown .oj-table-footer-cell":function(e){if(!T.isEventClickthroughDisabled(e,this._getTable())&&!this._isEditPending&&1===e.which){var t=this._getElementColumnIdx(this._getEventTargetElement(e));e[D._KEYBOARD_CODES._MODIFIER_SHIFT]||(this._setActiveFooter(t,e,!0),c(e.target).data(D._FOCUS_CALLED,!0)),T.isFirefox()&&p.isMetaKeyPressed(e)&&e.preventDefault()}},"mouseenter .oj-table-column-header-cell":function(e){this._getLayoutManager().handleMouseEnterHeaderCell(e);var t=this._getEventTargetElement(e);this._handleMouseEnterColumnHeader(t)},"mousemove .oj-table-header":function(e){this._getLayoutManager().handleMouseMoveHeader(e)},"mousemove .oj-table-column-header-cell":function(e){this._getLayoutManager().handleMouseMoveHeaderCell(e);var t=this._getEventTargetElement(e);this._handleMouseEnterColumnHeader(t)},"mouseleave .oj-table-column-header-cell":function(e){var t=this._getEventTargetElement(e);this._handleMouseLeaveColumnHeader(t)},"mouseup .oj-table-column-header-cell":function(e){this._getLayoutManager().handleMouseUp(e)},"mousedown .oj-table-data-cell":function(e){if(!T.isEventClickthroughDisabled(e,this._getTable())&&!this._isEditPending){this._lastSelectedRowIdx=null;var t=this._getEventTargetElement(e),i=this._getElementRowIdx(t);e[D._KEYBOARD_CODES._MODIFIER_SHIFT]||(this._setActiveRow(i,e,!0),c(e.target).data(D._FOCUS_CALLED,!0)),T.isFirefox()&&p.isMetaKeyPressed(e)&&e.preventDefault()}},"mouseup .oj-table-data-cell":function(e){this._getLayoutManager().handleMouseUp(e)},"click .oj-table-sort-icon-container":function(e){if(!this._isEditPending){var t=this._getElementColumnIdx(e.target),i=this._getTableHeaderColumn(t);i&&(c(i).data("sorted")===D._COLUMN_SORT_ORDER._ASCENDING?this._handleSortTableHeaderColumn(t,!1,e):this._handleSortTableHeaderColumn(t,!0,e),e.preventDefault(),e.stopPropagation())}},"click .oj-table-body-row":function(e){if(!T.isEventClickthroughDisabled(e,this._getTable())&&!this._isEditPending){var t=this._getEventTargetElement(e),i=this._getElementRowIdx(t),n=c(e.target).data(D._FOCUS_CALLED),o=e[D._KEYBOARD_CODES._MODIFIER_SHIFT];if(!(n||o&&null!=this._getActiveRowIndex())){var s=this._setActiveRow(i,e,!0);if(c(e.target).data(D._FOCUS_CALLED,!1),!s)return}if(this._getTableBodyRow(i)[D._DATA_OJ_SELECTABLE]!==D._CONST_OFF&&(this._fireActionEvent(i,e,!0),!T.isFromDefaultSelector(e)||o))if(o){var a=this._getActiveRowIndex();if(null!=a&&(window.getSelection().removeAllRanges(),this._getRowSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE))return void this._selectRange(a,i,!0);this._handleSelectionGesture(i,!0,!1)}else if(p.isMetaKeyPressed(e))this._handleSelectionGesture(i,!0,!0),this._lastSelectedRowIdxArray&&this._lastSelectedRowIdxArray.indexOf(i)>-1&&(this._selectionAnchorIdx=i);else if(0===this._getKeyboardKeys().length){var r=this._isTouchDevice();this._handleSelectionGesture(i,!0,r&&(this._isStickyLayoutEnabled()||this._nonContiguousSelection)),this._lastSelectedRowIdxArray&&this._lastSelectedRowIdxArray.indexOf(i)>-1&&(this._selectionAnchorIdx=i);var l=this._getRowSelection(i);!this._isStickyLayoutEnabled()&&r&&l&&!this._nonContiguousSelection&&this._getRowSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE&&this._createTableBodyRowTouchSelectionAffordance(i)}}},"dblclick .oj-table-data-cell, .oj-table-gutter-start-body-cell, .oj-table-gutter-end-body-cell":function(e){if(T.isEventClickthroughDisabled(e,this._getTable()))return;let t;t=e.target.classList.contains(D.CSS_CLASSES._TABLE_GUTTER_START_BODY_CELL)?0:e.target.classList.contains(D.CSS_CLASSES._TABLE_GUTTER_END_BODY_CELL)?this._getColumnDefs().length-1:this._getElementColumnIdx(e.target);const i=this._getElementRowIdx(e.target);this._setEditRow({rowIndex:i},t)},"contextmenu .oj-table-data-cell":function(e){if(!T.isEventClickthroughDisabled(e,this._getTable())&&!this._isEditPending){var t=this._getElementRowIdx(this._getEventTargetElement(e));this._setActiveRow(t,e,!0)}},"click .oj-table-column-header-cell":function(e){if(!T.isEventClickthroughDisabled(e,this._getTable())&&!this._isEditPending){var t=this._getEventTargetElement(e);if(t.style.cursor!==D.CSS_VAL._COL_RESIZE){var i=this._getElementColumnIdx(t),n=c(e.target).data(D._FOCUS_CALLED),o=e[D._KEYBOARD_CODES._MODIFIER_SHIFT];if(n||o&&null!=this._getActiveHeaderIndex()||(this._setActiveHeader(i,e),c(e.target).data(D._FOCUS_CALLED,!1)),o){var s=this._getActiveHeaderIndex();null!=s&&this._getColumnSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE?this._selectRange(s,i,!1):this._handleSelectionGesture(i,!1,!0)}else p.isMetaKeyPressed(e)?this._handleSelectionGesture(i,!1,!0):0===this._getKeyboardKeys().length&&this._handleSelectionGesture(i,!1,this._isTouchDevice())}}},"click .oj-table-footer-cell":function(e){if(!T.isEventClickthroughDisabled(e,this._getTable())&&!this._isEditPending){var t=this._getEventTargetElement(e);if(t.style.cursor!==D.CSS_VAL._COL_RESIZE){var i=this._getElementColumnIdx(t),n=c(e.target).data(D._FOCUS_CALLED),o=e[D._KEYBOARD_CODES._MODIFIER_SHIFT];if(n||o&&null!=this._getActiveFooterIndex()||(this._setActiveFooter(i,e),c(e.target).data(D._FOCUS_CALLED,!1)),o){var s=this._getActiveFooterIndex();null!=s&&this._getColumnSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE?this._selectRange(s,i,!1):this._handleSelectionGesture(i,!1,!0)}else p.isMetaKeyPressed(e)?this._handleSelectionGesture(i,!1,!0):0===this._getKeyboardKeys().length&&this._handleSelectionGesture(i,!1,!1)}}},"dragstart .oj-table-column-header-cell":function(e){if(!this._isEditPending)return this._getEventTargetElement(e).style.cursor!==D.CSS_VAL._COL_RESIZE?this._getTableDndContext().handleColumnDragStart(e):void 0},"dragenter .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDragEnter(e)},"dragover .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDragOver(e)},"dragleave .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDragLeave(e)},"drop .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDrop(e)},"dragend .oj-table-column-header-cell":function(e){return this._getTableDndContext().handleColumnDragEnd(e)},"dragstart .oj-table-body-row":function(e){if(!this._isEditPending)return this._getTableDndContext().handleRowDragStart(e)},"drag .oj-table-body-row":function(e){return this._getTableDndContext().handleRowDrag(e)},"dragend .oj-table-body-row":function(e){return this._getTableDndContext().handleRowDragEnd(e)},"dragenter .oj-table-body":function(e){return this._getTableDndContext().handleRowDragEnter(e)},"dragover .oj-table-body":function(e){if(!this._getTableDndContext()._isColumnReordering())return this._getTableDndContext().handleRowDragOver(e)},"dragleave .oj-table-body":function(e){return this._getTableDndContext().handleRowDragLeave(e)},"drop .oj-table-body":function(e){if(!this._getTableDndContext()._isColumnReordering())return this._getTableDndContext().handleRowDrop(e)},"dragover .oj-table-element":function(e){if(this._getTableDndContext()._isColumnReordering())return this._getTableDndContext().handleColumnReorderDragOver(e)},"drop .oj-table-element":function(e){if(this._getTableDndContext()._isColumnReordering())return this._getTableDndContext().handleColumnReorderDrop(e)}},D.prototype._fireActionEvent=function(e,t,i){if(i||!this._isTableActionableMode()){var n=this._getTableBodyRow(e);null!=n&&this._trigger("rowAction",t,{context:{key:n[D._ROW_ITEM_EXPANDO].key,data:n[D._ROW_ITEM_EXPANDO].data,metadata:n[D._ROW_ITEM_EXPANDO].metadata}})}},D.prototype._getEventTargetElement=function(e){return 0===e.type.indexOf("touch")?this._getTouchEventTargetElement(e):e.currentTarget},D.prototype._getTouchEventTargetElement=function(e){var t=e.originalEvent.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)},D.prototype._registerCustomEvents=function(){var e=c.event.special;e.ojtablebeforecurrentrow={handle:function(e){return e.handleObj.handler.apply(this,[e,arguments[1]])}},e.ojtablesort={handle:function(e){return e.handleObj.handler.apply(this,[e,arguments[1]])}}},D.prototype._touchEventDoubleTapFunction=function(e,t){var i=c(e.target);null!=this._lastTapTime&&(new Date).getTime()-this._lastTapTime<250&&this._lastTapTarget[0]===i[0]?(this._lastTapTime=null,this._lastTapTarget=null,t()):(this._lastTapTarget=i,this._lastTapTime=(new Date).getTime())},D.prototype._registerTouchEvents=function(){const e={"touchstart .oj-table-body-row-touch-selection-affordance-touch-area":function(e){1===e.originalEvent.touches.length&&this._getRowSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE&&(e.target.classList.contains(D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOP_CLASS)||e.target.classList.contains(D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_TOP_ICON_CLASS)?(e.preventDefault(),this._mouseDownRowIdx=c(this._getTableBodyRowTouchSelectionAffordanceBottom()).data("rowIdx")):(e.target.classList.contains(D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_BOTTOM_CLASS)||e.target.classList.contains(D.CSS_CLASSES._TABLE_DATA_ROW_TOUCH_SELECTION_AFFORDANCE_BOTTOM_ICON_CLASS))&&(e.preventDefault(),this._mouseDownRowIdx=c(this._getTableBodyRowTouchSelectionAffordanceTop()).data("rowIdx")))},"touchstart .oj-table-column-header-cell":function(e){this._getLayoutManager().handleTouchStartHeaderCell(e)},"touchmove .oj-table-header":function(e){this._getLayoutManager().handleTouchMoveHeader(e)},"touchmove .oj-table-body-row-touch-selection-affordance-touch-area":function(e){if(null!=this._mouseDownRowIdx){e.preventDefault();var t=this._getEventTargetElement(e);this._handleMouseEnterSelection(t,!0)}}},t=this._getTableContainer();if(this._on(c(t),{touchend:function(e){if(null!=this._mouseDownRowIdx){var t=this._getEventTargetElement(e);this._handleMouseEnterSelection(t,!0)}this._mouseDownRowIdx=null,this._getLayoutManager().handleTouchEnd(e)},"touchend .oj-table-body":function(e){this._touchEventDoubleTapFunction(e,function(e){return function(){var t=this._getEventTargetElement(e),i=this._getElementColumnIdx(t);this._setTableEditable(!0,!1,i,!0,e),e.preventDefault()}.bind(this)}.bind(this)(e))},touchcancel:function(){this._mouseDownRowIdx=null,this._getLayoutManager().handleTouchCancel()}}),this._IsCustomElement()){const i=function(e,t){return function(i){const n=i.currentTarget,o=i.target.closest(e);o&&n.contains(o)&&t(c.Event(i,{currentTarget:o}))}},n="touchstart",o="touchmove",s=".oj-table-body-row-touch-selection-affordance-touch-area",a=".oj-table-column-header-cell",r=".oj-table-header";this._delegatedTouchStartTableBodyListener=i(s,e[`${n} ${s}`].bind(this)),this._delegatedTouchStartCellHeaderListener=i(a,e[`${n} ${a}`].bind(this)),this._delegatedTouchMoveTableHeaderListener=i(r,e[`${o} ${r}`].bind(this)),this._delegatedTouchMoveTableBodyListener=i(s,e[`${o} ${s}`].bind(this)),t.addEventListener(n,this._delegatedTouchStartTableBodyListener,{passive:!1}),t.addEventListener(n,this._delegatedTouchStartCellHeaderListener,{passive:!1}),t.addEventListener(o,this._delegatedTouchMoveTableHeaderListener,{passive:!0}),t.addEventListener(o,this._delegatedTouchMoveTableBodyListener,{passive:!1})}else this._on(c(t),e)},D.ACTIVE_ELEMENT_TYPES={_HEADER:"header",_FOOTER:"footer",_DATA_ROW:"dataRow",_NO_DATA:"noData",_ADD_ROW:"addRow"},D.prototype._createActiveObject=function(e){var t;return e.classList.contains(D.CSS_CLASSES._TABLE_DATA_ROW_CLASS)?(t=this._getElementRowIdx(e),{type:D.ACTIVE_ELEMENT_TYPES._DATA_ROW,index:t,key:this._getRowKeyForRowIdx(t),isActionable:!1}):e.classList.contains(D.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS)?(t=this._getElementColumnIdx(e),{type:D.ACTIVE_ELEMENT_TYPES._HEADER,index:t,key:this._getColumnKeyForColumnIdx(t),isActionable:!1}):e.classList.contains(D.CSS_CLASSES._COLUMN_HEADER_SELECTOR_CELL_CLASS)?{type:D.ACTIVE_ELEMENT_TYPES._HEADER,index:-1,isActionable:!1}:e.classList.contains(D.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS)?(t=this._getElementColumnIdx(e),{type:D.ACTIVE_ELEMENT_TYPES._FOOTER,index:t,key:this._getColumnKeyForColumnIdx(t),isActionable:!1}):e.classList.contains(D.CSS_CLASSES._TABLE_FOOTER_SELECTOR_CELL_CLASS)?{type:D.ACTIVE_ELEMENT_TYPES._FOOTER,index:-1,isActionable:!1}:e.classList.contains(D.CSS_CLASSES._TABLE_BODY_MESSAGE_ROW_CLASS)||e.classList.contains(D.CSS_CLASSES._TABLE_NO_DATA_ROW_CLASS)?{type:D.ACTIVE_ELEMENT_TYPES._NO_DATA,isActionable:!1}:e.classList.contains(D.CSS_CLASSES._TABLE_ADD_ROW_PLACEHOLDER_CLASS)?{type:D.ACTIVE_ELEMENT_TYPES._ADD_ROW,isActionable:!1}:null},D.prototype._getActiveObjectFromActionableChild=function(e){var t=this._createActiveObject(e);if(null!=t)return t;var i=e.parentElement;return null!=i&&this._getTable().contains(i)?this._getActiveObjectFromActionableChild(i):null},D.prototype._areActiveObjectsEqual=function(e,t){return null!=e&&null!=t?e.type===t.type&&e.index===t.index&&d.KeyUtils.equals(e.key,t.key):null==e&&null==t},D.prototype._getElementFromActiveObject=function(e){if(null!=e){if(e.type===D.ACTIVE_ELEMENT_TYPES._DATA_ROW)return this._getTableBodyRow(e.index);if(e.type===D.ACTIVE_ELEMENT_TYPES._HEADER)return-1===e.index?this._getTableSelectorColumn():this._getTableHeaderColumn(e.index);if(e.type===D.ACTIVE_ELEMENT_TYPES._FOOTER)return-1===e.index?this._getTableFooterSelectorCell():this._getTableFooterCell(e.index);if(e.type===D.ACTIVE_ELEMENT_TYPES._NO_DATA){var t=this._getTableBodyMessageRow();return null!=t?t:this._getTableNoDataRow()}if(e.type===D.ACTIVE_ELEMENT_TYPES._ADD_ROW)return this._getPlaceHolderRow()}return null},D.prototype._getActiveElement=function(){return this._getElementFromActiveObject(this._active)},D.prototype._getActiveType=function(){return null!=this._active?this._active.type:null},D.prototype._highlightActive=function(e){if(null!=this._active){var t=this._getElementFromActiveObject(this._active);t&&(t.classList.add(D.CSS_CLASSES._TABLE_ACTIVE_ELEMENT_CLASS),!this._hasFocus()||this._active.isActionable||e||(this._focusInHandler(c(t)),this._hasActiveHeader()&&-1!==this._active.index&&this._showTableHeaderColumnSortIcon(this._active.index)))}},D.prototype._unhighlightActive=function(){if(null!=this._active){var e=this._getElementFromActiveObject(this._active);e&&(e.classList.remove(D.CSS_CLASSES._TABLE_ACTIVE_ELEMENT_CLASS),this._focusOutHandler(c(e)),this._hasActiveHeader()&&-1!==this._active.index&&this._hideTableHeaderColumnSortIcon(this._active.index))}},D.prototype._hasFocus=function(){return this._getTable().classList.contains(D.MARKER_STYLE_CLASSES._FOCUS)},D.prototype._syncActiveElement=function(e,t){var i=this._hasFocus(),n=this._getTableBodyRows().length;if(null!=this._active){if(this._hasActiveHeader()||this._hasActiveFooter()){if(this._getFirstVisibleColumnIndex(this._active.index,!0)!==this._active.index){var o=this._getFirstVisibleColumnIndex(0,!0);this._hasActiveHeader()?this._setActiveHeader(o,e,!i):this._setActiveFooter(o,e,!i)}else i&&this._scrollColumnIntoViewport(this._active.index),this._highlightActive(),t&&this._updateAccStatusInfo();return}if(this._hasActiveRow()){if(d.KeyUtils.equals(this._active.key,this._getRowKeyForRowIdx(this._active.index)))return i&&this._scrollRowIntoViewport(this._active.index),t&&this._updateAccStatusInfo(),void this._highlightActive();var s=this._getCurrentRow(),a=null!=s?s.rowKey:null;if(null!=a){if(n>0){var r=this._getRowIdxForRowKey(a);return null!=r||(r=Math.min(null!=s.rowIndex?s.rowIndex:0,n-1)),void this._setActiveRow(r,e,!0,!i)}this._setActiveNoData()}return}if(this._hasActiveNoData()){if(!0===this._noDataMessageShown)return this._highlightActive(),void(t&&this._updateAccStatusInfo())}else if(this._hasActiveAddRow()&&null!=this._getPlaceHolderRow())return this._highlightActive(),void(t&&this._updateAccStatusInfo())}this._isTableHeaderless()?null!=this._getPlaceHolderRow()?this._setActiveAddRow():n>0?this._setActiveRow(0,e,!0,!i):this._setActiveNoData():this._setActiveHeader(this._getFirstVisibleColumnIndex(0,!0),e,!i)},D.prototype._getFirstVisibleColumnIndex=function(e,t){var i;if(this._isTableHeaderless()){if(this._isTableFooterless())return null;i=this._getTableFooterCell.bind(this)}else i=this._getTableHeaderColumn.bind(this);var n,o=this._getColumnDefs().length,s=e;if(t)for(;s<o;){if((n=i(s))&&n.clientWidth>0)return s;s+=1}else for(;s>-1;){if((n=i(s))&&n.clientWidth>0)return s;s-=1}return null},D.prototype._getNextVisibleColumnIndex=function(e,t){var i=t?e+1:e-1;if(-1===i)return this._isDefaultSelectorEnabled()?i:e;var n=this._getFirstVisibleColumnIndex(i,t);return null!==n?n:e},D.prototype._getCurrentRow=function(){return this._getData()?this._currentRow:null},D.prototype._hasActiveRow=function(){return this._getActiveType()===D.ACTIVE_ELEMENT_TYPES._DATA_ROW},D.prototype._getActiveRowIndex=function(){return this._hasActiveRow()?this._active.index:null},D.prototype._hasActiveHeader=function(){return this._getActiveType()===D.ACTIVE_ELEMENT_TYPES._HEADER},D.prototype._getActiveHeaderIndex=function(){return this._hasActiveHeader()?this._active.index:null},D.prototype._getActiveHeaderColumn=function(){var e=this._getActiveHeaderIndex();return null!=e?-1===e?this._getTableSelectorColumn():this._getTableHeaderColumn(e):null},D.prototype._hasActiveFooter=function(){return this._getActiveType()===D.ACTIVE_ELEMENT_TYPES._FOOTER},D.prototype._getActiveFooterIndex=function(){return this._hasActiveFooter()?this._active.index:null},D.prototype._hasActiveAddRow=function(){return this._getActiveType()===D.ACTIVE_ELEMENT_TYPES._ADD_ROW},D.prototype._hasActiveNoData=function(){return this._getActiveType()===D.ACTIVE_ELEMENT_TYPES._NO_DATA},D.prototype._scrollRowIntoViewport=function(e,t,i){var n=this._getLayoutManager();if(n.hasRenderedSize()&&(null==i&&(i=this._getTableBodyRow(e)),t||!i.classList.contains(D.CSS_CLASSES._TABLE_STUCK_ROW_CLASS))){var o=c(n.getScroller()),s=n.getVerticalOverflowDiff(i),a=s.top,r=a>=0,l=s.bottom,_=l>=0;r&&_||(_?(Math.abs(a)>Math.abs(l)?o.scrollTop(o.scrollTop()+l):o.scrollTop(o.scrollTop()-a),this._skipScrollUpdate=!1,n.updateCurrentScrollState()):r&&(Math.abs(l)>Math.abs(a)?o.scrollTop(o.scrollTop()-a):o.scrollTop(o.scrollTop()+l),this._skipScrollUpdate=!1,n.updateCurrentScrollState()))}},D.prototype._scrollColumnIntoViewport=function(e,t){var i=this._getLayoutManager();if(i.hasRenderedSize()){var n;if(null!=t)n=t;else if(!(n=-1===e?this._getTableSelectorColumn():this._getTableHeaderColumn(e)))return;var o=i.getScroller(),s=c(o),a=i.getHorizontalOverflowDiff(n,e),r=a.left,l=a.right,_=r>=0,u=l>=0;T.isEdge()&&(r*=-1,l*=-1),_&&u||(_?(Math.abs(l)>Math.abs(r)?s.scrollLeft(s.scrollLeft()-r):s.scrollLeft(s.scrollLeft()+l),this._skipScrollUpdate=!1,i.updateCurrentScrollState()):u&&(Math.abs(r)>Math.abs(l)?s.scrollLeft(s.scrollLeft()+l):s.scrollLeft(s.scrollLeft()-r),this._skipScrollUpdate=!1,i.updateCurrentScrollState()))}},D.prototype._setCurrentRow=function(e,t,i){var n,o,s,a,r=this._currentRow,l=null==e||null==e.rowKey&&null==e.rowIndex;if(l)s=-1,a=null!=e?e:null;else{var _=this._getData(),u=e.rowIndex,h=e.rowKey;if(null==h&&(h=this._getRowKeyForDataSourceRowIndex(u)),u=this._getDataSourceRowIndexForRowKey(h),s=this._getRowIdxForRowKey(h),a={rowIndex:u,rowKey:h},-1!==s&&(!_||s<-1||null===s||null===h)){if(n=D._LOGGER_MSG._ERR_CURRENTROW_UNAVAILABLE_INDEX_SUMMARY,o=f.applyParameters(D._LOGGER_MSG._ERR_CURRENTROW_UNAVAILABLE_INDEX_DETAIL,{rowIdx:s}),this.option("currentRow",this._currentRow,{_context:{writeback:!0,originalEvent:t,internalSet:!0}}),i)throw new Error(n+"\n"+o);return S.info(n+"\n"+o),D._CURRENT_ROW_STATUS._IGNORED}}var d=this._getActiveRowIndex(),c=!this._compareCurrentRowValues(r,a);if(c){var p,g=this._getAccessibleContext();this._clearAccessibleContext();try{p=this._trigger("beforeCurrentRow",t,{currentRow:a,previousCurrentRow:r})}catch(e){return n=D._LOGGER_MSG._ERR_PRECURRENTROW_ERROR_SUMMARY,o=f.applyParameters(D._LOGGER_MSG._ERR_PRECURRENTROW_ERROR_DETAIL,{error:e.toString()}),S.info(n+"\n"+o),this.option("currentRow",this._currentRow,{_context:{writeback:!0,originalEvent:t,internalSet:!0}}),D._CURRENT_ROW_STATUS._ERROR}if(!p)return this._setAccessibleContext(g),this.option("currentRow",this._currentRow,{_context:{writeback:!0,originalEvent:t,internalSet:!0}}),D._CURRENT_ROW_STATUS._VETOED;if(null!=r&&(null!=r.rowKey||null!=r.rowIndex)){var m=r.rowIndex,E=this._getRowKeyForDataSourceRowIndex(m),C=this._getRowIdxForRowKey(E),T=this._setTableEditable(!1,!1,0,!0,t);if(T instanceof Promise)return T.then(function(e){if(!1===e)return this._resetCurrentRow(r,C,t),D._CURRENT_ROW_STATUS._IGNORED;var i=this._getTableBodyRow(C);return null!=i&&i.classList.remove(D.CSS_CLASSES._TABLE_DATA_CURRENT_ROW_CLASS),this._currentRow=a,this._updateCurrentRow(l,s,t),null==t&&this._setActiveRow(s,t,!1,!this._hasFocus()),D._CURRENT_ROW_STATUS._UPDATED}.bind(this),function(){return this._resetCurrentRow(r,C,t),D._CURRENT_ROW_STATUS._VETOED}.bind(this));if(!1===T)return this._resetCurrentRow(r,C,t),D._CURRENT_ROW_STATUS._VETOED;var y=this._getTableBodyRow(C);null!=y&&y.classList.remove(D.CSS_CLASSES._TABLE_DATA_CURRENT_ROW_CLASS)}this._currentRow=a,this._updateCurrentRow(l,s,t)}return!c&&d===s||null!=t||this._setActiveRow(s,t,!1,!this._hasFocus()),D._CURRENT_ROW_STATUS._UPDATED},D.prototype._resetCurrentRow=function(e,t,i){this._currentRow=e;var n=document.activeElement,o=this._getAccessibleContext(),s=this._getElementColumnIdx(n);this._queueTask(function(){var e=t,n=s;null!=e&&null!=n?setTimeout(function(){this._setCellFocus(e,n)}.bind(this),0):null!=e&&setTimeout(function(){this._setActiveRow(e,i)}.bind(this),0)}.bind(this)),this._setAccessibleContext(o),this.option("currentRow",this._currentRow,{_context:{writeback:!0,originalEvent:i,internalSet:!0}})},D.prototype._updateCurrentRow=function(e,t,i){if(this.option("currentRow",this._currentRow,{_context:{writeback:!0,originalEvent:i,internalSet:!0}}),!e){var n=this._getTableBodyRow(t);null!=n&&n.classList.add(D.CSS_CLASSES._TABLE_DATA_CURRENT_ROW_CLASS)}},D.prototype._compareCurrentRowValues=function(e,t){if(e===t)return!0;if(null!=e&&null!=t){if(e.rowIndex===t.rowIndex&&d.KeyUtils.equals(e.rowKey,t.rowKey))return!0}else if(null==e&&null==t)return!0;return!1},D.prototype._setCellFocus=function(e,t){var i=this._getTableBodyCell(e,t);if(i){var n=T.getFocusableElementsInNode(i);if(n.length>0){var o=n[0];return o.focus(),"function"==typeof o.select&&o.select(),this._scrollColumnIntoViewport(t,i),!0}}return!1},D.prototype._setCellInRowFocus=function(e,t,i){if(!this._setCellFocus(e,t))for(var n=this._getTableBodyCells(e).length,o=0;o<n;o++){var s=o;if(i||(s=n-o-1),this._setCellFocus(e,s))return}},D.prototype._setFocusInHandler=function(e){this._focusInHandler=e},D.prototype._setFocusOutHandler=function(e){this._focusOutHandler=e},D.prototype._setActiveRow=function(e,t,i,n,o,s){if(-1===e)return this._clearActiveRow(t,i);var a=this._getTableBodyRow(e);return null!=a&&this._setActive(a,t,i,n,o,s)},D.prototype._clearActiveRow=function(e,t){return!this._hasActiveRow()||this._setActive(null,e,t)},D.prototype._setActiveHeader=function(e,t,i){if(this._isTableHeaderless()||null==e)return!1;var n=-1===e?this._getTableSelectorColumn():this._getTableHeaderColumn(e);return this._setActive(n,t,!0,i)},D.prototype._setActiveFooter=function(e,t,i){if(this._isTableFooterless()||null==e)return!1;var n=-1===e?this._getTableFooterSelectorCell():this._getTableFooterCell(e);return this._setActive(n,t,!0,i)},D.prototype._setActiveAddRow=function(){var e=this._getPlaceHolderRow();return null!=e&&this._setActive(e,null,!0)},D.prototype._setActiveNoData=function(){var e=this._getTableBodyMessageRow();if(null!=e)this._setActive(e,null,!0);else{var t=this._getTableNoDataRow();null!=t&&this._setActive(t,null,!0)}},D.prototype._setActive=function(e,t,i,n,o,s){if(null!=e){var a=this._createActiveObject(e);if(this._areActiveObjectsEqual(a,this._active))this._updateActive(!1,a,n,o,s);else{if(a.type===D.ACTIVE_ELEMENT_TYPES._DATA_ROW){if(i){const e=this._setCurrentRow({rowKey:a.key},t);if(e instanceof Promise)return e.then((e=>e===D._CURRENT_ROW_STATUS._UPDATED&&(this._updateActive(!0,a,n,o,s),!0)));if(e!==D._CURRENT_ROW_STATUS._UPDATED)return!1}}else if(!this._clearActiveRow(t,i))return!1;this._updateActive(!0,a,n,o,s)}}else if(null!=this._active){if(this._hasActiveRow()&&i){const e=this._setCurrentRow(null,t);if(e instanceof Promise)return e.then((e=>e===D._CURRENT_ROW_STATUS._UPDATED&&(this._unhighlightActive(),this._active=null,!0)));if(e!==D._CURRENT_ROW_STATUS._UPDATED)return!1}this._unhighlightActive(),this._active=null}return!0},D.prototype._updateActive=function(e,t,i,n,o){e&&(this._setTableActionableMode(!1,!0),this._unhighlightActive(),this._active=t),i||(t.type===D.ACTIVE_ELEMENT_TYPES._HEADER||t.type===D.ACTIVE_ELEMENT_TYPES._FOOTER?this._scrollColumnIntoViewport(t.index):t.type===D.ACTIVE_ELEMENT_TYPES._DATA_ROW&&this._scrollRowIntoViewport(t.index,o)),this._highlightActive(n),this._active.isActionable||this._updateAccStatusInfo()},D.prototype._setColumnState=function(e,t){var i=this._getTableHeaderColumn(e),n=this._getTableFooterCell(e);this._applyColumnState(i,n,e,t)},D.prototype._applyColumnState=function(e,t,i,n){n?(null!=e&&e.classList.add(D.MARKER_STYLE_CLASSES._SELECTED),null!=t&&t.classList.add(D.MARKER_STYLE_CLASSES._SELECTED)):(null!=e&&e.classList.remove(D.MARKER_STYLE_CLASSES._SELECTED),null!=t&&t.classList.remove(D.MARKER_STYLE_CLASSES._SELECTED)),this._updateColumnStateCellsClass(i,n)},D.prototype._updateColumnStateCellsClass=function(e,t){for(var i=this._getSelectedRowIdxs(),n=this._getTableBodyRows(),o=0;o<n.length;o++){var s=this._getTableBodyCell(o,e);if(s)if(t)s.classList.add(D.MARKER_STYLE_CLASSES._SELECTED);else{for(var a=!1,r=i.length,l=0;l<r;l++)if(o===i[l]){a=!0;break}a||s.classList.remove(D.MARKER_STYLE_CLASSES._SELECTED)}}if(null!=this._getPlaceHolderRow()){var _=this._getPlaceHolderRowCell(e);null!=_&&(t?_.classList.add(D.MARKER_STYLE_CLASSES._SELECTED):_.classList.remove(D.MARKER_STYLE_CLASSES._SELECTED))}},D.prototype._updateRowStateCellsClass=function(e,t,i){if(t||(t=this._getTableBodyRow(e)),t[D._DATA_OJ_SELECTABLE]!==D._CONST_OFF){var n=this._getTableBodyCells(null,t);if(0!==n.length){if(this._isDefaultSelectorEnabled()){var o=this._getTableBodySelectorCell(t);n.unshift(o)}if(this._isGutterStartColumnEnabled()){let e=this._getTableGutterCell("body","start",t);n.unshift(e)}if(this._isGutterEndColumnEnabled()){let e=this._getTableGutterCell("body","end",t);n.push(e)}var s,a=i.selected,r=i.hover,l=n.length;if(null!=r)for(s=0;s<l;s++)r?n[s].classList.add(D.MARKER_STYLE_CLASSES._HOVER):n[s].classList.remove(D.MARKER_STYLE_CLASSES._HOVER);if(null!=a)for(s=0;s<l;s++)a?n[s].classList.add(D.MARKER_STYLE_CLASSES._SELECTED):n[s].classList.remove(D.MARKER_STYLE_CLASSES._SELECTED)}}},D.prototype._adjustScrollPositionOnFetch=function(e){var t=null==this.options.scrollPosition?{}:this.options.scrollPosition;if(!isNaN(t.rowIndex)&&void 0!==t.rowKey){var i=this._getSelectedRowIdxs();null!=i&&i.length>0&&this._isRowSelectionEnabled()&&this._isScrollToKey()?(!isNaN(this._selectionAnchorIdx)&&i.indexOf(this._selectionAnchorIdx)>-1?t.rowKey=this._getRowKeyForRowIdx(this._selectionAnchorIdx):t.rowKey=this._getRowKeyForRowIdx(i[0]),delete t.rowIndex):(this._isExternalScrollEnabled()||(t.y=0),delete t.rowIndex,delete t.rowKey),e||(t.x=0,t.columnKey=null,t.columnIndex=0,t.offsetX=0),t.offsetY=0,this.option("scrollPosition",t,{_context:{internalSet:!0},changed:!1})}},D.prototype._isScrollPositionAdjusted=function(){var e=this.options.scrollPosition;return null!=e&&void 0===e.rowIndex&&null!=e.rowKey},D.prototype._findRowElementByKey=function(e){for(var t=this._getTableBodyRows(),i=0;i<t.length;i++)if(d.KeyUtils.equals(t[i][D._ROW_ITEM_EXPANDO].key,e))return t[i];return null},D.prototype._isScrollToKey=function(){var e=this.options.scrollToKey;if("never"===e)return!1;if("always"===e)return!0;var t=this.options.data;if(!d.DataProviderFeatureChecker.isDataProvider(t))return!0;if(t.getCapability){var i=t.getCapability("fetchFirst");if(i&&"immediate"===i.iterationSpeed)return!0}return!1},D.prototype._getScrollToKey=function(){var e=this.options.scrollPosition.rowKey;return e?new Promise(function(t){var i=this._validateKeyForScroll(e,!0);null==i?t(null):i.then((function(i){t(i?e:null)}))}.bind(this)):Promise.resolve(null)},D.prototype._validateKeyForScroll=function(e,t){if(!this._isScrollToKey())return null;if(!t&&null!=this._findRowElementByKey(e))return Promise.resolve(!0);var i=this._getData();return i.containsKeys?new Promise((function(t){var n=new Set;n.add(e),i.containsKeys({keys:n}).then((function(e){t(e.results.size>0)}),(function(){t(!1)}))})):null},D.prototype._syncScrollPosition=function(e,t){if(!this._IsCustomElement()||this._noDataMessageShown||!this._isScrollableX()&&!this._isScrollableY())return!0;if(null!=this._scrollPosition?e=this._scrollPosition:null==e&&(e=this.options.scrollPosition),!t&&null!=e.rowKey){var i=this._validateKeyForScroll(e.rowKey,!1);if(i){var n=this._createComponentBusyState("is validating scroll position rowKey.");i.then(function(t){t||delete e.rowKey,this._clearComponentBusyState(n),this._syncScrollPosition(e,!0)}.bind(this))}return!1}var o=this._getScrollCoordinates(e),s=this._isScrollableX()?o.x:0,a=this._isScrollableY()?o.y:0;if(isNaN(s)&&isNaN(a))return this.option("scrollPosition",this._getCurrentScrollPosition(),{_context:{originalEvent:null,internalSet:!0}}),this._scrollPosition=null,this._editRowCallback=null,!0;var r,l=isNaN(this._scrollTop)?0:this._scrollTop,_=isNaN(this._scrollLeft)?0:this._scrollLeft;if(!isNaN(s)&&isNaN(a)||!isNaN(s)&&a===l&&s!==_)this._isScrollableX()?(this._setScrollX(s),r=this._getCurrentScrollPosition(s)):r=this._getCurrentScrollPosition(),this.option("scrollPosition",r,{_context:{originalEvent:null,internalSet:!0}});else if(a!==l){if(!this._isScrollableY())return isNaN(s)||s===_?(this.option("scrollPosition",this._getCurrentScrollPosition(),{_context:{originalEvent:null,internalSet:!0}}),!0):(delete e.y,this._syncScrollPosition(e,t));var u=this._setScrollY(a);if(isNaN(s)||s===_||this._setScrollX(s),-1===a)return this._scrollPosition=e,u;this.option("scrollPosition",this._getCurrentScrollPosition(s,a),{_context:{originalEvent:null,internalSet:!0}})}else e&&(null==e.rowKey||isNaN(e.rowIndex))&&this.option("scrollPosition",this._getCurrentScrollPosition(s,a),{_context:{originalEvent:null,internalSet:!0}});return null!=this._scrollPosition&&(this._scrollPosition=null),this._editRowCallback&&(this._editRowCallback(),this._editRowCallback=null),!0},D.prototype._isScrollableX=function(){var e=this._getLayoutManager();return Math.abs(e.getScrollWidth()-e.getClientWidth())>1},D.prototype._isScrollableY=function(){var e=this._getLayoutManager();return Math.abs(e.getScrollHeight()-e.getClientHeight())>1},D.prototype._setScrollX=function(e){var t=this._getLayoutManager().getScroller();this._skipScrollUpdate=!0,p.setScrollLeft(t,e)},D.prototype._setScrollY=function(e){var t=this._getLayoutManager(),i=t.getScroller();this._skipScrollUpdate=!0;var n=i.scrollTop;return i.scrollTop=-1===e?t.getScrollHeight()-t.getClientHeight():e,n!==i.scrollTop&&(this._setScrollPosBusyState(),!0)},D.prototype._getScrollTopByIndex=function(e){if(0===e)return 0;if(!(this._isLoadMoreOnScroll()&&e>this.options.scrollPolicyOptions.maxCount)){var t=this._getTableBodyRows()[e];return null!=t?this._getLayoutManager().getRowScrollTop(t):this._hasMoreToFetch()?-1:void 0}},D.prototype._getScrollTopByKey=function(e){var t=this._findRowElementByKey(e);return null!=t?this._getLayoutManager().getRowScrollTop(t):this._hasMoreToFetch()?-1:void 0},D.prototype._getScrollLeftByIndex=function(e){return this._getLayoutManager().getColumnScrollLeft(e)},D.prototype._getScrollLeftByKey=function(e){var t=this._getColumnIdxForColumnKey(e);return this._getScrollLeftByIndex(t)},D.prototype._getScrollCoordinates=function(e){var t,i,n=this._getLayoutManager();if(!n.hasRenderedSize())return{x:0,y:0};var o=e.rowKey;null!=o&&(t=this._getScrollTopByKey(o));var s=e.columnKey;null!=s&&(i=this._getScrollLeftByKey(s));var a=e.rowIndex;isNaN(t)&&!isNaN(a)&&(t=this._getScrollTopByIndex(a));var r=e.columnIndex;isNaN(i)&&!isNaN(r)&&(i=this._getScrollLeftByIndex(r));var l=e.offsetX;!isNaN(i)&&!isNaN(l)&&i>=0&&(i+=l);var _=e.offsetY;return!isNaN(t)&&!isNaN(_)&&t>=0&&(t+=_),isNaN(i)&&!isNaN(e.x)&&(i=Math.max(0,e.x)),isNaN(t)&&!isNaN(e.y)&&(t=e.y>n.getScrollHeight()?this._hasMoreToFetch()?-1:n.getScrollHeight()-n.getClientHeight():Math.max(0,e.y)),{x:i,y:t}},D.prototype._getCurrentHorizontalScrollPosition=function(e){var t=null==e?this._scrollLeft:e,i={x:null==t?0:t},n=this.option("scrollPosition"),o=Math.abs(n.x-i.x);if(o<1&&null!=n.columnKey&&!isNaN(n.columnIndex))return i.columnKey=n.columnKey,i.columnIndex=n.columnIndex,i.offsetX=n.offsetX+o,i;var s=this._getColumnLocations();if(s&&s.length>0){var a,r=s.length-1;for(a=0;a<s.length-1;a++)if(i.x>=s[a]&&i.x<s[a+1]){r=a;break}i.columnKey=this._getColumnDefs()[r].id,i.columnIndex=r,i.offsetX=i.x-s[r]}return i},D.prototype._getCurrentVerticalScrollPosition=function(e){var t=null==e?this._scrollTop:e,i={y:null==t?0:t},n=this._findClosestElementToTop(i);return null!=n&&(i.rowIndex=n.index,i.rowKey=this._getRowKeyForRowIdx(n.index),i.offsetY=n.offset),i},D.prototype._getCurrentScrollPosition=function(e,t){if(!this._getLayoutManager().hasRenderedSize())return{x:0,y:0};var i=this._getCurrentHorizontalScrollPosition(e),n=this._getCurrentVerticalScrollPosition(t);return Object.keys(n).forEach((function(e){i[e]=n[e]})),i},D.prototype._getColumnLocations=function(){if(null==this._columnOffsets){this._columnOffsets=[];var e=this._getTableHeaderColumns();if(e.length>0){var t=this._getScrollLeftByIndex(0);this._columnOffsets.push(0);for(var i=1;i<e.length;i++)this._columnOffsets.push(this._getScrollLeftByIndex(i)-t)}}return this._columnOffsets},D.prototype._findClosestElementToTop=function(e){var t,i=this._getLayoutManager(),n=this._getTableBodyRows(),o=n.length,s=i.getScrollHeight();if(0===o||0===s)return null;var a=e.y,r=this.option("scrollPosition");t=Math.abs(r.y-a)<D.DEFAULT_ROW_HEIGHT_GUESS&&null!=r.rowKey&&!isNaN(r.rowIndex)?r.rowIndex:Math.floor(a/s*o);var l=n[t=Math.min(Math.max(t,0),o-1)],_=i.getRowScrollTop(l),u=a-_,h={index:t,elem:l,offsetTop:_,offset:u};if(Math.abs(u)<1)return h;var d=u>0;for(d?t+=1:t-=1;t>=0&&t<o;){var c=_;if(l=n[t],_=i.getRowScrollTop(l),(u=Math.abs(a-_))<1||(d?a<=_:a>=_)){h=u<1||!d?{index:t,elem:l,offsetTop:_,offset:u}:{index:t-1,elem:n[t-1],offsetTop:c,offset:a-c};break}d?t+=1:t-=1}return h},D.prototype._registerDomEventListeners=function(){this._getLayoutManager().registerScrollListeners()},D.prototype._isTableActionableMode=function(){return null!=this._active&&this._active.isActionable},D.prototype._isTableEditMode=function(){return this.options.editMode===D._OPTION_EDIT_MODE._ROW_EDIT},D.prototype._toggleTableActionableMode=function(){this._isTableActionableMode()?this._setTableActionableMode(!1):this._setTableActionableMode(!0)},D.prototype._setTableActionableMode=function(e,t){var i;e&&!this._isTableActionableMode()?(i=this._hasActiveHeader()?this._getTableHeaderRow():this._hasActiveFooter()?this._getTableFooterRow():this._getActiveElement(),this._clearAccStatusInfo(),this._applyActionableMode(i,t)):!e&&this._isTableActionableMode()&&(this._active.isActionable=!1,!t&&this._getTable().contains(document.activeElement)&&this._getTable().focus(),null!=(i=this._hasActiveHeader()?this._getTableHeaderRow():this._hasActiveFooter()?this._getTableFooterRow():this._getActiveElement())&&T.disableAllFocusableElements(i,null,!0))},D.prototype._applyActionableMode=function(e,t){var i=this._getActiveElement();if(null!=i){T.enableAllFocusableElements(e);var n=T.getFocusableElementsInNode(i);n.length>0&&(this._active.isActionable=!0,this._focusOutHandler(c(i)),t||n[0].focus())}},D.prototype._getEditableRowIdx=function(){if(null!=this._getEditableRowKey()){var e=this._getRowIdxForRowKey(this._getEditableRowKey());if(null!==e)return e}return this._editableRowIdx},D.prototype._getEditableRowKey=function(){return this._editableRowKey},D.prototype._hasEditableRow=function(){return!!this._isTableEditMode()&&null!==this._getEditableRowIdx()},D.prototype._setEditRow=function(e,t=0){if(this._isTableEditMode())if(!0!==this._isEditPending){this._delayed_edit=null;var i=e.rowKey,n=e.rowIndex;if(null!=i||n>-1){var o=this._setCurrentRow({rowKey:i,rowIndex:n});o instanceof Promise?o.then(function(i){i===D._CURRENT_ROW_STATUS._UPDATED?this._setEditableHelper(t):i===D._CURRENT_ROW_STATUS._IGNORED&&this._scrollToRowHelper(e,t)}.bind(this)):o===D._CURRENT_ROW_STATUS._UPDATED?this._setEditableHelper(t):o===D._CURRENT_ROW_STATUS._IGNORED&&this._scrollToRowHelper(e,t)}else this._setTableEditable(!1,!1,0,!0,null)}else this._delayed_edit={editRow:e,columnIdx:t}},D.prototype._setEditableHelper=function(e){null==this._delayed_edit&&this._setTableEditable(!0,!1,e,!0,null)},D.prototype._scrollToRowHelper=function(e,t){const i=this._scrollTop;this._syncScrollPosition({rowKey:e.rowKey,rowIndex:e.rowIndex})||(this._editRowCallback=function(){this._scrollTop!==i&&this._setEditRow(e,t)}.bind(this))},D.prototype._getRowToBeEdited=function(e){const t=e.rowKey,i=e.rowIndex;return null!=t?this._findRowElementByKey(t):i>-1?this._getTableBodyRow(i):null},D.prototype._setEditableRowIdx=function(e){this._editableRowKey=this._getRowKeyForRowIdx(e),this._editableRowIdx=e},D.prototype._setAdjacentRowEditable=function(e,t,i,n){var o=this._getEditableRowIdx(),s=this._setTableEditable(!1,!1,e,i,n);s instanceof Promise?s.then(function(){this._queueTask(function(){this._handleAdjacentEditEndSuccessful(e,o,i,n)}.bind(this))}.bind(this),function(){this._queueTask(function(){this._handleEditEndRejected(t,o,!i)}.bind(this))}.bind(this)):!1===s?this._handleEditEndRejected(t,o,!i):this._handleAdjacentEditEndSuccessful(e,o,i,n)},D.prototype._handleAdjacentEditEndSuccessful=function(e,t,i,n){var o=this._getTableBodyRows(),s=this._findAdjacentEditableRow(t,o,i);null!==s?(this._setActiveRow(s,n,!0,!1,!0),this._setTableEditable(!0,!1,e,i,n)):this._getTable().focus()},D.prototype._findAdjacentEditableRow=function(e,t,i){if(i){for(let i=e+1;i<t.length;i++)if(t[i][D._DATA_OJ_EDITABLE]!==D._CONST_OFF)return i}else for(let i=e-1;i>=0;i--)if(t[i][D._DATA_OJ_EDITABLE]!==D._CONST_OFF)return i;return null},D.prototype._handleEditEndRejected=function(e,t,i){this._setCellInRowFocus(t,e,i)},D.prototype._fireEditRowChangeEvent=function(e,t){this._queueTask(function(){this.option("editRow",e,{_context:{originalEvent:t,internalSet:!0,writeback:!0}})}.bind(this))},D.prototype._setTableEditable=function(e,t,i,n,o,s){if(this._isTableEditMode()&&!this._isEditPending){var a=this._getData()instanceof d.TableDataSourceAdapter,r=this._getCurrentRow();if(null!=r){const d=this._getRowToBeEdited(r);if(d&&d[D._DATA_OJ_EDITABLE]!==D._CONST_OFF){var l,_,u,h,c=r.rowKey,p=this._getRowIdxForRowKey(c),S=[];let d;var g=this._getEditableRowKey();try{if(e&&!this._hasEditableRow())l=this._getTableBodyRow(p),(_=this._getRendererContextObject(l,{row:{key:c,index:r.rowIndex},isCurrentRow:!0})).item=l[D._ROW_ITEM_EXPANDO],(u=this._trigger("beforeRowEdit",o,{accept:function(e){S.push(e)},rowContext:_}))&&(h={rowKey:c,rowIndex:p});else{if(e||!this._hasEditableRow())return;l=this._getTableBodyRow(this._getEditableRowIdx()),c=this._getRowKeyForRowIdx(this._getEditableRowIdx()),(_=this._getRendererContextObject(l,{row:{key:c,index:this._getDataSourceRowIndexForRowKey(c)},isCurrentRow:!0})).item=l[D._ROW_ITEM_EXPANDO],(u=this._trigger("beforeRowEditEnd",o,{accept:function(e){S.push(e)},setUpdatedItem:function(e){d=e},cancelEdit:t,rowContext:_}))&&(h={rowKey:null,rowIndex:-1})}}catch(e){return!1}if(!u)return this._syncActiveElement(),!1;if(this._getTable().contains(document.activeElement)&&this._getTable().focus(),0!==S.length)return this._isEditPending=!0,this._insertSkeletonRow(l),this._queueTask(function(){return this._editPromise=Promise.all(S).then(function(){this._removeSkeletonRow(l);var t=this._getRowIdxForRowKey(c);return e&&p!==t&&(h.rowIndex=t),this._fireEditRowChangeEvent(h,o),e?(this._setTableActionableMode(!1,!0),this._setEditableRowIdx(t),this._getTable().setAttribute(D.DOM_ATTR._ARIA_LABELLEDBY,""),this._refreshRow(t,!0,!1,!a).then(function(){return this._setCellInRowFocus(t,i,n),this._refreshPrevEditableRow(g,d)}.bind(this))):(this._focusEditCell=null,this._setEditableRowIdx(null),s||this._getTable().focus(),this._refreshPrevEditableRow(g,d))}.bind(this),function(){return this._removeSkeletonRow(l),e&&null==g&&this._syncActiveElement(),this._clearEditPending(),!1}.bind(this)),this._editPromise}.bind(this));this._fireEditRowChangeEvent(h,o),e?(this._setTableActionableMode(!1,!0),this._setEditableRowIdx(p),this._getTable().setAttribute(D.DOM_ATTR._ARIA_LABELLEDBY,""),this._queueTask(function(){var e=this._getRowIdxForRowKey(c);return this._refreshRow(e,!0,!1,!a).then(function(){this._setCellInRowFocus(e,i,n)}.bind(this))}.bind(this))):(this._focusEditCell=null,this._setEditableRowIdx(null),s||this._getTable().focus()),this._queueTask(function(){var e=this._getRowIdxForRowKey(g);if(null!=e){if(null==d)return this._refreshRow(e,!1,!1,t);d.then((t=>{let i;return null!=t&&t.updatedItem&&(i=t.updatedItem),this._refreshRow(e,!1,!1,!0,i)}),(()=>this._refreshRow(e,!1,!1,t)))}return Promise.resolve()}.bind(this))}}}},D.prototype._clearEditPending=function(){this._isEditPending=!1,this._editPromise=null,null!=this._delayed_edit&&this._queueTask((()=>{this._setEditRow(this._delayed_edit.editRow,this._delayed_edit.columnIdx)}))},D.prototype._refreshPrevEditableRow=function(e,t){const i=this._getRowIdxForRowKey(e);if(null!=i){if(null==t)return this._refreshRow(i,!1).then((()=>{this._clearEditPending()}));t.then((e=>{let t;return null!=e&&e.updatedItem&&(t=e.updatedItem),this._refreshRow(i,!1,!1,!0,t).then((()=>{this._clearEditPending()}))}),(()=>this._refreshRow(i,!1).then((()=>{this._clearEditPending()}))))}return this._clearEditPending(),Promise.resolve()},D.prototype._handleAddRow=function(e,t){let i=[];this._trigger("beforeRowAddEnd",t,{accept:function(e){i.push(e)},cancelAdd:e})&&(this._setTableActionableMode(!1),0!==i.length?(this._insertSkeletonRow(null,-1),this._getTable().focus(),this._queueTask(function(){return Promise.all(i).then(function(){return this._removeSkeletonRow(null,-1),this._isAddRowRendered=!1,this._refreshAddNewRowPlaceholder().then(function(){let t=this._getPlaceHolderRow();this._getLayoutManager()._initializeFrozenColumns(!1,t),this._setActiveAddRow(),this._setTableActionableMode(!e)}.bind(this))}.bind(this),function(){this._removeSkeletonRow(null,-1),this._setActiveAddRow(),this._setTableActionableMode(!0)}.bind(this))}.bind(this))):this._queueTask(function(){return this._isAddRowRendered=!1,this._refreshAddNewRowPlaceholder().then(function(){let t=this._getPlaceHolderRow();this._getLayoutManager()._initializeFrozenColumns(!1,t),this._setActiveAddRow(),this._setTableActionableMode(!e)}.bind(this))}.bind(this)))},D._KEYBOARD_CODES={_MODIFIER_SHIFT:"shiftKey"},D.prototype._getKeyboardKeys=function(){return this._keyboardKeys||(this._keyboardKeys=[]),this._keyboardKeys.reverse()},D.prototype._addKeyboardKey=function(e){var t,i=!1,n=Object.keys(T.KEYBOARD_KEYS);for(t=0;t<n.length;t++){var o=n[t];if(T.KEYBOARD_KEYS[o]===e){i=!0;break}}if(i){var s=this._getKeyboardKeys(),a=!1,r=s.length;for(t=0;t<r;t++)if(s[t]===e){a=!0;break}a||s.push(e)}},D.prototype._isKeyPressMatch=function(e){for(var t=this._getKeyboardKeys(),i=0;i<t.length;i++)if(e(t[i]))return!0;return!1},D.prototype._removeKeyboardKey=function(e){for(var t=this._getKeyboardKeys(),i=t.length,n=0;n<i;n++)t[n]===e&&t.splice(n,1)},D.prototype._clearKeyboardKeys=function(){this._keyboardKeys=[]},D.prototype._handleKeydownLeftRight=function(e,t){if(!this._isTableActionableMode()&&!this._hasEditableRow()){var i,n,o="rtl"===this._GetReadingDirection(),s=this._isKeyPressMatch(T.isArrowLeftKeyEvent),a=o&&s||!o&&!s,r=this._getActiveHeaderIndex();if(null!=r)return i=!t||this._isNavigate||null==this._lastSelectedHeaderIdx?r:this._lastSelectedHeaderIdx,n=this._getNextVisibleColumnIndex(i,a),void(t?(this._isNavigate=!1,this._selectRange(r,Math.max(0,n),!1),this._scrollColumnIntoViewport(n)):(this._isNavigate=!0,n!==r&&this._setActiveHeader(n,e)));var l=this._getActiveFooterIndex();if(null!=l)return i=!t||this._isNavigate||null==this._lastSelectedFooterIdx?l:this._lastSelectedFooterIdx,n=this._getNextVisibleColumnIndex(i,a),void(t?(this._isNavigate=!1,this._selectRange(l,Math.max(0,n),!1),this._scrollColumnIntoViewport(n)):(this._isNavigate=!0,n!==l&&this._setActiveFooter(n,e)));this._updateAccStatusInfo(this._getNextVisibleColumnIndex(this._accColumnIndex,a))}},D.prototype._handleKeydownUpDown=function(e,t){if(!this._isTableActionableMode()&&!this._hasEditableRow()){null==this._active&&this._syncActiveElement();var i=this._isKeyPressMatch(T.isArrowUpKeyEvent),n=this._getFirstVisibleColumnIndex(0,!0);if(p.isMetaKeyPressed(e))i&&null==this._getActiveHeaderIndex()?this._setActiveHeader(n,e):i||null!=this._getActiveFooterIndex()||this._setActiveFooter(n,e);else{var o=this._getActiveRowIndex();if(null==o)i||null==this._getActiveHeaderIndex()?i&&null!=this._getActiveFooterIndex()?this._getTableBodyRows().length>0?this._setActiveRow(this._getTableBodyRows().length-1,e,!0,null,null,!0):this._setActiveNoData():this._hasActiveAddRow()?i?this._setActiveHeader(n,e):this._getTableBodyRows().length>0?this._setActiveRow(0,e,!0,null,null,!0):this._setActiveNoData():this._hasActiveNoData()&&(i?this._isAddNewRowEnabled()?this._setActiveAddRow():this._setActiveHeader(n,e):this._setActiveFooter(n,e)):this._isAddNewRowEnabled()?this._setActiveAddRow():this._getTableBodyRows().length>0?this._setActiveRow(0,e,!0,null,null,!0):this._setActiveNoData();else{var s,a,r=this._getTableBodyRows().length;if(s=!t||this._isNavigate||null==this._lastSelectedRowIdx?o:this._lastSelectedRowIdx,a=i?s>0?s-1:s:s<r-1?s+1:s,t)this._isNavigate=!1,this._selectRange(o,a,!0),this._scrollRowIntoViewport(a,!0);else if(this._isNavigate=!0,a!==o){if(!this._setActiveRow(a,e,!0,null,null,!0))return;this._getTable().focus()}else 0===a&&i?this._isAddNewRowEnabled()?this._setActiveAddRow():this._setActiveHeader(n,e):a!==r-1||i||this._setActiveFooter(n,e)}}}},D.prototype._handleKeydownTab=function(e){this._isTableTab=!0;var t,i=this._getActiveRowIndex(),n=this._getTableBody(),o=document.activeElement;if(null!=i&&this._getEditableRowIdx()===i){var s=this._getTableBodyRow(i),a=T.getFocusableElementsInNode(s),r=a.length,l=c(a).index(o),_=Math.max(this._getTableHeaderColumns().length-1,0);l!==r-1||e[D._KEYBOARD_CODES._MODIFIER_SHIFT]?0===l&&e[D._KEYBOARD_CODES._MODIFIER_SHIFT]&&(this._setAdjacentRowEditable(_,0,!1,e),e.preventDefault(),e.stopPropagation()):(this._setAdjacentRowEditable(0,_,!0,e),e.preventDefault(),e.stopPropagation())}else if(this._isTableActionableMode()){var u,h;if(u=this._hasActiveHeader()?this._getTableHeaderRow():this._hasActiveFooter()?this._getTableFooterRow():this._getActiveElement(),(t=T.getFocusableElementsInNode(u)).length>1){if(e[D._KEYBOARD_CODES._MODIFIER_SHIFT]){if(o===t[0])c(t[t.length-1]).focus(),e.preventDefault(),e.stopPropagation();else for(h=0;h<t.length;h++)if(o===t[h]){t[h-1].focus(),e.preventDefault(),e.stopPropagation();break}}else if(o===t[t.length-1])c(t[0]).focus(),e.preventDefault(),e.stopPropagation();else for(h=0;h<t.length;h++)if(o===t[h]){t[h+1].focus(),e.preventDefault(),e.stopPropagation();break}}else e.preventDefault(),e.stopPropagation()}else{!T.isFirefox()||this._isStickyLayoutEnabled()||e[D._KEYBOARD_CODES._MODIFIER_SHIFT]||(this._tempFFFocus=!0,n.focus());var d=e.key||e.keyCode;this._removeKeyboardKey(d)}},D.prototype._handleKeydownEnter=function(e){if(!(this._isTableActionableMode()&&!this._hasActiveAddRow()||T.isEventClickthroughDisabled(e,this._getTable()))){var t=this._getActiveHeaderIndex();if(null!=t){if(-1!==t&&this._getColumnDefs()[t].sortable===D._OPTION_ENABLED){var i=this._getTableHeaderColumn(t),n=c(i).data("sorted");null==n||n===D._COLUMN_SORT_ORDER._DESCENDING?this._handleSortTableHeaderColumn(t,!0,e):this._handleSortTableHeaderColumn(t,!1,e)}}else if(null==this._getActiveFooterIndex()){var o=this._getCurrentRow(),s=null!=(o=o||{}).rowIndex?o.rowIndex:-1;if(s>=0)if(this._isTableEditMode()){if(!this._hasEditableRow())return void this._setTableEditable(!0,!1,0,!0,e);var a=this._getElementColumnIdx(e.target);e[D._KEYBOARD_CODES._MODIFIER_SHIFT]?this._setAdjacentRowEditable(a,a,!1,e):this._setAdjacentRowEditable(a,a,!0,e)}else this._fireActionEvent(s,e,!1),this._setTableActionableMode(!0);else this._hasActiveAddRow()&&this._isTableActionableMode()&&this._handleAddRow(!1,e)}}},D.prototype._handleKeydownSpacebar=function(e){if(!this._isTableActionableMode()&&!this._hasEditableRow()){e.preventDefault(),e.stopPropagation();var t=this._getActiveRowIndex();if(null==t){var i=this._getActiveHeaderIndex();if(null==i){var n=this._getActiveFooterIndex();null!=n&&this._handleSelectionGesture(n,!1,!0)}else-1!==i?this._handleSelectionGesture(i,!1,!0):this._isSelectAllControlVisible()&&this._handleSelectAllGesture()}else this._handleSelectionGesture(t,!0,!0)}},D.prototype._handleKeydownF2=function(e){e.preventDefault(),e.stopPropagation(),this._isStickyLayoutEnabled()?this._isTableEditMode()&&this._hasEditableRow()||this._toggleTableActionableMode():this._isTableEditMode()?this._hasEditableRow()?this._setTableEditable(!1,!1,0,!0,e):(this._setTableEditable(!0,!1,0,!0,e),this._hasEditableRow()||this._toggleTableActionableMode()):this._toggleTableActionableMode()},D.prototype._handleKeydownEsc=function(e){this._hasEditableRow()?(e.preventDefault(),e.stopPropagation(),this._setTableEditable(!1,!0,0,!0,e)):this._isTableActionableMode()&&(e.preventDefault(),e.stopPropagation(),this._setTableActionableMode(!1)),this._getLayoutManager().handleKeyDownEsc()},D.prototype._handleKeydownHome=function(e){if(!this._isTableActionableMode()&&!this._hasEditableRow())if(null==this._active&&this._syncActiveElement(),this._hasActiveHeader()||this._hasActiveFooter()){var t=this._getFirstVisibleColumnIndex(0,!0);this._hasActiveHeader()?this._setActiveHeader(t,e):this._setActiveFooter(t,e)}else this._hasActiveRow()&&this._setActiveRow(0,e,!0)},D.prototype._handleKeydownEnd=function(e){if(!this._isTableActionableMode()&&!this._hasEditableRow())if(null==this._active&&this._syncActiveElement(),this._hasActiveHeader()||this._hasActiveFooter()){var t=this._getNextVisibleColumnIndex(this._getColumnDefs().length,!1);this._hasActiveHeader()?this._setActiveHeader(t,e):this._setActiveFooter(t,e)}else if(this._hasActiveRow()){var i=this._getTableBodyRows().length;this._setActiveRow(i-1,e,!0)}},D.prototype._columnHeaderDefaultRenderer=function(e,t){var i=e.headerContext.parentElement,n=document.createElement(D.DOM_ELEMENT._DIV);n.classList.add(D.CSS_CLASSES._COLUMN_HEADER_CLASS),c(i).empty(),i.appendChild(n);var o=document.createElement(D.DOM_ELEMENT._DIV);o.classList.add(D.CSS_CLASSES._COLUMN_HEADER_TEXT_CLASS),n.insertBefore(o,n.firstChild),null!=t?t(c(o)):this._columnHeaderDefaultTextRenderer(o,e)},D.prototype._columnHeaderSortableIconRenderer=function(e,t){var i=e.headerContext.parentElement,n=document.createElement(D.DOM_ELEMENT._DIV);n.classList.add(D.CSS_CLASSES._COLUMN_HEADER_CLASS),c(i).empty(),i.appendChild(n);var o=document.createElement(D.DOM_ELEMENT._DIV);o.classList.add(D.CSS_CLASSES._TABLE_SORT_ICON_CONTAINER_CLASS),o.setAttribute(D.DOM_ATTR._TITLE,this.getTranslatedString("labelSortAsc")),o.setAttribute(D.DOM_ATTR._ARIA_HIDDEN,"true"),this._AddHoverable(c(o)),n.appendChild(o);var s=document.createElement(D.DOM_ELEMENT._DIV);s.classList.add(D.CSS_CLASSES._WIDGET_ICON_CLASS),s.classList.add(D.CSS_CLASSES._COLUMN_HEADER_DEFAULT_SORT_ICON_CLASS),s.classList.add(D.MARKER_STYLE_CLASSES._DISABLED),s.classList.add(D.MARKER_STYLE_CLASSES._CLICKABLE_ICON),this._AddHoverable(c(s)),o.appendChild(s);var a=document.createElement(D.DOM_ELEMENT._DIV);a.classList.add(D.CSS_CLASSES._COLUMN_HEADER_TEXT_CLASS),n.insertBefore(a,n.firstChild),null!=t?t(c(a)):this._columnHeaderDefaultTextRenderer(a,e)},D.prototype._columnHeaderDefaultTextRenderer=function(e,t){var i=t.columnIndex,n=this._getColumnDefs()[i],o=null==n.headerText?"":n.headerText;if(e.appendChild(document.createTextNode(o)),!0===n.showRequired&&this._isStickyLayoutEnabled()){var s=e.parentElement,a=this._createRequiredIconDomElement();s.childNodes.length>1?s.insertBefore(a,s.childNodes[1]):s.appendChild(a)}},D.prototype._createRequiredIconDomElement=function(){var e=document.createElement(D.DOM_ELEMENT._SPAN);return e.className=D.CSS_CLASSES._COLUMN_HEADER_SHOW_REQUIRED_ICON_CLASS,e.setAttribute(D.DOM_ATTR._ROLE,"img"),e.setAttribute(D.DOM_ATTR._TITLE,this.getTranslatedString("tooltipRequired")),e},D.prototype._tableBodyRowDefaultRenderer=function(e,t,i){for(var n=this._getColumnDefs().length,o=0;o<n;o++)this._tableBodyCellDefaultRenderer(e,o,t,i)},D.prototype._tableBodyCellDefaultRenderer=function(e,t,i,n){var o=n.rowContext.parentElement,s=this._getColumnDefs()[t],a=this._createTableBodyCell();this._styleTableBodyCell(t,a,!0),this._insertTableBodyCell(e,i.key,t,a,o,!0);var r=null;null!=s.field&&(r=this._getObjectPath(i.data,s.field));var l=this._getColumnRenderer(t,"cell"),_=this._getSlotTemplate(s.template);if(null==_&&this._isDefaultCellTemplateSlotValid()&&(_=this._getSlotTemplate("cellTemplate")),l||_){var u=this._getRendererContextObject(a,{row:i});u.rowEditable=o[D._DATA_OJ_EDITABLE];var h={cellContext:u,columnIndex:t,data:r,row:i.data,componentElement:u.componentElement,parentElement:u.parentElement};if(l)T.applyRendererContent(a,l(h))||(a=c(o).children()[t],this._setTableBodyCellAttributes(e,i.key,t,a),this._styleTableBodyCell(t,a,!1));else{var d=this._getRootElement(),p=this._getTemplateEngine();if(null!=p){var S=this._getTableBody(),g=this._getCellSlotTemplateContextObject(h),m=p.execute(d,_,g,this.options.as,S,new Map([[v.FormVariantContext,"embedded"]]));m instanceof Array||(m=[m]),m.map((function(e){a.appendChild(e)})),this._hasCellTemplate=!0}}}else{var f=null==(r=this._getVal(r))?"":r;if(a.appendChild(document.createTextNode(f)),T.isIos()){a.setAttribute(D.DOM_ATTR._ROLE,"text");var E=this._getVoiceOverCellLabelledby(a,t);a.setAttribute(D.DOM_ATTR._ARIA_LABELLEDBY,E)}}},D.prototype._getRendererContextObject=function(e,t){var i={component:C.__GetWidgetConstructor(this.element,"ojTable")},n=this.options.data;if(this._isPagingModelTableDataSource()&&(n=n.getWrappedDataSource()),i.datasource=n,i.parentElement=e,null!=t.row){var o=t.row,s=o.key;if(i.status=this._getRendererStatusObject(o),this._hasEditableRow()){var a=this._getEditableRowKey();d.Object.compareValues(s,a)?i.mode="edit":i.mode="navigation"}else i.mode="navigation";this._copyMetadata(i,o)}return this._FixRendererContext(i)},D.prototype._getRendererStatusObject=function(e){return{rowIndex:e.index,rowKey:e.key,currentRow:c.extend({},this._getCurrentRow())}},D.prototype._getCellSlotTemplateContextObject=function(e,t){var i=this._getSlotTemplateContextObject(),n=e.columnIndex;if(!t){var o=e.cellContext.status.rowIndex,s=e.cellContext.status.rowKey;i[D._CONST_DATA]=e.data,i.row=e.row,i[D._CONST_INDEX]=o,i.mode=e.cellContext.mode,i[D._CONST_KEY]=s;const t=e.parentElement.parentElement;i.item=t[D._ROW_ITEM_EXPANDO],i.rowEditable=this._invokeRowEditableCallback(t[D._ROW_ITEM_EXPANDO])}i.columnIndex=n,i.columnKey=this._getColumnKeyForColumnIdx(e.columnIndex);var a=this.options.data;return this._isPagingModelTableDataSource()&&(a=a.getWrappedDataSource()),i.datasource=a,i},D.prototype._getRowSlotTemplateContextObject=function(e,t){var i=this._getSlotTemplateContextObject();t||(i[D._CONST_DATA]=e.data,i[D._CONST_INDEX]=e.rowContext.status.rowIndex,i[D._CONST_KEY]=e.rowContext.status.rowKey,i.mode=e.rowContext.mode,i.item=e.parentElement[D._ROW_ITEM_EXPANDO],i.editable=this._invokeRowEditableCallback(e.parentElement[D._ROW_ITEM_EXPANDO]),i.rowContext=e.rowContext);var n=this.options.data;return this._isPagingModelTableDataSource()&&(n=n.getWrappedDataSource()),i.datasource=n,i},D.prototype._getHeaderSlotTemplateContextObject=function(e,t){var i=this._getSlotTemplateContextObject();return i[D._CONST_DATA]=e,i.columnIndex=t,i.headerText=e,i.columnKey=this._getColumnKeyForColumnIdx(t),i},D.prototype._getFooterSlotTemplateContextObject=function(e){var t=this._getSlotTemplateContextObject();return t.columnIndex=e,t.columnKey=this._getColumnKeyForColumnIdx(e),t},D.prototype._getSlotTemplateContextObject=function(){return{componentElement:this._getRootElement()}},D.prototype._copyMetadata=function(e,t){var i=t.metadata;if(i)for(var n=Object.keys(i),o=0;o<n.length;o++){var s=n[o];e[s]=i[s]}},D.prototype._getObjectPath=function(e,t){if(null!=e&&("string"==typeof t||t instanceof String)&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")&&-1!==t.indexOf("]"))){var i=e,n=!1;if(t.split(".").map((function(e){if(null!=i&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")){var t=e.substr(0,e.indexOf("[")),o=parseInt(e.substr(e.indexOf("[")+1,e.indexOf("]")-e.indexOf("[")-1),10);i=i[t][o],n=!0}else null!==i&&void 0!==i[e]&&(i=i[e],n=!0)})),n)return i}else if(null==e)return null;return e[t]},D.prototype._getVal=function(e){return"function"==typeof e?e():e},D.prototype._getRowSelectionMode=function(){return null==this.options.selectionMode?null:this.options.selectionMode[D._CONST_ROW]},D.prototype._isRowSelectionEnabled=function(){var e=this._getRowSelectionMode();return e===D._OPTION_SELECTION_MODES._SINGLE||e===D._OPTION_SELECTION_MODES._MULTIPLE},D.prototype._getColumnSelectionMode=function(){return null==this.options.selectionMode?null:this.options.selectionMode[D._CONST_COLUMN]},D.prototype._isColumnSelectionEnabled=function(){var e=this._getColumnSelectionMode();return e===D._OPTION_SELECTION_MODES._SINGLE||e===D._OPTION_SELECTION_MODES._MULTIPLE},D.prototype._syncSelectionState=function(){var e=this.option("selected"),t=this.option("selection");this._selectionSet&&(e=this._getSelectedEquivalent(t),this._syncRangeSelection()),this._isSelectionRequiredSatisfied(e)?this._setSelected(e,this._selectionSet):this._selectFirstRowOrColumn()},D.prototype._updateSelectionStateFromEventDetailRemove=function(e,t){var i=this.option("selected"),n=i.row;n&&(e[D._CONST_KEYS].forEach((function(e){null!=t&&t[D._CONST_KEYS].has(e)||(n.isAddAll()?n.has(e)||(n=n.add([e])):n=n.delete([e]))})),i.row!==n&&(i={row:n,column:i.column},this._isSelectionRequiredSatisfied(i)?this._setSelected(i):this._selectFirstRowOrColumn()))},D.prototype._updateSelectionStateFromEventDetailChange=function(e){var t=this.option("firstSelectedRow");if(null!=t){var i=[];e[D._CONST_KEYS].forEach((function(e){i.push(e)}));for(var n=0;n<i.length;n++){var o=i[n],s=e[D._CONST_DATA][n];if(d.KeyUtils.equals(o,t.key)&&this.option("firstSelectedRow",{key:o,data:s},{_context:{writeback:!0,internalSet:!0}}),null!=this._validatedSelectedRowKeyData)for(var a=0;a<this._validatedSelectedRowKeyData.length;a++){var r=this._validatedSelectedRowKeyData[a];if(d.KeyUtils.equals(o,r.key)){this._validatedSelectedRowKeyData[a]=s;break}}}}},D.prototype._validateInitialSelectionState=function(e){var t,i,n=this.option("selection"),o=this.option("selected"),s=o.row,a=o.column;if(this._validatedSelectedRowKeyData=null,(this._selectionSet||!e&&null!=n&&0!==n.length&&s===s.clear()&&a===a.clear())&&(o=this._getSelectedEquivalent(n),t=!0),this._isSelectionRequired())if((i=this._validateSelected(o)).isLocal)this._enforceSelectionRequired(o,i.result,t);else{var r=this._createComponentBusyState("is validating selection-required keys.");i.result.then(function(e){this._enforceSelectionRequired(o,e,t),this._clearComponentBusyState(r)}.bind(this))}else t&&this._syncRangeSelection(),this._setSelected(o,t);this._initialSelectionStateValidated=!0},D.prototype._isSelectionRequired=function(){return"true"===String(this.options.selectionRequired).toLowerCase()},D.prototype._hasSelected=function(e){null==e&&(e=this.option("selected"));var t=e.row,i=e.column;return t.isAddAll()||t.values().size>0||i.isAddAll()||i.values().size>0},D.prototype._isSelectionRequiredSatisfied=function(e){return!this._isSelectionRequired()||this._hasSelected(e)},D.prototype._enforceSelectionRequired=function(e,t,i){i?this._hasSelected(t)?t.row===e.row&&t.column===e.column?(this._syncRangeSelection(),this._setSelected(t,!0)):this._setSelected(t):this._selectFirstRowOrColumn():this._hasSelected(t)?this._setSelected(t):this._selectFirstRowOrColumn()},D.prototype._selectFirstRowOrColumn=function(){var e,t;if(this._isRowSelectionEnabled()&&null!=(t=this._getRowKeyForRowIdx(0)))return e=new R.KeySetImpl([t]),void this._setSelected({row:e,column:new R.KeySetImpl});this._isColumnSelectionEnabled()&&null!=(t=this._getColumnKeyForColumnIdx(0))&&(e=new R.KeySetImpl([t]),this._setSelected({row:new R.KeySetImpl,column:e}))},D.prototype._validateSelected=function(e){var t=e.column,i=t;if(!t.isAddAll()){var n=this._getColumnKeys(),o=[];t.values().forEach((function(e){-1===n.indexOf(e)&&o.push(e)})),o.length>0&&(i=i.delete(o))}var s=e.row,a=s;if(!s.isAddAll()){var r=this._getLocalRowKeys(),l=[];if(s.values().forEach((function(e){-1===r.indexOf(e)&&l.push(e)})),l.length>0){var _=this._fetchValidRowKeyData(l);if(_)return{isLocal:!1,result:_.then(function(e){return this._validatedSelectedRowKeyData=e,e.forEach((function(e){l.splice(l.indexOf(e.key),1)})),{row:a=a.delete(l),column:i}}.bind(this))};a=a.delete(l)}}return{isLocal:!0,result:{row:a,column:i}}},D.prototype._fetchValidRowKeyData=function(e){var t=this._getData();if(t&&t.getCapability){var i=t.getCapability("fetchByKeys");if(i&&"lookup"===i.implementation)return new Promise((function(i){t.fetchByKeys({keys:new Set(e),scope:"global"}).then((function(e){var t=[];e.results.forEach((function(e,i){t.push({key:i,data:e.data})})),i(t)}),(function(){i([])}))}))}return null},D.prototype._syncRangeSelection=function(e){if(void 0===e&&(e=this.option("selection")),null!=e)for(var t=e.length,i=0;i<t;i++){var n,o,s,a,r=e[i];null!=r.startKey&&null!=r.startKey[D._CONST_ROW]?(n=r.startKey[D._CONST_ROW],o=this._getDataSourceRowIndexForRowKey(n),r.startIndex={},r.startIndex[D._CONST_ROW]=o):null!=r.startIndex&&null!=r.startIndex[D._CONST_ROW]&&(o=r.startIndex[D._CONST_ROW],null!=(n=this._getRowKeyForDataSourceRowIndex(o))&&(r.startKey={},r.startKey[D._CONST_ROW]=n)),null!=r.endKey&&null!=r.endKey[D._CONST_ROW]?(s=r.endKey[D._CONST_ROW],a=this._getDataSourceRowIndexForRowKey(s),r.endIndex={},r.endIndex[D._CONST_ROW]=a):null!=r.endIndex&&null!=r.endIndex[D._CONST_ROW]&&(a=r.endIndex[D._CONST_ROW],null!=(s=this._getRowKeyForDataSourceRowIndex(a))&&(r.endKey={},r.endKey[D._CONST_ROW]=s))}},D.prototype._processRowRangeSelection=function(e,t,i){var n,o,s,a,r,l,_=!0;if(null!=e.startKey&&null!=e.startKey[D._CONST_ROW]?(r=e.startKey[D._CONST_ROW],n=this._getDataSourceRowIndexForRowKey(r),isNaN(n)&&(_=null)):null!=e.startIndex&&null!=e.startIndex[D._CONST_ROW]&&(n=e.startIndex[D._CONST_ROW]),null!=e.endKey&&null!=e.endKey[D._CONST_ROW])l=e.endKey[D._CONST_ROW],null===(o=this._getDataSourceRowIndexForRowKey(l))&&this._isLoadMoreOnScroll()&&(o=this._getDataSourceLastFetchedRowIndex(),_=null);else if(null!=e.endIndex&&null!=e.endIndex[D._CONST_ROW]){o=e.endIndex[D._CONST_ROW];var u=this._getDataSourceLastFetchedRowIndex();this._isLoadMoreOnScroll()&&o>u&&(o=u,_=null)}if(void 0===n&&void 0===o)_=!1;else if(null!=n&&null!=o&&n<=o){r=this._getRowKeyForDataSourceRowIndex(n),l=this._getRowKeyForDataSourceRowIndex(o),s=this._getRowIdxForRowKey(r),a=this._getRowIdxForRowKey(l);for(var h=s;h<=a;h++){var d=this._getRowKeyForRowIdx(h);t=t.add([d])}i=i.clear()}else S.warn("Error: Cannot resolve row range in selection - \n start row key: "+r+"\n end row key: "+l+"\n start row index: "+n+"\n end row index: "+o),null!=r&&null!=l&&(t=(t=t.add([r])).add([l]),i=i.clear());return{status:_,rowKeySet:t,columnKeySet:i}},D.prototype._getDataSourceLastFetchedRowIndex=function(){var e=this._getTableBodyRows();if(e.length>0){var t=this._getData(),i=0;return this._isPagingModelDataProvider()&&(i=t.getStartItemIndex()),e.length+i-1}return 0},D.prototype._processColumnRangeSelection=function(e,t,i){var n,o,s,a,r=!0;if(null!=e.startKey&&null!=e.startKey[D._CONST_COLUMN]?(n=e.startKey[D._CONST_COLUMN],s=this._getColumnIdxForColumnKey(n)):null!=e.startIndex&&null!=e.startIndex[D._CONST_COLUMN]&&(s=e.startIndex[D._CONST_COLUMN]),null!=e.endKey&&null!=e.endKey[D._CONST_COLUMN]?(o=e.endKey[D._CONST_COLUMN],a=this._getColumnIdxForColumnKey(o)):null!=e.endIndex&&null!=e.endIndex[D._CONST_COLUMN]&&(a=e.endIndex[D._CONST_COLUMN]),void 0===s&&void 0===a)r=!1;else if(null!=s&&null!=a&&!isNaN(s)&&!isNaN(a)&&s<=a){for(var l=s;l<=a;l++){var _=this._getColumnKeyForColumnIdx(l);i=i.add([_])}t=t.clear()}else S.error("Error: Cannot resolve column range in selection - \n start column key: "+n+"\n end column key: "+o+"\n start column index: "+s+"\n end column index: "+a);return{status:r,rowKeySet:t,columnKeySet:i}},D.prototype._invalidateRangeSelection=function(){var e=this.option("selection");if(null!=e)for(var t=0;t<e.length;t++){var i,n,o=e[t];if(null!=o.startKey&&(i=o.startKey[D._CONST_ROW]),null!=o.endKey&&(n=o.endKey[D._CONST_ROW]),i!==n||void 0===i){var s=this.option("selected.row"),a=this._getRowSelectionFromKeySet(s);this.option("selection",a,{_context:{writeback:!0,internalSet:!0}});break}}},D.prototype._setSelected=function(e,t){if(this._selectionSet=t,null!=e){var i;null==e.row&&(e.row=new R.KeySetImpl),null==e.column&&(e.column=new R.KeySetImpl);var n=this.option("selected");if(this._selectionSet?T.areKeySetsEqual(n.row,e.row)&&T.areKeySetsEqual(n.column,e.column)||(i=!0):n.row===e.row&&n.column===e.column||(i=!0),i&&(this.option("selected",e,{_context:{writeback:!0,internalSet:!0}}),this._isSelectionRequired()&&this._validatedSelectedRowKeyData))for(var o=this._validatedSelectedRowKeyData.length-1;o>=0;o--){var s=this._validatedSelectedRowKeyData[o];e.row.has(s.key)||this._validatedSelectedRowKeyData.splice(o,1)}this._isDefaultSelectorEnabled()&&this._updateSelectors(e.row),this._applySelected(e);var a=null,r=this._getRowSelectionFromKeySet(e.row);if(null!=r&&r.length>0){var l=r[0];null!=l.startKey&&(a=l.startKey[D._CONST_ROW])}if(this._setFirstSelectedRow(a),!t){var _=this._getSelectionEquivalent(e);this.option("selection",_,{_context:{writeback:!0,internalSet:!0}})}}},D.prototype._setFirstSelectedRow=function(e){var t=this.option("firstSelectedRow");if(!d.KeyUtils.equals(e,t.key)||!this._initialSelectionStateValidated){var i=null;if(null!=e){var n=this.getDataForVisibleRow(this._getRowIdxForRowKey(e));if(null!=n)i=n[D._CONST_DATA];else if(this._validatedSelectedRowKeyData)for(var o=0;o<this._validatedSelectedRowKeyData.length;o++){var s=this._validatedSelectedRowKeyData[o];if(d.KeyUtils.equals(e,s.key)){i=s.data;break}}}this.option("firstSelectedRow",{key:e,data:i},{_context:{writeback:!0,internalSet:!0}})}},D.prototype._getSelectedEquivalent=function(e){var t;if(null!=e){for(var i=(t={row:new R.KeySetImpl,column:new R.KeySetImpl}).row,n=t.column,o=e.length,s=0;s<o;s++){var a=e[s];if(null==a.startKey&&null==a[D._CONST_STARTINDEX]||null==a.endKey&&null==a[D._CONST_ENDINDEX])S.error("Error: Invalid range object in selection. Both start and end objects must be specified");else{var r=this._processRowRangeSelection(a,i,n);i=r.rowKeySet,n=r.columnKeySet,!1===r.status&&(!1===(r=this._processColumnRangeSelection(a,i,n)).status&&S.error("Error: Invalid range object"),i=r.rowKeySet,n=r.columnKeySet)}}t.row===i&&t.column===n||(t={row:i,column:n})}else t={row:new R.KeySetImpl,column:new R.KeySetImpl};return t},D.prototype._getSelectionEquivalent=function(e){var t=this._getRowSelectionFromKeySet(e.row);return t.length>0||t.inverted||(t=this._getColumnSelectionFromKeySet(e.column)).length>0||t.inverted?t:[]},D.prototype._getRowSelectionFromKeySet=function(e){var t=[];return(e.isAddAll()?e.deletedValues():e.values()).forEach((function(e){var i={startKey:{row:e},endKey:{row:e}},n=this._getDataSourceRowIndexForRowKey(e);!isNaN(n)&&n>=0&&(i.startIndex={row:n},i.endIndex={row:n}),t.push(i)}),this),t.inverted=e.isAddAll(),t},D.prototype._getColumnSelectionFromKeySet=function(e){var t=[];return(e.isAddAll()?e.deletedValues():e.values()).forEach((function(e){var i={startKey:{column:e},endKey:{column:e}},n=this._getColumnIdxForColumnKey(e);n>=0&&(i.startIndex={column:n},i.endIndex={column:n}),t.push(i)}),this),t.inverted=e.isAddAll(),t},D.prototype._applySelected=function(e){var t=e.row,i=e.column;if(this._getSelectedRowIdxs().forEach((function(e){var i=this._getTableBodyRow(e);const n=i[D._DATA_OJ_SELECTABLE]!==D._CONST_OFF;!t.has(this._getRowKey(i))&&n&&(this._applyRowSelection(e,i,!1),this._setLastRowSelection(e,!1))}),this),this._isRowSelectionEnabled())if(t.isAddAll()){let e;this._getTableBodyRows().forEach((function(i,n){const o=i[D._DATA_OJ_SELECTABLE]!==D._CONST_OFF,s=this._getRowKey(i);t.has(s)&&o&&(this._applyRowSelection(n,i,!0),e=n)}),this),e&&this._setLastRowSelection(e,!0)}else t.values().forEach((function(e){var t=this._getRowIdxForRowKey(e);if(null!=t&&t>=0){const e=this._getTableBodyRow(t);e[D._DATA_OJ_SELECTABLE]!==D._CONST_OFF&&(this._applyRowSelection(t,e,!0),this._setLastRowSelection(t,!0))}}),this);if(0===this._getSelectedRowIdxs().length&&this._removeTableBodyRowTouchSelectionAffordance(),this._getSelectedHeaderColumnIdxs().forEach((function(e){i.has(this._getColumnKeyForColumnIdx(e))||this._applyColumnSelection(e,!1)}),this),this._isColumnSelectionEnabled())if(i.isAddAll()){var n=this._getTableHeaderColumns();n.forEach((function(e,t){i.has(this._getColumnKeyForColumnIdx(t))&&this._applyColumnSelection(t,!0)}),this);var o=n.length-1,s=this._getColumnKeyForColumnIdx(o);this._setLastHeaderColumnSelection(o,i.has(s))}else i.values().forEach((function(e){var t=this._getColumnIdxForColumnKey(e);null!=t&&t>=0&&this._applyColumnSelection(t,!0)}),this)},D.prototype._applyRowSelection=function(e,t,i){if(t.classList.contains(D.MARKER_STYLE_CLASSES._SELECTED)!==i){i?t.classList.add(D.MARKER_STYLE_CLASSES._SELECTED):t.classList.remove(D.MARKER_STYLE_CLASSES._SELECTED);var n=this.options.dnd.drag;n&&("rows"===n||n.rows)&&this._getTableDndContext().setElementDraggable(t,i)}i?this._updateRowStateCellsClass(e,null,{selected:!0}):this._updateRowStateCellsClass(e,null,{selected:!1})},D.prototype._applyColumnSelection=function(e,t){var i=this.options.dnd.reorder;if(i&&i.columns===D._OPTION_ENABLED){var n=this._getTableHeaderColumn(e);this._getTableDndContext().setElementDraggable(n,t)}this._setColumnState(e,t)},D.prototype._setLastRowSelection=function(e,t){this._lastSelectedRowIdxArray||(this._lastSelectedRowIdxArray=[]);for(var i=this._lastSelectedRowIdxArray.length,n=0;n<i;n++)if(this._lastSelectedRowIdxArray[n]===e){this._lastSelectedRowIdxArray.splice(n,1);break}t&&this._lastSelectedRowIdxArray.push(e)},D.prototype._setLastHeaderColumnSelection=function(e,t){this._lastSelectedColumnIdxArray||(this._lastSelectedColumnIdxArray=[]);for(var i=this._lastSelectedColumnIdxArray.length,n=0;n<i;n++)if(this._lastSelectedColumnIdxArray[n]===e){this._lastSelectedColumnIdxArray.splice(n,1);break}t&&this._lastSelectedColumnIdxArray.push(e)},D.prototype._handleSelectionGesture=function(e,t,i){var n,o=this.option("selected"),s=o.row,a=o.column;if(t){a=a.clear();const t=this._getTableBodyRow(e);if(this._isRowSelectionEnabled()&&t&&t[D._DATA_OJ_SELECTABLE]!==D._CONST_OFF){var r=this._getRowKeyForRowIdx(e),l=this._getRowSelectionMode();s.has(r)?this._isStickyLayoutEnabled()?(s=i?s.delete([r]):new R.KeySetImpl([r]),n=!i):!i&&this._getSelectedRowIdxs().length>1&&l===D._OPTION_SELECTION_MODES._MULTIPLE?(s=new R.KeySetImpl([r]),n=!0):(s=s.delete([r]),n=!1):(s=i&&l===D._OPTION_SELECTION_MODES._MULTIPLE?s.add([r]):new R.KeySetImpl([r]),n=!0)}}else if(this._isColumnSelectionEnabled()){s=s.clear();var _=this._getColumnSelectionMode();if(e>-1){var u=this._getColumnKeyForColumnIdx(e);a.has(u)?this._isStickyLayoutEnabled()?(a=i?a.delete([u]):new R.KeySetImpl([u]),n=!i):!i&&this._getSelectedHeaderColumnIdxs().length>1&&_===D._OPTION_SELECTION_MODES._MULTIPLE?(a=new R.KeySetImpl([u]),n=!0):(a=a.delete([u]),n=!1):(a=i&&_===D._OPTION_SELECTION_MODES._MULTIPLE?a.add([u]):new R.KeySetImpl([u]),n=!0)}}o.row===s&&o.column===a||(o={row:s,column:a},this._isSelectionRequiredSatisfied(o)&&(this._announceAccSelectionUpdate(n),this._setSelected(o)))},D.prototype._handleSelectAllGesture=function(){var e=this.option("selected"),t=e.row,i=e.column;i=i.clear(),t=t.isAddAll()?new R.KeySetImpl:new R.AllKeySetImpl,e.row===t&&e.column===i||(e={row:t,column:i},this._isSelectionRequiredSatisfied(e)&&this._setSelected(e))},D.prototype._handleMouseEnterSelection=function(e,t){if(this._isRowSelectionEnabled()){var i=this._getElementRowIdx(e);null!=this._mouseDownRowIdx&&null!=i&&this._mouseDownRowIdx!==i?(this._getRowSelectionMode()===D._OPTION_SELECTION_MODES._MULTIPLE&&this._selectRange(this._mouseDownRowIdx,i,!0),i<this._mouseDownRowIdx?this._moveTableBodyRowTouchSelectionAffordanceTop(i):this._moveTableBodyRowTouchSelectionAffordanceBottom(i)):null!=i&&i===this._mouseDownRowIdx&&(t?(this._selectRange(i,i,!0),this._moveTableBodyRowTouchSelectionAffordanceTop(i),this._moveTableBodyRowTouchSelectionAffordanceBottom(i)):this._clearSelectedRows())}},D.prototype._selectRange=function(e,t,i){var n,o=this.option("selected"),s=o.row,a=o.column;if(i){if(a=a.clear(),this._isRowSelectionEnabled()){if(s=s.clear(),e<=t)for(n=e;n<=t;n++){const e=this._getRowKeyForRowIdx(n),t=this._findRowElementByKey(e);t&&t[D._DATA_OJ_SELECTABLE]!==D._CONST_OFF&&(s=s.add([e]))}else for(n=e;n>=t;n--){const e=this._getRowKeyForRowIdx(n),t=this._findRowElementByKey(e);t&&t[D._DATA_OJ_SELECTABLE]!==D._CONST_OFF&&(s=s.add([e]))}this._lastSelectedRowIdx=t}}else if(s=s.clear(),this._isColumnSelectionEnabled()){if(a=a.clear(),e<=t)for(n=e;n<=t;n++)a=a.add([this._getColumnKeyForColumnIdx(n)]);else for(n=e;n>=t;n--)a=a.add([this._getColumnKeyForColumnIdx(n)]);this._lastSelectedHeaderIdx=t}o.row===s&&o.column===a||(o={row:s,column:a},this._isSelectionRequiredSatisfied(o)&&this._setSelected(o))},D.prototype._getRowSelection=function(e){return this._getTableBodyRow(e).classList.contains(D.MARKER_STYLE_CLASSES._SELECTED)},D.prototype._getHeaderColumnSelection=function(e){return this._getTableHeaderColumn(e).classList.contains(D.MARKER_STYLE_CLASSES._SELECTED)},D.prototype._getFooterColumnSelection=function(e){return this._getTableFooterCell(e).classList.contains(D.MARKER_STYLE_CLASSES._SELECTED)},D.prototype._getSelectedRowIdxs=function(){return this._getRowIdxsForElementsWithStyleClass("."+D.CSS_CLASSES._TABLE_DATA_ROW_CLASS+"."+D.MARKER_STYLE_CLASSES._SELECTED)},D.prototype._getSelectedHeaderColumnIdxs=function(){return this._getColumnIdxsForElementsWithStyleClass("."+D.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS+"."+D.MARKER_STYLE_CLASSES._SELECTED)},D.prototype._getSelectedFooterColumnIdxs=function(){return this._getColumnIdxsForElementsWithStyleClass("."+D.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS+"."+D.MARKER_STYLE_CLASSES._SELECTED)},D.prototype._clearSelectedRows=function(){this._selectionAnchorIdx=null,this._lastSelectedRowIdx=null;var e=this.option("selected.row"),t=e.clear();if(t!==e){var i={row:t,column:this.option("selected.column")};this._setSelected(i)}},D.prototype._clearSelectionState=function(){if(this._selectionAnchorIdx=null,this._lastSelectedRowIdx=null,this._lastSelectedHeaderIdx=null,this._hasSelected()){var e={row:new R.KeySetImpl,column:new R.KeySetImpl};this._setSelected(e)}},D.prototype._selectedKeysChangedListener=function(e){if("internal"===e.detail.updatedFrom)if(e.detail.value.isAddAll())this._setSelected({row:e.detail.value,column:new R.KeySetImpl},!1,!0);else{let t=this.option("selected").row;if(null==e.target.rowKey)return void this._setSelected({row:new R.KeySetImpl,column:new R.KeySetImpl},!1,!0);t=t.has(e.target.rowKey)?t.delete([e.target.rowKey]):t.add([e.target.rowKey]);let i=this._getTable().getElementsByClassName(D.CSS_CLASSES._TABLE_HEADER_SELECTOR_CLASS)[0];if(i){let e=t.values?t.values().size:t.deletedValues().size;i.indeterminate=0!==e}this._setSelected({row:t,column:new R.KeySetImpl},!1,!0)}},D.prototype._updateSelectors=function(e){let t=this._getTable(),i=t.getElementsByClassName(D.CSS_CLASSES._TABLE_HEADER_SELECTOR_CLASS);if(i.length>0){i[0].selectedKeys=e;let t=e.values?e.values().size:e.deletedValues().size;i[0].indeterminate=0!==t}let n=[],o=t.querySelectorAll(`\n    .${D.CSS_CLASSES._TABLE_DATA_ROW_SELECTOR_CLASS} >\n    .${D.MARKER_STYLE_CLASSES._SELECTED}`);for(let e=0;e<o.length;e++)n.push(o[e].parentElement);let s=Array.from(t.getElementsByClassName(D.CSS_CLASSES._TABLE_DATA_ROW_SELECTOR_CLASS));for(let t=0;t<s.length;t++){let i=s[t],o=-1!==n.indexOf(i);e.has(i.rowKey)?o||(i.selectedKeys=new R.KeySetImpl([i.rowKey])):o&&(i.selectedKeys=new R.KeySetImpl([]))}},D.prototype.version="1.0.0",D.prototype.defaultElement="<table>",D.prototype.widgetEventPrefix="oj",D.prototype.options={accessibility:null,addRowDisplay:"top",animateStart:null,animateEnd:null,as:"",currentRow:null,data:null,display:"list",dnd:{drag:null,drop:null,reorder:{columns:"disabled"}},editMode:"none",editRow:{rowKey:null,rowIndex:-1},emptyText:null,horizontalGridVisible:"auto",layout:"contents",row:{editable:null,selectable:null,sticky:null},rowRenderer:null,scrollToKey:"auto",scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500,scroller:null,scrollerOffsetBottom:null,scrollerOffsetStart:null,scrollerOffsetEnd:null,scrollerOffsetTop:null},scrollPosition:{x:0,y:0},selectAllControl:"visible",firstSelectedRow:{key:null,data:null},selection:[],selected:{row:new R.KeySetImpl,column:new R.KeySetImpl},selectionMode:null,selectionRequired:!1,verticalGridVisible:"auto",columns:[{className:null,field:null,footerClassName:null,footerRenderer:null,footerStyle:null,footerTemplate:null,frozenEdge:null,headerClassName:null,headerRenderer:null,headerStyle:null,headerTemplate:null,headerText:null,renderer:null,resizable:"disabled",id:null,sortProperty:null,sortable:"auto",style:null,template:null,minWidth:null,maxWidth:null,weight:null,width:null}],columnsDefault:{className:null,field:null,footerClassName:null,footerRenderer:null,footerStyle:null,footerTemplate:null,headerClassName:null,headerRenderer:null,headerStyle:null,headerTemplate:null,headerText:null,renderer:null,resizable:"disabled",sortProperty:null,sortable:"auto",style:null,template:null,minWidth:"auto",maxWidth:null,weight:1,width:null},beforeCurrentRow:null,beforeRowEdit:null,beforeRowEditEnd:null,beforeRowAddEnd:null,ready:null,rowAction:null,sort:null},D.prototype.getContextByNode=function(e){var t=this.getSubIdByNode(e,!0);if(t&&t.subId===D._SUB_ID._TABLE_CELL){var i=t.rowIndex,n=this._getRowKeyForRowIdx(i);t.key=n}return t},D.prototype.getDataForVisibleRow=function(e){var t=this._getTableBodyRow(e);return null!=t?{key:t[D._ROW_ITEM_EXPANDO].key,data:t[D._ROW_ITEM_EXPANDO].data,index:e}:null},D.prototype.getNodeBySubId=function(e){if(null==e)return this.element?this.element[0]:null;var t,i=e.subId;if(i===D._SUB_ID._TABLE_CELL){var n=parseInt(e.rowIndex,10);return t=parseInt(e.columnIndex,10),this._getTableBodyLogicalCells(n)[t]}if(i===D._SUB_ID._TABLE_HEADER||i===D._SUB_ID._TABLE_SORT_ASCENDING||i===D._SUB_ID._TABLE_SORT_DESCENDING){t=e.index;var o=this._getTableHeaderLogicalColumns()[t];if(null!=o){if(i===D._SUB_ID._TABLE_HEADER)return o;if(i===D._SUB_ID._TABLE_SORT_ASCENDING){var s=this._getTableElementsByClassName(o,D.CSS_CLASSES._COLUMN_HEADER_ASC_ICON_CLASS);if(s.length>0)return s[0]}else{var a=this._getTableElementsByClassName(o,D.CSS_CLASSES._COLUMN_HEADER_DSC_ICON_CLASS);if(a.length>0)return a[0]}}}else if(i===D._SUB_ID._TABLE_FOOTER){t=e.index;var r=this._getTableFooterLogicalCells()[t];if(null!=r)return r}return null},D.prototype.getSubIdByNode=function(e,t){var i=this._getFirstAncestor(e,"."+D.CSS_CLASSES._TABLE_DATA_CELL_CLASS,!0);if(null!=i)return{subId:D._SUB_ID._TABLE_CELL,rowIndex:this._getElementRowIdx(i),columnIndex:this._getElementColumnIdx(i)};var n=this._getFirstAncestor(e,"."+D.CSS_CLASSES._COLUMN_HEADER_ASC_ICON_CLASS,!0);if(null!=n)return{subId:t?D._SUB_ID._TABLE_HEADER:D._SUB_ID._TABLE_SORT_ASCENDING,index:this._getElementColumnIdx(n)};var o=this._getFirstAncestor(e,"."+D.CSS_CLASSES._COLUMN_HEADER_DSC_ICON_CLASS,!0);if(null!=o)return{subId:t?D._SUB_ID._TABLE_HEADER:D._SUB_ID._TABLE_SORT_DESCENDING,index:this._getElementColumnIdx(o)};var s=this._getFirstAncestor(e,"."+D.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS,!0);if(null!=s)return{subId:D._SUB_ID._TABLE_HEADER,index:this._getElementColumnIdx(s)};var a=this._getFirstAncestor(e,"."+D.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS,!0);return null!=a?{subId:D._SUB_ID._TABLE_FOOTER,index:this._getElementColumnIdx(a)}:null},D.prototype.refresh=function(){this._super(),this._refresh()},D.prototype.refreshRow=function(e){if(!this._getData())return Promise.resolve(!1);var t=this._getTableBodyRows();if(isNaN(e)||e<0||e>=t.length||0===t.length){var i=D._LOGGER_MSG._ERR_REFRESHROW_INVALID_INDEX_SUMMARY,n=f.applyParameters(D._LOGGER_MSG._ERR_REFRESHROW_INVALID_INDEX_DETAIL,{rowIdx:e.toString()});throw new RangeError(i+"\n"+n)}return this._queueTask(function(){return this._refreshRow(e,!0,!0)}.bind(this))},D.prototype.widget=function(){var e=this._getTableContainer();return null!=e?c(e):this.element},D.prototype._ComponentCreate=function(){this._super(),this._initTemplateEngine(),this._draw(),this._registerCustomEvents(),this._on(this._events),this._isTouchDevice()&&this._registerTouchEvents(),this._registerDomEventListeners(),this._setEditableRowIdx(null),T.disableDefaultBrowserStyling(this.element[0])},D.prototype._AfterCreate=function(){this._super(),this._createContextMenuContainer(),this._isInitFetch=!0},D.prototype._SetupResources=function(){this._super(),this._registerResizeListener(),this._registerDataSourceEventListeners(),this._isInitFetch?(this._initFetch(),this._isInitFetch=!1):this._queueTask(function(){return this._getLayoutManager().notifyTableUpdate(D._UPDATE._REFRESH),this._invokeDataFetchRows()}.bind(this))},D.prototype._ReleaseResources=function(){this._super(),this._cleanComponent()},D.prototype._destroy=function(){this._cleanComponent(!0)},D.prototype._NotifyAttached=function(){this._super(),this._scrollTop=void 0,this._scrollLeft=void 0,this._IsCustomElement()?this._initializeNotifyAttachedTimeout():(this._getLayoutManager().notifyTableUpdate(D._UPDATE._ATTACHED),this._hasPendingTasks()||this._syncTableSizing())},D.prototype._NotifyDetached=function(){this._super(),this._clearNotifyAttachedTimeout()},D.prototype._initializeNotifyAttachedTimeout=function(){this._clearNotifyAttachedTimeout(),this._notifyAttachedTimeout=setTimeout(function(){this._hasPendingTasks()||this._syncScrollPosition(),this._notifyAttachedTimeout=null}.bind(this),0)},D.prototype._clearNotifyAttachedTimeout=function(){null!=this._notifyAttachedTimeout&&(clearTimeout(this._notifyAttachedTimeout),this._notifyAttachedTimeout=null)},D.prototype._NotifyHidden=function(){this._super(),this._getLayoutManager().clearCachedDimensions()},D.prototype._NotifyShown=function(){this._super(),this._getLayoutManager().notifyTableUpdate(D._UPDATE._SHOWN),this._hasPendingTasks()||this._syncTableSizing()},D.prototype._VerifyConnectedForSetup=function(){return!0},D.prototype._GetDefaultContextMenu=function(){return this._defaultContextMenu},D.prototype._NotifyContextMenuGesture=function(e,t,i){var n={};if(this._contextMenuEvent=t.originalEvent,!(this._isNodeEditable(this._contextMenuEvent.target)||this._isNodeClickable(this._contextMenuEvent.target)||"touch"===i&&this._isNodeDraggable(this._contextMenuEvent.target))){var o,s=this._getFirstAncestor(this._contextMenuEvent.target,"."+D.CSS_CLASSES._TABLE_DATA_CELL_CLASS,!0);if(null!=s){var a=this._getElementColumnIdx(s);o=this._getTableHeaderColumn(a)}else o=this._getFirstAncestor(this._contextMenuEvent.target,"."+D.CSS_CLASSES._COLUMN_HEADER_CELL_CLASS,!0);if("keydown"===this._contextMenuEvent.type){var r=this._getTable();if(null==o&&(o=this._getActiveHeaderColumn()),this._contextMenuEvent.target===r)if(null!=o)n.position={my:D._POSITION._START_TOP,at:D._POSITION._START_BOTTOM,of:o};else{var l=this._getActiveRowIndex();if(l>=0){var _=this._getTableBodyRow(l);n.position={my:D._POSITION._START_TOP,at:D._POSITION._START_BOTTOM,of:_}}else n.position={my:D._POSITION._START_TOP,at:D._POSITION._START_BOTTOM,of:this._contextMenuEvent.target}}else n.position={my:D._POSITION._START_TOP,at:D._POSITION._START_BOTTOM,of:this._contextMenuEvent.target}}else{var u=this._getFirstAncestor(this._contextMenuEvent.target,"."+D.CSS_CLASSES._TABLE_FOOTER_CELL_CLASS,!0);if(null==o&&null==s&&null==u)return}this._contextMenuEventHeaderColumn=o;var h=e.element?e.element[0]:e;this._populateContextMenuItems(h,this._handleContextMenuSelect.bind(this));var d=h.querySelectorAll("[data-oj-command=oj-table-sortAsc]");d.length>0&&(d=d[0],o&&o.getAttribute("data-oj-sortable")===D._OPTION_ENABLED?"OJ-OPTION"===d.nodeName?d.removeAttribute("disabled"):d.classList.remove(D.MARKER_STYLE_CLASSES._DISABLED):"OJ-OPTION"===d.nodeName?d.setAttribute("disabled","true"):d.classList.add(D.MARKER_STYLE_CLASSES._DISABLED));var c=h.querySelectorAll("[data-oj-command=oj-table-sortDsc]");c.length>0&&(c=c[0],o&&o.getAttribute("data-oj-sortable")===D._OPTION_ENABLED?"OJ-OPTION"===c.nodeName?c.removeAttribute("disabled"):c.classList.remove(D.MARKER_STYLE_CLASSES._DISABLED):"OJ-OPTION"===c.nodeName?c.setAttribute("disabled","true"):c.classList.add(D.MARKER_STYLE_CLASSES._DISABLED));var p=h.querySelectorAll("[data-oj-command=oj-table-resize]");p.length>0&&(p=p[0],o&&o.getAttribute("data-oj-resizable")===D._OPTION_ENABLED?"OJ-OPTION"===p.nodeName?p.removeAttribute("disabled"):p.classList.remove(D.MARKER_STYLE_CLASSES._DISABLED):"OJ-OPTION"===p.nodeName?p.setAttribute("disabled","true"):p.classList.add(D.MARKER_STYLE_CLASSES._DISABLED)),this._OpenContextMenu(t,i,n)}},D.prototype._setOptions=function(e,t){for(var i=!1,n=!1,o=!1,s=Object.keys(e),a=0;a<s.length;a++){var r=s[a],l=e[r];this._isTableRefreshNeeded(r,l,t)&&("columns"===r?(this._columnsDestMap=null,o=!0):"selectionMode"===r&&void 0!==l.row?o=!0:"data"===r&&(n=!0),i=!0)}this._superApply(arguments),i&&(o&&(this._clearCachedMetadata(),this._refreshTableHeader()),n&&this._beforeDataRefresh(),this._refresh())},D.prototype._setOption=function(e,t,i){"selection"===e?(this._selectionSet=!0,this._syncRangeSelection(t),this._superApply(arguments),this._validateInitialSelectionState(!0)):"selected"===e?(this._selectionSet=!1,this._superApply(arguments),this._validateInitialSelectionState(!0)):"currentRow"===e?(this._queueTask(function(){this._setCurrentRow(t,null,!0)}.bind(this)).catch((function(){})),this._superApply(arguments)):"scrollPosition"===e?(this._queueTask(function(){this._syncScrollPosition(t)}.bind(this)),this._superApply(arguments)):"editRow"===e?this._setEditRow(t):"scrollPolicyOptions"===e&&null!=i?(this._superApply(arguments),this._isStickyLayoutEnabled()&&("scrollerOffsetTop"===i.subkey?(this._styleTableContainer(this._getTableContainer()),this._getLayoutManager()._updateStickyRowTops()):"scrollerOffsetBottom"===i.subkey?this._styleTableContainer(this._getTableContainer()):"scrollerOffsetStart"!==i.subkey&&"scrollerOffsetEnd"!==i.subkey||this._getLayoutManager()._initializeFrozenColumns())):"addRowDisplay"===e?(this._queueTask(function(){return this._refreshAddRowDisplay()}.bind(this)),this._superApply(arguments)):this._superApply(arguments)},D.prototype._CompareOptionValues=function(e,t,i){switch(e){case"columns":case"currentRow":return d.Object.compareValues(t,i);case"selection":return t&&void 0===t.inverted&&(t.inverted=!1),i&&void 0===i.inverted&&(i.inverted=!1),(!t||!i||t.inverted===i.inverted)&&d.Object.compareValues(t,i);case"selected":return(t.row&&i.row&&T.areKeySetsEqual(t.row,i.row)||null==t.row&&null==i.row)&&(t.column&&i.column&&T.areKeySetsEqual(t.column,i.column)||null==t.column&&null==i.column);default:return this._super(e,t,i)}},D.prototype._getTableDndContext=function(){return this._tableDndContext||(this._tableDndContext=new w(this)),this._tableDndContext},D.prototype._getLayoutManager=function(){return null==this._layoutManager&&(this._isStickyLayoutEnabled()?this._isFixedLayoutEnabled()?this._layoutManager=new B(this):this._layoutManager=new M(this):(this._layoutManager=new P(this),this._isFixedLayoutEnabled()&&S.error('The current theme does not support the layout="fixed" attribute setting of the <oj-table>.'))),this._layoutManager},D.prototype._clearLayoutManager=function(){null!=this._layoutManager&&this._layoutManager.unregisterListeners(),this._layoutManager=null},D.prototype._doSortHelper=function(e,t){const i=this._getColumnDefs(),n=this._getColumnIdxForColumnKey(e),o=this._getTableHeaderColumn(n);return n<i.length?this._getColumnDefs()[n].sortable===D._OPTION_ENABLED?null!=o&&c(o).data("sorted")===t?`Column is already sorted in ${t} order.`:(this._handleSortTableHeaderColumn(n,t===D._COLUMN_SORT_ORDER._ASCENDING,null),null):"Sort is not enabled for given header.":"Invalid header."},d.__registerWidget("oj.ojTable",c.oj.baseComponent,new D),C.setDefaultOptions({ojTable:{display:C.createDynamicPropertyGetter((function(){return E.getCachedCSSVarValues(["--oj-private-table-global-display-default"])[0]}))}})}.apply(t,n))||(e.exports=o)},2168:(e,t,i)=>{var n,o;n=[t,i(9793),i(6923)],o=function(e,t,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const n=function(e,t){var n={summary:e,detail:t,severity:i.SEVERITY_LEVEL.ERROR};this.Init(n)};n.prototype=new Error,t._registerLegacyNamespaceProp("ValidatorError",n),n.prototype.Init=function(e){var t=e.detail,i=e.summary;this._message=e,this.name="Validator Error",this.message=t||i},n.prototype.getMessage=function(){return this._message};const o=function(e,t){var n={summary:e,detail:t,severity:i.SEVERITY_LEVEL.ERROR};this.Init(n)};o.prototype=new Error,t._registerLegacyNamespaceProp("ConverterError",o),o.prototype.Init=function(e){var t=e.detail,i=e.summary;this._message=e,this.name="Converter Error",this.message=t||i},o.prototype.getMessage=function(){return this._message},e.ConverterError=o,e.ValidatorError=n,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n),void 0===o||(e.exports=o)},5819:(e,t,i)=>{var n,o;n=[i(9793),i(7516),i(7449),i(2168),i(5181)],void 0===(o=function(e,t,i,n,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const s=function(e){this.Init(e)};return e.Object.createSubclass(s,i,"oj.NumberRangeValidator"),s.prototype.Init=function(e){s.superclass.Init.call(this),e&&(this._min=e.min,this._max=e.max,this._converter=o.getConverterInstance(e.converter),this._hint=e.hint||{},this._customMessageSummary=e.messageSummary||{},this._customMessageDetail=e.messageDetail||{})},s.prototype.validate=function(e){var i,o,s=e?e.toString():e,a=parseFloat(s),r=this._customMessageSummary,l=this._customMessageDetail,_=l.rangeOverflow,u=l.rangeUnderflow,h=l.exact,d=r.rangeOverflow,c=r.rangeUnderflow,p=void 0!==this._min?parseFloat(this._min):null,S=void 0!==this._max?parseFloat(this._max):null,g="",m="",f=null,E=t;if(null!==e){if(null!==p&&null!==S){if(a>=p&&a<=S||p>S)return}else if(null!==p){if(a>=p)return}else if(null===S||a<=S)return;var C=(i=p&&this._converter?this._converter.format(p):p,o=S&&this._converter?this._converter.format(S):S,null!==S&&null!==p&&p===S?(f={value:e,num:o},m=h?E.applyParameters(h,f):E.getTranslatedString("oj-validator.range.number.messageDetail.exact",f),a>S?g=d||E.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"):a<p&&(g=d?c:E.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"))):null!==S&&a>S?(f={value:e,max:o},g=d||E.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"),m=_?E.applyParameters(_,f):E.getTranslatedString("oj-validator.range.number.messageDetail.rangeOverflow",f)):(f={value:e,min:i},g=c||E.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"),m=u?E.applyParameters(u,f):E.getTranslatedString("oj-validator.range.number.messageDetail.rangeUnderflow",f)),[g,m]);throw new n.ValidatorError(C[0],C[1])}},s.prototype.getHint=function(){var e,i,n,o=this._hint,s=o.inRange,a=o.exact,r=o.min,l=o.max,_=t,u=void 0!==this._min?parseFloat(this._min):null,h=void 0!==this._max?parseFloat(this._max):null;return e=u&&this._converter?this._converter.format(u):u,i=h&&this._converter?this._converter.format(h):h,n=null,null!==u&&null!==h?n=u!==h?s?_.applyParameters(s,{min:e,max:i}):_.getTranslatedString("oj-validator.range.number.hint.inRange",{min:e,max:i}):a?_.applyParameters(a,{num:e}):_.getTranslatedString("oj-validator.range.number.hint.exact",{num:e}):null!==u?n=r?_.applyParameters(r,{min:e}):_.getTranslatedString("oj-validator.range.number.hint.min",{min:e}):null!==h&&(n=l?_.applyParameters(l,{max:i}):_.getTranslatedString("oj-validator.range.number.hint.max",{max:i})),n},s}.apply(t,n))||(e.exports=o)},2936:(e,t,i)=>{var n,o;n=[i(9793),i(7516),i(7449),i(2168)],void 0===(o=function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const o=function(e){this.Init(e)};return e.Object.createSubclass(o,i,"oj.RegExpValidator"),o._BUNDLE_KEY_DETAIL="oj-validator.regExp.detail",o._BUNDLE_KEY_SUMMARY="oj-validator.regExp.summary",o.prototype.Init=function(e){o.superclass.Init.call(this),this._options=e},o.prototype.validate=function(e){var i,o,s,a=this._options&&this._options.pattern||"";if(null!=e&&""!==e){var r=e.toString(),l="^("+a+")$",_=r.match(l);if(null===_||_[0]!==r){this._options&&(s=this._options.messageSummary||null,i=this._options.messageDetail||null,o=this._options&&this._options.label||"");var u={label:o,pattern:a,value:r},h=s?t.applyParameters(s,u):t.getTranslatedString(this._getSummaryKey(),u),d=i?t.applyParameters(i,u):t.getTranslatedString(this._getDetailKey(),u);throw new n.ValidatorError(h,d)}}},o.prototype.getHint=function(){var e=null,i={};return this._options&&this._options.hint&&(i={pattern:this._options.pattern},e=t.applyParameters(this._options.hint,i)),e},o.prototype._getSummaryKey=function(){return o._BUNDLE_KEY_SUMMARY},o.prototype._getDetailKey=function(){return o._BUNDLE_KEY_DETAIL},o}.apply(t,n))||(e.exports=o)},8539:(e,t,i)=>{var n,o;n=[i(9793),i(7516),i(7449),i(2168)],void 0===(o=function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const o=function(e){this.Init(e)};return e.Object.createSubclass(o,i,"oj.RequiredValidator"),o._BUNDLE_KEY_DETAIL="oj-validator.required.detail",o._BUNDLE_KEY_SUMMARY="oj-validator.required.summary",o.prototype.Init=function(e){o.superclass.Init.call(this),this._options=e},o.prototype.validate=function(e){var i,o,s,a,r,l="";if(null==e||("string"==typeof e||e instanceof Array)&&0===e.length)throw this._options&&(i=this._options.messageDetail||this._options.message||null,a=this._options.messageSummary||null,l=this._options.label||""),r={label:l},s=a?t.applyParameters(a,r):t.getTranslatedString(this._getSummaryKey(),r),o=i?t.applyParameters(i,r):t.getTranslatedString(this._getDetailKey(),r),new n.ValidatorError(s,o)},o.prototype.getHint=function(){var e="";return this._options&&this._options.hint&&(e=t.getTranslatedString(this._options.hint)),e},o.prototype._getSummaryKey=function(){return o._BUNDLE_KEY_SUMMARY},o.prototype._getDetailKey=function(){return o._BUNDLE_KEY_DETAIL},o}.apply(t,n))||(e.exports=o)},7449:(e,t,i)=>{var n,o;n=[i(9793)],void 0===(o=function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const t=function(e){this.Init(e)};return e.Object.createSubclass(t,e.Object,"oj.Validator"),t.prototype.Init=function(e){t.superclass.Init.call(this)},t}.apply(t,n))||(e.exports=o)},4256:()=>{!function(e){var t,i=!!e.navigator.msPointerEnabled,n=!!e.navigator.pointerEnabled||!!e.PointerEvent;if(!!e.navigator.maxTouchPoints>0&&(i||n&&!e.TouchEvent)){var o,s=e.document,a=n?"pointerdown":"MSPointerDown",r=n?"pointerup":"MSPointerUp",l=n?"pointermove":"MSPointerMove",_=n?"pointercancel":"MSPointerCancel",u=n?"touch":MSPointerEvent.MSPOINTER_TYPE_TOUCH,h=n?"mouse":MSPointerEvent.MSPOINTER_TYPE_MOUSE,d=(n||MSPointerEvent.MSPOINTER_TYPE_PEN,"MSGestureStart"),c="MSGestureChange",p="MSGestureEnd",S=n?"touchAction":"msTouchAction",g=180/Math.PI,m=e.Touchr_ALLOWED_POINTER_TYPE||1,f=function(e,t,i){var n,o=s.createEvent("Event");for(n in o.initEvent(e,!0,!0),i)o[n]=i[n];t.dispatchEvent(o)},E=function(){var e=Math.pow(2,32)-1,t=Object.prototype.hasOwnProperty;function i(e){return e>>>0}return function(n){var o=0;return(n=n||{}).length={get:function(){var n=+function(n){var o,s=-1;for(o in n)String(i(o))===o&&i(o)!==e&&t.call(n,o)&&o>s&&(s=o);return s}(this);return Math.max(o,n+1)},set:function(e){var t=i(e);if(t!==+e)throw new RangeError;for(var n=t,s=this.length;n<s;n++)delete this[n];o=t}},n.toString={value:Array.prototype.join},Object.create(Array.prototype,n)}}(),C=(t={identifiedTouch:{value:function(e){for(var t=this.length;t--;)if(this[t].identifier===e)return this[t]}},item:{value:function(e){return this[e]}},_touchIndex:{value:function(e){for(var t=this.length;t--;)if(this[t].pointerId==e.pointerId)return t;return-1}},_addAll:{value:function(e){for(var t=0,i=e.length;t<i;t++)this._add(e[t])}},_add:{value:function(e){var t=this._touchIndex(e);t=t<0?this.length:t,e.type=l,e.identifier=e.pointerId,e.force=e.pressure,e.radiusX=e.radiusY=1,e.rotationAngle=0,this[t]=e}},_remove:{value:function(e){var t=this._touchIndex(e);t>=0&&this.splice(t,1)}}},function(){var e=E(t);return 1===arguments.length?e.length=arguments[0]:e.push.apply(e,arguments),e}),T={},y=e.MSGesture?new MSGesture:null,b=1,A=0,v=[],R=function(e,t){return!!t&&(e===t||R(e,t.parentNode))},L=function(e){var t,i,n,d,c,p=e.target;if(((S=e.pointerType)==u?1:S==h?2:4)&m){var S;if(e.type===a&&(o._add(e),T[e.pointerId]=e.target,t="touchstart",y&&o.length>1))for(y.target=e.target,i=0;i<o.length;i++)o[i].pointerType===u&&y.addPointer(o[i].pointerId);for(e.type===l&&o.identifiedTouch(e.pointerId)&&(o._add(e),t="touchmove"),d=s.createTouchList(e),c=s.createTouchList(),i=0;i<o.length;i++)R(p,T[o[i].identifier])&&c._add(o[i]);n=T[e.pointerId],e.type!==r&&e.type!==_||(o._remove(e),T[e.pointerId]=null,delete T[e.pointerId],t="touchend",y&&o.length<=1&&y.stop()),t&&n&&f(t,n,{touches:o,changedTouches:d,targetTouches:c})}},O=function(e){var t,i,n;e.type===d?t="gesturestart":e.type===c?t="gesturechange":e.type===p&&(t="gestureend"),e.type===d?(i=b=1,n=A=0):(i=b+=e.scale-1,n=A+=e.rotation*g),f(t,e.target,{scale:i,rotation:n,screenX:e.screenX,screenY:e.screenY})},I=function(e){var t=D,i=N,n=e.prototype.addEventListener,o=e.prototype.removeEventListener;e.prototype.addEventListener=function(e,i,o){0!==e.indexOf("gesture")&&0!==e.indexOf("touch")||t.call(this,e,i,o),n.call(this,e,i,o)},e.prototype.removeEventListener=function(e,t,n){0!==e.indexOf("gesture")&&0!==e.indexOf("touch")||i.call(this,e,t,n),o.call(this,e,t,n)}},D=function(e,t,i){var n=9==this.nodeType?this:this.ownerDocument;v.indexOf(n)<0&&(v.push(n),n.addEventListener(a,L,i),n.addEventListener(l,L,i),n.addEventListener(r,L,i),n.addEventListener(_,L,i),n.addEventListener(d,O,i),n.addEventListener(c,O,i),n.addEventListener(p,O,i)),"touchmove"!==e||!this.style||void 0!==this.style[S]&&this.style[S]||(this._touchActionUpdated=!0,this.style[S]="none",this.hasAttribute("draggable")||w(this))},w=function(e){var t,i,n,o,_,u,h,d=[];n=function(t){var i,o;return null==t?null:(i=t._cachedClientHeight||t.clientHeight,o=t._cachedScrollHeight||t.scrollHeight,t._cachedClientHeight=i,t._cachedScrollHeight=o,-1===d.indexOf(t)&&d.push(t),!isNaN(i)&&!isNaN(o)&&Math.abs(o-i)>1?t==s.documentElement?s.body:t:e!=t?n(t.parentNode):null)},o=function(){for(var e=0;e<d.length;e++)d[e]._cachedClientHeight=null,d[e]._cachedScrollHeight=null;d.length=0},_=function(e){"touch"===e.pointerType&&(o(),t=e.clientY,(i=n(e.target))&&e.stopPropagation())},u=function(e){var o,a,r;if("touch"===event.pointerType){if(null!=t&&i&&(o=i.scrollTop,a=t-event.clientY,i.scrollTop=o+a,a>=1&&o==i.scrollTop))for(r=n(i.parentNode);r&&(o=r.scrollTop,r.scrollTop=o+a,r!==s.body&&r.scrollTop==o);)r=n(r.parentNode);t=event.clientY}},h=function(e){o(),t=void 0},e.addEventListener(a,_),e.addEventListener(l,u),e.addEventListener(r,h),e._pointerHandlers=[_,u,h]},N=function(e,t,i){var n;"touchmove"===e&&(this._touchActionUpdated&&delete this.style[S],(n=this)._pointerHandlers&&(n.removeEventListener(a,n._pointerHandlers[0]),n.removeEventListener(l,n._pointerHandlers[1]),n.removeEventListener(r,n._pointerHandlers[2]),n._pointerHandlers=void 0))};s.createTouchList=function(e){var t=new C;return e&&(e.length?t._addAll(e):t._add(e)),t},s.createTouch=function(e,t,i,n,o,s,a){return{identifier:i,screenX:s,screenY:a,pageX:n,pageY:o,target:t}},e.ontouchstart||(e.ontouchstart=1),o=s.createTouchList(),I(HTMLElement),I(Document)}}(window)},7551:e=>{e.exports={supplemental:{defaultRegion:{ar:"001",as:"IN",be:"BY",bg:"BG",bn:"BD",bo:"CN",brx:"IN",bs:"BA",ca:"ES",cs:"CZ",da:"DK",de:"DE",el:"GR",en:"US",es:"ES",et:"EE",fi:"FI",fr:"FR",ga:"IE",gu:"IN",he:"IL",hi:"IN",hr:"HR",hu:"HU",id:"ID",is:"IS",it:"IT",ja:"JP",kn:"IN",ko:"KR",kok:"IN",ks:"IN","ks-Arab":"IN",lt:"LT",lv:"LV",mk:"MK",ml:"IN",mr:"IN",ms:"MY",mt:"MT",nb:"NO",ne:"NP",nl:"NL",nn:"NO",no:"NO",or:"IN",pa:"IN","pa-Guru":"IN","pa-Arab":"PK",pl:"PL",pt:"BR",ro:"RO",ru:"RU",sk:"SK",sl:"SI",sq:"AL",sr:"RS","sr-Cyrl":"RS","sr-Latn":"RS",sv:"SE",ta:"IN",te:"IN",th:"TH",tr:"TR",uk:"UA",ur:"PK",vi:"VN",zh:"CN","zh-Hans":"CN","zh-Hant":"TW"},weekData:{firstDay:{"001":1,AE:6,BH:6,BR:0,DZ:6,EG:6,IQ:6,JO:6,KW:6,LB:1,LY:6,MA:6,OM:6,QA:6,SA:0,SD:6,SY:6,TN:0,YE:0,BY:1,BG:1,ES:1,CZ:1,DK:1,AT:1,CH:1,DE:1,LU:1,CY:1,GR:1,AU:0,CA:0,GB:1,IE:0,IN:0,MT:0,NZ:0,PH:0,SG:0,US:0,ZA:0,AR:0,CL:1,CO:0,CR:1,DO:0,EC:1,GT:0,HN:0,MX:0,NI:0,PA:0,PE:0,PR:0,PY:0,SV:0,UY:1,VE:0,EE:1,FI:1,BE:1,FR:1,IL:0,HR:1,HU:1,ID:0,IS:1,IT:1,JP:0,KR:0,LT:1,LV:1,MK:1,MY:1,NO:1,NL:1,PL:1,PT:1,RO:1,RU:1,SK:1,SI:1,AL:1,BA:1,ME:1,RS:1,SE:1,TH:0,TR:1,UA:1,VN:1,CN:0,HK:0,MO:0,TW:0},weekendStart:{"001":6,AE:5,BH:5,DZ:5,EG:5,IQ:5,JO:5,KW:5,LY:5,MA:5,OM:5,QA:5,SA:5,SD:5,SY:5,TN:5,YE:5,IN:0,IL:5},weekendEnd:{"001":0,AE:6,BH:6,DZ:6,EG:6,IQ:6,JO:6,KW:6,LY:6,MA:6,OM:6,QA:6,SA:6,SD:6,SY:6,TN:6,YE:6,IL:6}},prefferedHours:{"001":"H",AE:"h",BH:"h",DZ:"h",EG:"h",IQ:"h",JO:"h",KW:"h",LB:"h",LY:"h",MA:"H",OM:"h",QA:"h",SA:"h",SD:"h",SY:"h",TN:"h",YE:"h",BG:"H",ES:"H",CZ:"H",DK:"H",AT:"H",CH:"H",DE:"H",LU:"H",CY:"h",GR:"h",AU:"h",CA:"h",GB:"H",IE:"H",IN:"h",NZ:"h",PH:"h",SG:"h",US:"h",ZA:"h",AR:"H",BO:"H",CL:"H",CO:"h",CR:"H",CU:"H",DO:"h",EC:"H",GT:"H",HN:"H",MX:"H",NI:"H",PA:"h",PE:"H",PR:"h",SV:"H",UY:"H",VE:"h",EE:"H",FI:"H",BE:"H",FR:"H",IL:"H",HR:"H",ID:"H",IS:"H",IT:"H",JP:"H",KR:"h",LT:"H",LV:"H",MK:"H",MY:"h",NL:"H",PT:"H",RO:"H",RU:"H",SK:"H",SI:"H",AL:"h",BA:"H",ME:"H",RS:"H",SE:"H",TR:"H",UA:"H",CN:"h",HK:"h",MO:"h",TW:"h"},currencyData:{fractions:{IDR:{_digits:"2"},JPY:{_digits:"0"},KRW:{_digits:"0"},AFN:{_digits:"0"},ADP:{_digits:"0"},BHD:{_digits:"3"},BYR:{_digits:"0"},BIF:{_digits:"0"},XOF:{_digits:"0"},XAF:{_digits:"0"},XPF:{_digits:"0"},CLP:{_digits:"0"},KMF:{_digits:"0"},DJF:{_digits:"0"},STD:{_digits:"0"},PYG:{_digits:"0"},GNF:{_digits:"0"},ISK:{_digits:"0"},IQD:{_digits:"0"},ITL:{_digits:"0"},LAK:{_digits:"0"},KWD:{_digits:"3"},MMK:{_digits:"0"},LBP:{_digits:"0"},ALL:{_digits:"0"},SLL:{_digits:"0"},LUF:{_digits:"0"},LYD:{_digits:"3"},MGF:{_digits:"0"},TMM:{_digits:"0"},KPW:{_digits:"0"},MRO:{_digits:"0"},RWF:{_digits:"0"},RSD:{_digits:"0"},SOS:{_digits:"0"},ESP:{_digits:"0"},SYP:{_digits:"0"},TND:{_digits:"3"},TRL:{_digits:"0"},UYW:{_digits:"4"},CLF:{_digits:"4"},UYI:{_digits:"0"},VUV:{_digits:"0"},YER:{_digits:"0"},ZMK:{_digits:"0"},ZWD:{_digits:"0"},VND:{_digits:"0"}}}},_ojLocale_:"en-US",main:{en:{identity:{version:{_cldrVersion:"38"},language:"en"},numbers:{defaultNumberingSystem:"latn",otherNumberingSystems:{native:"latn"},"symbols-numberSystem-latn":{decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",perMille:"‰",infinity:"∞",nan:"NaN"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###",long:{decimalFormat:{"1000-count-one":"0 thousand","1000-count-other":"0 thousand","10000-count-one":"00 thousand","10000-count-other":"00 thousand","100000-count-one":"000 thousand","100000-count-other":"000 thousand","1000000-count-one":"0 million","1000000-count-other":"0 million","10000000-count-one":"00 million","10000000-count-other":"00 million","100000000-count-one":"000 million","100000000-count-other":"000 million","1000000000-count-one":"0 billion","1000000000-count-other":"0 billion","10000000000-count-one":"00 billion","10000000000-count-other":"00 billion","100000000000-count-one":"000 billion","100000000000-count-other":"000 billion","1000000000000-count-one":"0 trillion","1000000000000-count-other":"0 trillion","10000000000000-count-one":"00 trillion","10000000000000-count-other":"00 trillion","100000000000000-count-one":"000 trillion","100000000000000-count-other":"000 trillion"}},short:{decimalFormat:{"1000-count-one":"0K","1000-count-other":"0K","10000-count-one":"00K","10000-count-other":"00K","100000-count-one":"000K","100000-count-other":"000K","1000000-count-one":"0M","1000000-count-other":"0M","10000000-count-one":"00M","10000000-count-other":"00M","100000000-count-one":"000M","100000000-count-other":"000M","1000000000-count-one":"0B","1000000000-count-other":"0B","10000000000-count-one":"00B","10000000000-count-other":"00B","100000000000-count-one":"000B","100000000000-count-other":"000B","1000000000000-count-one":"0T","1000000000000-count-other":"0T","10000000000000-count-one":"00T","10000000000000-count-other":"00T","100000000000000-count-one":"000T","100000000000000-count-other":"000T"}}},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"¤#,##0.00","unitPattern-count-one":"{0} {1}","unitPattern-count-other":"{0} {1}"},currencies:{AUD:{displayName:"Australian Dollar",symbol:"A$"},BRL:{displayName:"Brazilian Real",symbol:"R$"},CAD:{displayName:"Canadian Dollar",symbol:"CA$"},CHF:{displayName:"Swiss Franc",symbol:"CHF"},CNY:{displayName:"Chinese Yuan",symbol:"CN¥"},CZK:{displayName:"Czech Koruna",symbol:"CZK"},DKK:{displayName:"Danish Krone",symbol:"DKK"},EUR:{displayName:"Euro",symbol:"€"},GBP:{displayName:"British Pound",symbol:"£"},HKD:{displayName:"Hong Kong Dollar",symbol:"HK$"},HUF:{displayName:"Hungarian Forint",symbol:"HUF"},IDR:{displayName:"Indonesian Rupiah",symbol:"IDR"},INR:{displayName:"Indian Rupee",symbol:"₹"},JPY:{displayName:"Japanese Yen",symbol:"¥"},KRW:{displayName:"South Korean Won",symbol:"₩"},MXN:{displayName:"Mexican Peso",symbol:"MX$"},NOK:{displayName:"Norwegian Krone",symbol:"NOK"},PLN:{displayName:"Polish Zloty",symbol:"PLN"},RUB:{displayName:"Russian Ruble",symbol:"RUB"},SAR:{displayName:"Saudi Riyal",symbol:"SAR"},SEK:{displayName:"Swedish Krona",symbol:"SEK"},THB:{displayName:"Thai Baht",symbol:"THB"},TRY:{displayName:"Turkish Lira",symbol:"TRY"},TWD:{displayName:"New Taiwan Dollar",symbol:"NT$"},USD:{displayName:"US Dollar",symbol:"$"},ZAR:{displayName:"South African Rand",symbol:"ZAR"}}},units:{narrow:{"digital-terabyte":{"unitPattern-count-one":"{0}TB","unitPattern-count-other":"{0}TB"},"digital-terabit":{"unitPattern-count-one":"{0}Tb","unitPattern-count-other":"{0}Tb"},"digital-gigabyte":{"unitPattern-count-one":"{0}GB","unitPattern-count-other":"{0}GB"},"digital-gigabit":{"unitPattern-count-one":"{0}Gb","unitPattern-count-other":"{0}Gb"},"digital-megabyte":{"unitPattern-count-one":"{0}MB","unitPattern-count-other":"{0}MB"},"digital-megabit":{"unitPattern-count-one":"{0}Mb","unitPattern-count-other":"{0}Mb"},"digital-kilobyte":{"unitPattern-count-one":"{0}kB","unitPattern-count-other":"{0}kB"},"digital-kilobit":{"unitPattern-count-one":"{0}kb","unitPattern-count-other":"{0}kb"},"digital-byte":{"unitPattern-count-one":"{0}B","unitPattern-count-other":"{0}B"},"digital-bit":{"unitPattern-count-one":"{0}bit","unitPattern-count-other":"{0}bit"}}}},"en-US":{identity:{version:{_cldrVersion:"38"},language:"en",territory:"US"},numbers:{defaultNumberingSystem:"latn",otherNumberingSystems:{native:"latn"},"symbols-numberSystem-latn":{decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",perMille:"‰",infinity:"∞",nan:"NaN"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###",long:{decimalFormat:{"1000-count-one":"0 thousand","1000-count-other":"0 thousand","10000-count-one":"00 thousand","10000-count-other":"00 thousand","100000-count-one":"000 thousand","100000-count-other":"000 thousand","1000000-count-one":"0 million","1000000-count-other":"0 million","10000000-count-one":"00 million","10000000-count-other":"00 million","100000000-count-one":"000 million","100000000-count-other":"000 million","1000000000-count-one":"0 billion","1000000000-count-other":"0 billion","10000000000-count-one":"00 billion","10000000000-count-other":"00 billion","100000000000-count-one":"000 billion","100000000000-count-other":"000 billion","1000000000000-count-one":"0 trillion","1000000000000-count-other":"0 trillion","10000000000000-count-one":"00 trillion","10000000000000-count-other":"00 trillion","100000000000000-count-one":"000 trillion","100000000000000-count-other":"000 trillion"}},short:{decimalFormat:{"1000-count-one":"0K","1000-count-other":"0K","10000-count-one":"00K","10000-count-other":"00K","100000-count-one":"000K","100000-count-other":"000K","1000000-count-one":"0M","1000000-count-other":"0M","10000000-count-one":"00M","10000000-count-other":"00M","100000000-count-one":"000M","100000000-count-other":"000M","1000000000-count-one":"0B","1000000000-count-other":"0B","10000000000-count-one":"00B","10000000000-count-other":"00B","100000000000-count-one":"000B","100000000000-count-other":"000B","1000000000000-count-one":"0T","1000000000000-count-other":"0T","10000000000000-count-one":"00T","10000000000000-count-other":"00T","100000000000000-count-one":"000T","100000000000000-count-other":"000T"}}},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"¤#,##0.00","unitPattern-count-one":"{0} {1}","unitPattern-count-other":"{0} {1}"},currencies:{AUD:{displayName:"Australian Dollar",symbol:"A$"},BRL:{displayName:"Brazilian Real",symbol:"R$"},CAD:{displayName:"Canadian Dollar",symbol:"CA$"},CHF:{displayName:"Swiss Franc",symbol:"CHF"},CNY:{displayName:"Chinese Yuan",symbol:"CN¥"},CZK:{displayName:"Czech Koruna",symbol:"CZK"},DKK:{displayName:"Danish Krone",symbol:"DKK"},EUR:{displayName:"Euro",symbol:"€"},GBP:{displayName:"British Pound",symbol:"£"},HKD:{displayName:"Hong Kong Dollar",symbol:"HK$"},HUF:{displayName:"Hungarian Forint",symbol:"HUF"},IDR:{displayName:"Indonesian Rupiah",symbol:"IDR"},INR:{displayName:"Indian Rupee",symbol:"₹"},JPY:{displayName:"Japanese Yen",symbol:"¥"},KRW:{displayName:"South Korean Won",symbol:"₩"},MXN:{displayName:"Mexican Peso",symbol:"MX$"},NOK:{displayName:"Norwegian Krone",symbol:"NOK"},PLN:{displayName:"Polish Zloty",symbol:"PLN"},RUB:{displayName:"Russian Ruble",symbol:"RUB"},SAR:{displayName:"Saudi Riyal",symbol:"SAR"},SEK:{displayName:"Swedish Krona",symbol:"SEK"},THB:{displayName:"Thai Baht",symbol:"THB"},TRY:{displayName:"Turkish Lira",symbol:"TRY"},TWD:{displayName:"New Taiwan Dollar",symbol:"NT$"},USD:{displayName:"US Dollar",symbol:"$"},ZAR:{displayName:"South African Rand",symbol:"ZAR"}}},units:{narrow:{"digital-terabyte":{"unitPattern-count-one":"{0}TB","unitPattern-count-other":"{0}TB"},"digital-terabit":{"unitPattern-count-one":"{0}Tb","unitPattern-count-other":"{0}Tb"},"digital-gigabyte":{"unitPattern-count-one":"{0}GB","unitPattern-count-other":"{0}GB"},"digital-gigabit":{"unitPattern-count-one":"{0}Gb","unitPattern-count-other":"{0}Gb"},"digital-megabyte":{"unitPattern-count-one":"{0}MB","unitPattern-count-other":"{0}MB"},"digital-megabit":{"unitPattern-count-one":"{0}Mb","unitPattern-count-other":"{0}Mb"},"digital-kilobyte":{"unitPattern-count-one":"{0}kB","unitPattern-count-other":"{0}kB"},"digital-kilobit":{"unitPattern-count-one":"{0}kb","unitPattern-count-other":"{0}kb"},"digital-byte":{"unitPattern-count-one":"{0}B","unitPattern-count-other":"{0}B"},"digital-bit":{"unitPattern-count-one":"{0}bit","unitPattern-count-other":"{0}bit"}}}}}}}}]);
//# sourceMappingURL=567.a6c3bed45c8e419583af.js.map