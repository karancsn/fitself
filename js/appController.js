define(["require","exports","knockout","ojs/ojcorerouter","ojs/ojmodulerouter-adapter","ojs/ojknockoutrouteradapter","ojs/ojurlparamadapter","ojs/ojarraydataprovider","ojs/ojknockouttemplateutils","ojs/ojoffcanvas","ojs/ojcontext","ojs/ojknockout","ojs/ojmodule-element"],(function(require,t,e,a,o,n,s,r,i,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class c{constructor({pageTitle:t,toggleDrawer:e,adjustContentPadding:a}){this.pageTitle=t,this.toggleDrawer=e,this.adjustContentPadding=a}transitionCompleted(){return this.adjustContentPadding(),null}}t.default=new class{constructor(){this.announcementHandler=t=>{this.waitForAnnouncement=!0,this.message(t.detail.message),this.manner(t.detail.manner),this.navDrawerOn||(this.waitForAnnouncement=!1)},this.toggleDrawer=()=>(this.navDrawerOn=!0,l.toggle({selector:"#navDrawer",modality:"modal",content:"#pageContent"})),this.KnockoutTemplateUtils=i,this.manner=e.observable("polite"),this.message=e.observable(),this.waitForAnnouncement=!1,this.navDrawerOn=!1,document.getElementById("globalBody").addEventListener("announce",this.announcementHandler,!1),this.productCatalogue=e.observableArray(),this.cartData=e.observableArray(),this.effectiveDate=e.observable();const t=[{path:"",redirect:"order"},{path:"cart",detail:{label:"Checkout",effectiveDate:this.effectiveDate,cartData:this.cartData}},{path:"order",detail:{label:"Order",effectiveDate:this.effectiveDate,prodData:this.productCatalogue,cartData:this.cartData}},{path:"about",detail:{label:"About"}}],c=new a(t,{history:"skip",urlAdapter:new s});c.sync(),this.moduleAdapter=new o(c),this.selection=new n(c),this.navDataProvider=new r(t.slice(2),{keyAttributes:"path"}),d.getPageContext().getBusyContext().applicationBootstrapComplete()}getHeaderModel(){let t=this.selection.state().detail.label,e=this.toggleDrawer,a=this.adjustContentPadding;return new c({pageTitle:t,toggleDrawer:e,adjustContentPadding:a})}adjustContentPadding(){let t=document.getElementsByClassName("oj-applayout-fixed-top")[0],e=document.getElementsByClassName("oj-applayout-content")[0],a=document.getElementsByClassName("oj-applayout-fixed-bottom")[0];t&&(e.style.paddingTop=`${t.offsetHeight}px`),a&&(e.style.paddingBottom=`${a.offsetHeight}px`),e.classList.add("oj-complete")}}}));